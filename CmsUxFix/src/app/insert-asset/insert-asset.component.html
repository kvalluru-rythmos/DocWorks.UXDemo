<div fxLayout="column" ngClass="insert-dialog-wrapper" fxFlexFill>
  <mat-toolbar color="primary">
    <h2 fxFlex>{{assetType===constAssetType.image?'Insert Image':'Insert Code'}}</h2>
    <button mat-button mat-dialog-close>
      <i class="mdi mdi-close mdi-24px"></i>
    </button>
  </mat-toolbar>
  <mat-dialog-content mat-dialog-content fxLayout="column" fxLayoutAlign="start stretch" fxFlex="100" fxFlexFill>
    <div fxLayout="row" fxFlex="50px" fxLayoutAlign="space-between stretch">
      <mat-tab-group fxFlexAlign="end" (selectedTabChange)="filterAsset($event)">
        <mat-tab label="Recently Uploaded"></mat-tab>
        <mat-tab label="Uploaded by me"></mat-tab>
      </mat-tab-group>
      <div ngClass="inner-page-search-wrapper" fxFlex="500px" fxFlexAlign="center">
        <div fxFlex fxLayoutAlign="stretch center" fxLayoutGap="5px">
          <div fxFlex>
            <button mat-raised-button [matMenuTriggerFor]="menu">{{filterType==1?'Asset Id':'Asset Text'}}
              <i class="mdi mdi-menu-down"></i>
            </button>
            <mat-menu #menu="matMenu" xPosition="before" yPosition="below" [overlapTrigger]="false">
              <button mat-menu-item (click)="filterType=1">Asset Id</button>
              <button mat-menu-item (click)="filterType=2">Asset Text</button>
            </mat-menu>

            <input type="Search" ngClass="form-control" fxFlex [formControl]="searchText" maxlength="100">
          </div>
          <button mat-raised-button>
            <i class="mdi mdi-magnify mdi-24px" (click)="searchAsset()"></i>
          </button>
        </div>
      </div>
    </div>

    <div ngClass="content-body" fxLayout="row" fxLayoutAlign="start stretch" fxLayoutGap="10px" fxFlexFill>
      <div ngClass="content-body-left" fxLayout="column" fxLayoutAlign="start stretch" fxFlex="50">
        <div fxLayoutAlign="start stretch" fxFlex>
          <app-dam-drag-and-drop [viewType]="dragDropComponentViewType.uploadView" [assetData]="assetArray" (onScroll)="scrolldown($event)"
            (onFileSelect)="upsertAsset($event)" (getAsset)="getAssetProperties($event)" [assetType]="assetType" [isDataLoading]="isLoading"
            [selectedAssetId]="selectedAssetId" [isAssetAdded]="isAssetAdded" fxFlex [(isAssetUploading)]="isAssetUploadInProgress"></app-dam-drag-and-drop>
        </div>
      </div>
      <div ngClass="content-body-right" fxLayout="column" fxLayoutAlign="start stretch" fxFlex="50">

        <div fxFlex>
          <app-dam-drag-and-drop [viewType]="dragDropComponentViewType.replaceView" [assetData]="assetDetail" (onScroll)="scrolldown($event)"
            (onFileSelect)="upsertAsset($event)" [isDataLoading]="isAssetDetailLoading" [assetType]="assetType" [selectedAssetId]="selectedAssetId"
            [(isAssetUploading)]="isAssetReplaceInProgress" [isAssetAdded]="false"></app-dam-drag-and-drop>
        </div>
        <div ngClass="media-preview-header" fxLayout="row" fxLayoutAlign="space-between center" fxFlex="50px">
          <mat-tab-group>
            <mat-tab label="FILE INFORMATION"></mat-tab>
            <mat-tab label="HISTORY"></mat-tab>
          </mat-tab-group>
          <div fxLayout="row" fxLayoutGap="20px" fxLayoutAlign="start center">
            <a href="{{assetDetail.assetContent}}" target="_blank" *ngIf="(assetDetail.assetType ?assetDetail.assetType.toString():'') === constAssetType.image.toString()">
              <span>View Full Size Image</span>
            </a>
            <button mat-raised-button color="primary" *ngIf="assetDetail && assetDetail.assetId">
              <div fxLayout="row" fxLayoutGap="3px" fxLayoutAlign="start center" (click)="(isAssetDetailLoading || isUpdateInProgress)?'':updateAssetData()">
                <i class="mdi mdi-pencil mdi-18px"></i>
                <span>{{isEditProperties?'Update':'Edit'}}</span>
              </div>
            </button>
          </div>
        </div>
        <app-asset-properties fxLayout="column" fxFlex="100" [assetDetail]="assetDetail" [isUpdateInProgress]="isUpdateInProgress"
          [isDataLoading]="isAssetDetailLoading" [isEditProperties]="isEditProperties" [(isAssetReplaceInProgress)]="isAssetReplaceInProgress"></app-asset-properties>

        <div ngClass="media-preview-bottom" fxLayout="row" fxLayoutAlign="space-between end" fxLayoutGap="30px" fxFlex="45px">
          <input type="text" [formControl]="copyToClipboardControl" maxlength="100" ngClass="form-control" [(ngModel)]="copyToClipboardText"
            fxFlex>
          <button mat-raised-button color="primary" (click)="copyToClipboardText?copyToClipboard(copyToClipboardText):''">
            <i class="mdi mdi-content-copy"></i>{{isValueCopied?'Copied':'Copy to Clipboard'}}</button>
        </div>
      </div>
    </div>
  </mat-dialog-content>
</div>