(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	var module = __webpack_require__(id);
	return module;
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/add-glossary/add-glossary.component.html":
/*!**********************************************************!*\
  !*** ./src/app/add-glossary/add-glossary.component.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\"> \r\n\t<mat-toolbar color=\"primary\">\r\n\t\t<h3 fxFlex>Add Term</h3>\r\n\t\t<button mat-button mat-dialog-close>\r\n\t\t  <i class=\"mdi mdi-close mdi-24px\"></i>\r\n\t\t</button>\r\n\t</mat-toolbar>\r\n  \t<mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n    \t<form fxLayout=\"column\" fxLayoutAlign=\"start stretch\"  [formGroup]=\"addGlossaryForm\">\r\n    \t\t<div fxLayout=\"row\" fxLayoutAlign=\"stretch start\" fxLayoutGap=\"20px\">\r\n    \t\t\t<mat-form-field fxFlex>\r\n\t\t\t\t    <input matInput placeholder=\"Term Name\" [formControl]=\"termName\">\t\t\t\t    \r\n\t\t\t\t    <mat-error *ngIf=\"termName.hasError('required')\">Please enter term name</mat-error>\r\n\t\t\t\t</mat-form-field>\r\n\t\t\t\t<mat-form-field fxFlex>\r\n\t\t\t\t\t<mat-select placeholder=\"Select Type\" [formControl]=\"termType\">\r\n\t\t\t\t\t    <mat-option *ngFor=\"let termType of termTypes\" value=\"termType\">\r\n\t\t\t\t\t      {{ termType }}\r\n\t\t\t\t\t    </mat-option>\r\n\t\t\t\t\t</mat-select>\r\n\t\t\t\t</mat-form-field>\r\n    \t\t</div>\r\n    \t\t<mat-form-field class=\"example-full-width\">\r\n\t\t\t    <input matInput #termDesc maxlength=\"50\" placeholder=\"Short Description\"  [formControl]=\"shortDescription\">\r\n\t\t\t    <mat-hint align=\"end\">{{termDesc.value.length}} / 50</mat-hint>\r\n\t\t\t</mat-form-field>\r\n\t\t\t<mat-form-field class=\"example-full-width\">\r\n\t\t\t    <textarea matInput #termLongDesc maxlength=\"50\" placeholder=\"Long Description\" [formControl]=\"longDescription\"></textarea>\r\n\t\t\t    <mat-hint align=\"end\">{{termLongDesc.value.length}} / 150</mat-hint>\r\n\t\t\t</mat-form-field>\r\n\t\t\t<mat-form-field class=\"example-full-width\">\r\n\t\t\t    <input matInput placeholder=\"Style Guidance\" [formControl]=\"styleGuidance\">\r\n\t\t\t    <span matSuffix class=\"mdi mdi-information-outline mdi-18px\"></span>\r\n\t\t\t</mat-form-field>\r\n\t\t\t<div fxLayout=\"row\" fxLayoutAlign=\"start start\" fxLayoutGap=\"30px\">\r\n\t\t\t\t<div fxLayout=\"column\" fxLayoutAlign=\"start start\" fxFlex=\"150px\">\r\n\t\t\t\t\t<label>Forbidden</label>\r\n\t\t\t\t\t<mat-checkbox name=\"Forbidden\" [formControl]=\"forbiddenStatus\">{{forbiddenStatus.value?'Checked':'Check'}}</mat-checkbox>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n\t\t\t\t\t<label>Localize</label>\r\n\t\t\t\t\t<mat-slide-toggle name=\"Localize\" [formControl]=\"localisationStatus\"> {{localisationStatus.value?'On':'Off'}}</mat-slide-toggle>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div fxLayout=\"row\" fxFlexOffset=\"20px\" fxLayoutAlign=\"end\">\r\n\t\t\t\t<button mat-raised-button color=\"primary\">Save Changes</button>\r\n\t\t\t</div>\r\n    \t</form>\r\n\t</mat-dialog-content>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/add-glossary/add-glossary.component.ts":
/*!********************************************************!*\
  !*** ./src/app/add-glossary/add-glossary.component.ts ***!
  \********************************************************/
/*! exports provided: AddGlossaryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddGlossaryComponent", function() { return AddGlossaryComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};



var AddGlossaryComponent = (function () {
    function AddGlossaryComponent(dialogRef, formBuilder, data) {
        this.dialogRef = dialogRef;
        this.formBuilder = formBuilder;
        this.data = data;
        this.termName = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]);
        this.termType = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        this.shortDescription = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        this.longDescription = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        this.styleGuidance = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        this.forbiddenStatus = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false);
        this.localisationStatus = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false);
        this.termTypes = ['Type 1', 'Type 2', 'Type 3', 'Type 4'];
    }
    AddGlossaryComponent.prototype.ngOnInit = function () {
        this.createAddGlossaryForm();
    };
    AddGlossaryComponent.prototype.createAddGlossaryForm = function () {
        this.addGlossaryForm = this.formBuilder.group({
            termName: this.termName,
            termType: this.termType,
            shortDescription: this.shortDescription,
            longDescription: this.longDescription,
            styleGuidance: this.styleGuidance,
            forbiddenStatus: this.forbiddenStatus,
            localisationStatus: this.localisationStatus
        });
    };
    AddGlossaryComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-add-glossary',
            template: __webpack_require__(/*! ./add-glossary.component.html */ "./src/app/add-glossary/add-glossary.component.html")
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"], Object])
    ], AddGlossaryComponent);
    return AddGlossaryComponent;
}());



/***/ }),

/***/ "./src/app/add-node/add-node.component.html":
/*!**************************************************!*\
  !*** ./src/app/add-node/add-node.component.html ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>{{isFolder?'Add Folder':'Add Node'}}</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n    <form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" [formGroup]=\"nodeForm\">\r\n      <mat-form-field fxFlexFill fxFlexOffset=\"10px\">\r\n        <input matInput required placeholder=\"Title\" [formControl]=\"title\">\r\n        <small matSuffix>{{title.value?.length || 0}}/100</small>\r\n        <mat-error *ngIf=\"title.hasError('required')\">Title is required</mat-error>\r\n        <mat-error *ngIf=\"title.hasError('minlength')\">Please enter at least 5 characters.</mat-error>\r\n        <mat-error *ngIf=\"title.hasError('maxlength')\">Please enter maximum of 100 characters</mat-error>\r\n        <mat-error *ngIf=\"title.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field fxFlexFill fxFlexOffset=\"10px\">\r\n        <input matInput required placeholder=\"Short Title\" [formControl]=\"shortTitle\">\r\n        <small matSuffix>{{shortTitle.value?.length || 0}}/100</small>\r\n        <mat-error *ngIf=\"shortTitle.hasError('required')\">Short Title is required</mat-error>\r\n        <mat-error *ngIf=\"shortTitle.hasError('minlength')\">Please enter at least 5 characters.</mat-error>\r\n        <mat-error *ngIf=\"shortTitle.hasError('maxlength')\">Please enter maximum of 100 characters</mat-error>\r\n        <mat-error *ngIf=\"shortTitle.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n      </mat-form-field>\r\n      <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" [fxHide]=\"isFolder\">\r\n        <h3 ngClass=\"primary-text-color\" fxFlexFill>Select Draft Type</h3>\r\n        <mat-radio-group fxFlexFill fxFlexOffset=\"15px\" fxLayout=\"row\" fxLayoutGap=\"20px\" [formControl]=\"nodeType\">\r\n          <mat-radio-button value=\"2\">Blank</mat-radio-button>\r\n          <mat-radio-button value=\"4\">None</mat-radio-button>\r\n        </mat-radio-group>\r\n        <mat-form-field fxFlexFill fxFlexOffset=\"15px\" [fxHide]=\"nodeType.value!=nodeCreationType.Blank\">\r\n          <input matInput placeholder=\"Draft Name\" [formControl]=\"draftName\" [required]=\"nodeType.value==nodeCreationType.Blank\">\r\n        </mat-form-field>\r\n      </div>\r\n    </form>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions fxFlexFill fxLayoutAlign=\"end center\" [fxHide]=\"!isOperationAllowed([cmsOperations.AddNode])\">\r\n    <div fxLayout=\"row\" fxFlex fxLayoutAlign=\"end center\">\r\n      <button mat-raised-button color=\"primary\" [disabled]=\"!nodeForm.valid\" (click)=\"addNode(); nodeForm.reset();\">\r\n        {{isFolder?'Create Folder':'Create Node'}}\r\n      </button>\r\n    </div>\r\n  </mat-dialog-actions>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/add-node/add-node.component.ts":
/*!************************************************!*\
  !*** ./src/app/add-node/add-node.component.ts ***!
  \************************************************/
/*! exports provided: AddNodeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddNodeComponent", function() { return AddNodeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../treeview/treeview.service */ "./src/app/treeview/treeview.service.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/whitespace-validator */ "./src/app/common/whitespace-validator.ts");
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
/* harmony import */ var _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../distribution/distribution.service */ "./src/app/distribution/distribution.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};










var AddNodeComponent = (function (_super) {
    __extends(AddNodeComponent, _super);
    function AddNodeComponent(formBuilder, projectService, distributionService, injector, data, treeViewService, dialogRef) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_3__["pageTitleList"].addNode }) || this;
        _this.formBuilder = formBuilder;
        _this.projectService = projectService;
        _this.distributionService = distributionService;
        _this.injector = injector;
        _this.data = data;
        _this.treeViewService = treeViewService;
        _this.dialogRef = dialogRef;
        _this.nodeCreationType = _constants__WEBPACK_IMPORTED_MODULE_3__["NodeCreationType"];
        _this.title = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__["WhiteSpaceValidator"]]);
        _this.shortTitle = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__["WhiteSpaceValidator"]]);
        _this.existingDraft = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.draftName = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.nodeType = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.parentNodeId = undefined;
        _this.distributionId = undefined;
        _this.isFolder = false;
        _this.parentNodeId = data.parentNode ? data.parentNode.nodeId : undefined;
        _this.distributionId = data.distributionId;
        _this.isFolder = data.isFolder;
        _this.newNodeForm();
        return _this;
    }
    AddNodeComponent.prototype.ngOnInit = function () {
        if (this.isFolder) {
            this.nodeType.setValue(_constants__WEBPACK_IMPORTED_MODULE_3__["NodeCreationType"].None, { onlySelf: true });
        }
        else {
            this.nodeType.setValue(_constants__WEBPACK_IMPORTED_MODULE_3__["NodeCreationType"].Blank, { onlySelf: true });
        }
    };
    AddNodeComponent.prototype.newNodeForm = function () {
        this.nodeForm = this.formBuilder.group({
            shortTitle: this.shortTitle,
            title: this.title,
            nodeType: this.nodeType,
            draftName: this.draftName,
            existingDraft: this.existingDraft,
        });
    };
    AddNodeComponent.prototype.addNode = function () {
        var _this = this;
        var node = {
            parentId: this.parentNodeId,
            distributionId: this.distributionId,
            shortTitle: this.shortTitle.value,
            title: this.title.value,
            isFolder: this.isFolder,
            targetDraftName: this.nodeType.value === _constants__WEBPACK_IMPORTED_MODULE_3__["NodeCreationType"].Blank ? this.draftName.value : undefined,
            targetDraftType: this.isFolder ? 0 : (this.nodeType.value === _constants__WEBPACK_IMPORTED_MODULE_3__["NodeCreationType"].Blank ? _constants__WEBPACK_IMPORTED_MODULE_3__["DraftType"].WorkInProgress : undefined),
        };
        this.treeViewService.addNode(node).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].operation.addNode });
            var selectedProjectId = _this.projectService.getSelectedProject();
            var selectedDistributionId = _this.distributionService.getDistributionIdFromCache();
            var url = '/project/' + selectedProjectId + '/distribution/' + selectedDistributionId + '/document/{{targetNodeId}}';
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_6__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_3__["cmsOperation"].AddNode, _constants__WEBPACK_IMPORTED_MODULE_3__["eventStatus"].Wait, { nodeName: node.title }, url);
            _this.addOperationEvent(operation);
            _this.emitLocalEvent({ eventName: 'AddNodeEvent', value: node });
        });
        this.dialogRef.close();
    };
    AddNodeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-add-node',
            template: __webpack_require__(/*! ./add-node.component.html */ "./src/app/add-node/add-node.component.html"),
        }),
        __param(4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"], _project_project_service__WEBPACK_IMPORTED_MODULE_8__["ProjectService"], _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_9__["DistributionService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], Object, _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_5__["TreeViewService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"]])
    ], AddNodeComponent);
    return AddNodeComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_4__["BaseComponent"]));



/***/ }),

/***/ "./src/app/analytics/analytics.component.html":
/*!****************************************************!*\
  !*** ./src/app/analytics/analytics.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"row\" fxLayoutGap=\"10px\" class=\"analytics-wrapper\">\r\n  <div fxFlex=\"20%\" class=\"analytics-menu\">\r\n    <mat-accordion>\r\n      <mat-expansion-panel routerLinkActive #rla=\"routerLinkActive\" routerLink=\"/analytics\" [expanded]=\"rla.isActive\">\r\n        <mat-expansion-panel-header>\r\n          <mat-panel-title>\r\n              <i class=\"mdi mdi-chart-bar mdi-24px mr-10\"></i> Analytics\r\n          </mat-panel-title>\r\n        </mat-expansion-panel-header>\r\n        <div class=\"child-menu cursor-pointer\" routerLinkActive #rla=\"routerLinkActive\" routerLink=\"/analytics/metrics\" ngClass=\"{{rla.isActive?'active':''}}\">Metrics</div>\r\n        <div class=\"child-menu cursor-pointer\">Live Health</div>\r\n      </mat-expansion-panel>\r\n      <mat-expansion-panel>\r\n        <mat-expansion-panel-header>\r\n          <mat-panel-title>\r\n              <i class=\"mdi mdi-speedometer mdi-24px mr-10\"></i> Performance Reporting\r\n          </mat-panel-title>\r\n        </mat-expansion-panel-header>\r\n      </mat-expansion-panel>\r\n      <mat-expansion-panel>\r\n        <mat-expansion-panel-header>\r\n          <mat-panel-title>\r\n              <i class=\"mdi mdi-account mdi-24px mr-10\"></i> User Behaviour\r\n          </mat-panel-title>\r\n        </mat-expansion-panel-header>\r\n      </mat-expansion-panel>\r\n    </mat-accordion>\r\n  </div>\r\n  <div fxFlex=\"80%\">\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/analytics/analytics.component.ts":
/*!**************************************************!*\
  !*** ./src/app/analytics/analytics.component.ts ***!
  \**************************************************/
/*! exports provided: AnalyticsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnalyticsComponent", function() { return AnalyticsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AnalyticsComponent = (function () {
    function AnalyticsComponent() {
    }
    AnalyticsComponent.prototype.ngOnInit = function () {
    };
    AnalyticsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-analytics',
            template: __webpack_require__(/*! ./analytics.component.html */ "./src/app/analytics/analytics.component.html"),
        }),
        __metadata("design:paramtypes", [])
    ], AnalyticsComponent);
    return AnalyticsComponent;
}());



/***/ }),

/***/ "./src/app/analytics/analytics.service.ts":
/*!************************************************!*\
  !*** ./src/app/analytics/analytics.service.ts ***!
  \************************************************/
/*! exports provided: AnalyticsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnalyticsService", function() { return AnalyticsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AnalyticsService = (function () {
    function AnalyticsService(httpService) {
        this.httpService = httpService;
    }
    AnalyticsService.prototype.getServices = function () {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/StaticFields/Services')
            .toPromise().then(function (response) {
            return response.json();
        });
    };
    AnalyticsService.prototype.getEvents = function () {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/StaticFields/Events')
            .toPromise().then(function (response) {
            return response.json();
        });
    };
    AnalyticsService.prototype.getOperations = function () {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/StaticFields/Operations')
            .toPromise().then(function (response) {
            return response.json();
        });
    };
    AnalyticsService.prototype.getUserList = function () {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Users')
            .toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AnalyticsService.prototype.getAccessExecutionMetrics = function (value) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/getAccessExecutionMetrics', value)
            .toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AnalyticsService.prototype.getCacheMetrics = function (value) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/getCacheMetrics', value)
            .toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AnalyticsService.prototype.getSuccessFailureMetrics = function (value) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/getSuccessFailureMetrics', value)
            .toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AnalyticsService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"]])
    ], AnalyticsService);
    return AnalyticsService;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<router-outlet></router-outlet>\r\n\r\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/cdk/overlay */ "./node_modules/@angular/cdk/esm5/overlay.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var AppComponent = (function () {
    function AppComponent(overlayContainer) {
        this.title = 'docworks.frontend';
        overlayContainer.getContainerElement().classList.add('docworksLightTheme');
    }
    AppComponent.prototype.ngOnInit = function () {
    };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html")
        }),
        __metadata("design:paramtypes", [_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_1__["OverlayContainer"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModules, AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModules", function() { return AppModules; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! primeng/primeng */ "./node_modules/primeng/primeng.js");
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(primeng_primeng__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var primeng_colorpicker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primeng/colorpicker */ "./node_modules/primeng/colorpicker.js");
/* harmony import */ var primeng_colorpicker__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(primeng_colorpicker__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/esm5/expansion.es5.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/esm5/animations.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var angularfire2__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! angularfire2 */ "./node_modules/angularfire2/index.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./app.routing.module */ "./src/app/app.routing.module.ts");
/* harmony import */ var _app_providers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./app.providers */ "./src/app/app.providers.ts");
/* harmony import */ var primeng_components_datatable_datatable__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! primeng/components/datatable/datatable */ "./node_modules/primeng/components/datatable/datatable.js");
/* harmony import */ var primeng_components_datatable_datatable__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(primeng_components_datatable_datatable__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var primeng_components_tabview_tabview__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! primeng/components/tabview/tabview */ "./node_modules/primeng/components/tabview/tabview.js");
/* harmony import */ var primeng_components_tabview_tabview__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(primeng_components_tabview_tabview__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var primeng_components_autocomplete_autocomplete__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! primeng/components/autocomplete/autocomplete */ "./node_modules/primeng/components/autocomplete/autocomplete.js");
/* harmony import */ var primeng_components_autocomplete_autocomplete__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(primeng_components_autocomplete_autocomplete__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var angularfire2_firestore__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! angularfire2/firestore */ "./node_modules/angularfire2/firestore/index.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/esm5/datepicker.es5.js");
/* harmony import */ var ngx_img_cropper__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ngx-img-cropper */ "./node_modules/ngx-img-cropper/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};














 // Custom providers having all services






var AppModules = [
    _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["BrowserModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatFormFieldModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatInputModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatChipsModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatAutocompleteModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatSelectModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatCardModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatProgressSpinnerModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatProgressBarModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatDialogModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatTooltipModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatMenuModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatTabsModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatProgressSpinnerModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatToolbarModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatIconModule"],
    _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormsModule"],
    _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__["BrowserAnimationsModule"],
    _angular_http__WEBPACK_IMPORTED_MODULE_8__["HttpModule"],
    primeng_primeng__WEBPACK_IMPORTED_MODULE_0__["ContextMenuModule"],
    primeng_primeng__WEBPACK_IMPORTED_MODULE_0__["TreeModule"],
    primeng_colorpicker__WEBPACK_IMPORTED_MODULE_1__["ColorPickerModule"],
    primeng_components_datatable_datatable__WEBPACK_IMPORTED_MODULE_15__["DataTableModule"],
    primeng_primeng__WEBPACK_IMPORTED_MODULE_0__["SharedModule"],
    primeng_primeng__WEBPACK_IMPORTED_MODULE_0__["CarouselModule"],
    primeng_primeng__WEBPACK_IMPORTED_MODULE_0__["CaptchaModule"],
    _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["BrowserModule"],
    primeng_components_tabview_tabview__WEBPACK_IMPORTED_MODULE_16__["TabViewModule"],
    primeng_primeng__WEBPACK_IMPORTED_MODULE_0__["DragDropModule"],
    primeng_primeng__WEBPACK_IMPORTED_MODULE_0__["DropdownModule"],
    primeng_primeng__WEBPACK_IMPORTED_MODULE_0__["DialogModule"],
    primeng_components_autocomplete_autocomplete__WEBPACK_IMPORTED_MODULE_17__["AutoCompleteModule"],
    _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ReactiveFormsModule"],
    _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__["NoopAnimationsModule"],
    _angular_flex_layout__WEBPACK_IMPORTED_MODULE_10__["FlexLayoutModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatSidenavModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatListModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatRadioModule"],
    _angular_material_expansion__WEBPACK_IMPORTED_MODULE_5__["MatExpansionModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatCheckboxModule"],
    _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_19__["MatDatepickerModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatNativeDateModule"],
    ngx_img_cropper__WEBPACK_IMPORTED_MODULE_20__["ImageCropperModule"],
    primeng_primeng__WEBPACK_IMPORTED_MODULE_0__["ChartModule"],
    _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatSlideToggleModule"]
];
var AppModule = (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_12__["AppComponent"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_13__["entryComponents"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_13__["routingComponents"],
                _app_providers__WEBPACK_IMPORTED_MODULE_14__["customPipes"],
            ],
            imports: [
                angularfire2__WEBPACK_IMPORTED_MODULE_9__["AngularFireModule"].initializeApp(_environments_environment__WEBPACK_IMPORTED_MODULE_11__["environment"].firestore),
                _app_routing_module__WEBPACK_IMPORTED_MODULE_13__["AppRoutingModule"],
                AppModules,
                angularfire2_firestore__WEBPACK_IMPORTED_MODULE_18__["AngularFirestoreModule"],
            ],
            providers: [
                _app_routing_module__WEBPACK_IMPORTED_MODULE_13__["routingProviders"],
                _app_providers__WEBPACK_IMPORTED_MODULE_14__["customProviders"]
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_12__["AppComponent"]],
            entryComponents: [
                _app_routing_module__WEBPACK_IMPORTED_MODULE_13__["entryComponents"]
            ]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/app.providers.ts":
/*!**********************************!*\
  !*** ./src/app/app.providers.ts ***!
  \**********************************/
/*! exports provided: customProviders, customPipes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "customProviders", function() { return customProviders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "customPipes", function() { return customPipes; });
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _common_user_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var _common_notification_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/notification.service */ "./src/app/common/notification.service.ts");
/* harmony import */ var _common_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common/storage.service */ "./src/app/common/storage.service.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _operation_status_operation_status_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./operation-status/operation-status.service */ "./src/app/operation-status/operation-status.service.ts");
/* harmony import */ var _dashboard_cacheResolver__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dashboard/cacheResolver */ "./src/app/dashboard/cacheResolver.ts");
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
/* harmony import */ var _common_roles_resolver_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./common/roles-resolver.service */ "./src/app/common/roles-resolver.service.ts");
/* harmony import */ var _common_authorization_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./common/authorization.service */ "./src/app/common/authorization.service.ts");
/* harmony import */ var _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./common/authoring-cache.service */ "./src/app/common/authoring-cache.service.ts");
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./project/project.service */ "./src/app/project/project.service.ts");
/* harmony import */ var _import_distribution_import_distribution_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./import-distribution/import-distribution.service */ "./src/app/import-distribution/import-distribution.service.ts");
/* harmony import */ var _authoring_tabbed_view_authoring_tabbed_view_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./authoring-tabbed-view/authoring-tabbed-view.service */ "./src/app/authoring-tabbed-view/authoring-tabbed-view.service.ts");
/* harmony import */ var _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./new-draft/draft.service */ "./src/app/new-draft/draft.service.ts");
/* harmony import */ var _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./distribution/distribution.service */ "./src/app/distribution/distribution.service.ts");
/* harmony import */ var _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./treeview/treeview.service */ "./src/app/treeview/treeview.service.ts");
/* harmony import */ var _common_signalr_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./common/signalr.service */ "./src/app/common/signalr.service.ts");
/* harmony import */ var _common_array_filter_pipe__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./common/array-filter.pipe */ "./src/app/common/array-filter.pipe.ts");
/* harmony import */ var _common_array_sort_pipe__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./common/array-sort.pipe */ "./src/app/common/array-sort.pipe.ts");
/* harmony import */ var _common_sanitize_html__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./common/sanitize-html */ "./src/app/common/sanitize-html.ts");
/* harmony import */ var _manage_project_tag_group_filter_tags_pipe__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./manage-project-tag-group/filter-tags.pipe */ "./src/app/manage-project-tag-group/filter-tags.pipe.ts");
/* harmony import */ var _common_epoc_to_datetime_pipe__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./common/epoc-to-datetime.pipe */ "./src/app/common/epoc-to-datetime.pipe.ts");
/* harmony import */ var _common_format_date_pipe__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./common/format-date.pipe */ "./src/app/common/format-date.pipe.ts");
/* harmony import */ var _common_repo_name_pipe__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./common/repo-name.pipe */ "./src/app/common/repo-name.pipe.ts");
/* harmony import */ var _common_filesize_pipe__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./common/filesize.pipe */ "./src/app/common/filesize.pipe.ts");
/* harmony import */ var _common_realted_date_pipe__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./common/realted-date.pipe */ "./src/app/common/realted-date.pipe.ts");


















var customProviders = [
    _common_authorization_service__WEBPACK_IMPORTED_MODULE_9__["AuthorizationService"],
    _common_http_service__WEBPACK_IMPORTED_MODULE_0__["HttpService"],
    _common_signalr_service__WEBPACK_IMPORTED_MODULE_17__["SignalrService"],
    _common_user_service__WEBPACK_IMPORTED_MODULE_1__["UserService"],
    _common_notification_service__WEBPACK_IMPORTED_MODULE_2__["NotificationService"],
    _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_10__["AuthoringCacheService"],
    _common_storage_service__WEBPACK_IMPORTED_MODULE_3__["StorageService"],
    _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_7__["LocalEventEmitterService"],
    _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__["TagCacheService"],
    _operation_status_operation_status_service__WEBPACK_IMPORTED_MODULE_5__["OperationStatusService"],
    _dashboard_cacheResolver__WEBPACK_IMPORTED_MODULE_6__["CacheResolver"],
    _common_roles_resolver_service__WEBPACK_IMPORTED_MODULE_8__["RolesResolverService"],
    _project_project_service__WEBPACK_IMPORTED_MODULE_11__["ProjectService"],
    _import_distribution_import_distribution_service__WEBPACK_IMPORTED_MODULE_12__["ImportDistributionService"],
    _authoring_tabbed_view_authoring_tabbed_view_service__WEBPACK_IMPORTED_MODULE_13__["AuthoringTabbedViewService"],
    _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_14__["DraftService"],
    _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_15__["DistributionService"],
    _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_16__["TreeViewService"]
];









var customPipes = [
    _common_array_filter_pipe__WEBPACK_IMPORTED_MODULE_18__["ArrayFilterPipe"],
    _common_array_sort_pipe__WEBPACK_IMPORTED_MODULE_19__["ArraySortPipe"],
    _common_epoc_to_datetime_pipe__WEBPACK_IMPORTED_MODULE_22__["EpocToDatetimePipe"],
    _common_sanitize_html__WEBPACK_IMPORTED_MODULE_20__["SanitizeHtmlPipe"],
    _manage_project_tag_group_filter_tags_pipe__WEBPACK_IMPORTED_MODULE_21__["FilterTagsPipe"],
    _common_format_date_pipe__WEBPACK_IMPORTED_MODULE_23__["FormatDatePipe"],
    _common_array_filter_pipe__WEBPACK_IMPORTED_MODULE_18__["FilterPropertiesPipe"],
    _common_repo_name_pipe__WEBPACK_IMPORTED_MODULE_24__["RepoNamePipe"],
    _common_filesize_pipe__WEBPACK_IMPORTED_MODULE_25__["FileSizePipe"],
    _common_realted_date_pipe__WEBPACK_IMPORTED_MODULE_26__["RelativeDatePipe"]
];


/***/ }),

/***/ "./src/app/app.routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app.routing.module.ts ***!
  \***************************************/
/*! exports provided: routingComponents, entryComponents, routingProviders, AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routingComponents", function() { return routingComponents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "entryComponents", function() { return entryComponents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routingProviders", function() { return routingProviders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_authGuard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/authGuard */ "./src/app/common/authGuard.ts");
/* harmony import */ var _authoring_tabbed_view_authoring_tabbed_view_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./authoring-tabbed-view/authoring-tabbed-view.component */ "./src/app/authoring-tabbed-view/authoring-tabbed-view.component.ts");
/* harmony import */ var _header_header_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./header/header.component */ "./src/app/header/header.component.ts");
/* harmony import */ var _footer_footer_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./footer/footer.component */ "./src/app/footer/footer.component.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _treeview_treeview_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./treeview/treeview.component */ "./src/app/treeview/treeview.component.ts");
/* harmony import */ var _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dashboard/dashboard.component */ "./src/app/dashboard/dashboard.component.ts");
/* harmony import */ var _project_add_project_add_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./project-add/project-add.component */ "./src/app/project-add/project-add.component.ts");
/* harmony import */ var _project_projectList_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./project/projectList.component */ "./src/app/project/projectList.component.ts");
/* harmony import */ var _create_distribution_create_distribution_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./create-distribution/create-distribution.component */ "./src/app/create-distribution/create-distribution.component.ts");
/* harmony import */ var _distribution_distribution_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./distribution/distribution.component */ "./src/app/distribution/distribution.component.ts");
/* harmony import */ var _authoring_view_authoring_view_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./authoring-view/authoring-view.component */ "./src/app/authoring-view/authoring-view.component.ts");
/* harmony import */ var _notification_sidebar_notification_sidebar_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./notification-sidebar/notification-sidebar.component */ "./src/app/notification-sidebar/notification-sidebar.component.ts");
/* harmony import */ var _recently_viewed_document_recently_viewed_document_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./recently-viewed-document/recently-viewed-document.component */ "./src/app/recently-viewed-document/recently-viewed-document.component.ts");
/* harmony import */ var _new_draft_new_draft_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./new-draft/new-draft.component */ "./src/app/new-draft/new-draft.component.ts");
/* harmony import */ var _media_media_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./media/media.component */ "./src/app/media/media.component.ts");
/* harmony import */ var _main_main_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./main/main.component */ "./src/app/main/main.component.ts");
/* harmony import */ var _system_setting_system_setting_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./system-setting/system-setting.component */ "./src/app/system-setting/system-setting.component.ts");
/* harmony import */ var _tag_group_dashboard_tag_group_dashboard_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./tag-group-dashboard/tag-group-dashboard.component */ "./src/app/tag-group-dashboard/tag-group-dashboard.component.ts");
/* harmony import */ var _create_tag_group_create_tag_group_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./create-tag-group/create-tag-group.component */ "./src/app/create-tag-group/create-tag-group.component.ts");
/* harmony import */ var _manage_tags_manage_tags_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./manage-tags/manage-tags.component */ "./src/app/manage-tags/manage-tags.component.ts");
/* harmony import */ var _manage_project_tag_group_manage_project_tag_group_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./manage-project-tag-group/manage-project-tag-group.component */ "./src/app/manage-project-tag-group/manage-project-tag-group.component.ts");
/* harmony import */ var _manage_node_tag_manage_node_tag_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./manage-node-tag/manage-node-tag.component */ "./src/app/manage-node-tag/manage-node-tag.component.ts");
/* harmony import */ var _operation_status_operation_status_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./operation-status/operation-status.component */ "./src/app/operation-status/operation-status.component.ts");
/* harmony import */ var _dam_drag_and_drop_dam_drag_and_drop_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./dam-drag-and-drop/dam-drag-and-drop.component */ "./src/app/dam-drag-and-drop/dam-drag-and-drop.component.ts");
/* harmony import */ var _asset_properties_asset_properties_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./asset-properties/asset-properties.component */ "./src/app/asset-properties/asset-properties.component.ts");
/* harmony import */ var _insert_asset_insert_asset_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./insert-asset/insert-asset.component */ "./src/app/insert-asset/insert-asset.component.ts");
/* harmony import */ var _replace_asset_confirmation_replace_asset_confirmation_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./replace-asset-confirmation/replace-asset-confirmation.component */ "./src/app/replace-asset-confirmation/replace-asset-confirmation.component.ts");
/* harmony import */ var _tag_view_tag_view_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./tag-view/tag-view.component */ "./src/app/tag-view/tag-view.component.ts");
/* harmony import */ var _error_detail_error_detail_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./error-detail/error-detail.component */ "./src/app/error-detail/error-detail.component.ts");
/* harmony import */ var _publish_list_publish_list_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./publish-list/publish-list.component */ "./src/app/publish-list/publish-list.component.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./base.component */ "./src/app/base.component.ts");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
/* harmony import */ var _draft_history_draft_history_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./draft-history/draft-history.component */ "./src/app/draft-history/draft-history.component.ts");
/* harmony import */ var _view_draft_view_draft_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./view-draft/view-draft.component */ "./src/app/view-draft/view-draft.component.ts");
/* harmony import */ var _create_draft_from_snapshot_create_draft_from_snapshot_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./create-draft-from-snapshot/create-draft-from-snapshot.component */ "./src/app/create-draft-from-snapshot/create-draft-from-snapshot.component.ts");
/* harmony import */ var _directives_infinite_scroll_directive__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./directives/infinite-scroll.directive */ "./src/app/directives/infinite-scroll.directive.ts");
/* harmony import */ var _gdoc_error_log_gdoc_error_log_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./gdoc-error-log/gdoc-error-log.component */ "./src/app/gdoc-error-log/gdoc-error-log.component.ts");
/* harmony import */ var _dashboard_cacheResolver__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./dashboard/cacheResolver */ "./src/app/dashboard/cacheResolver.ts");
/* harmony import */ var _tag_groups_tag_groups_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./tag-groups/tag-groups.component */ "./src/app/tag-groups/tag-groups.component.ts");
/* harmony import */ var _confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./confirm-dialog/confirm-dialog.component */ "./src/app/confirm-dialog/confirm-dialog.component.ts");
/* harmony import */ var _add_node_add_node_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./add-node/add-node.component */ "./src/app/add-node/add-node.component.ts");
/* harmony import */ var _ngx_slimscroll_directives_slimscroll_directive__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./ngx-slimscroll/directives/slimscroll.directive */ "./src/app/ngx-slimscroll/directives/slimscroll.directive.ts");
/* harmony import */ var _common_roles_resolver_service__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./common/roles-resolver.service */ "./src/app/common/roles-resolver.service.ts");
/* harmony import */ var _manage_admins_manage_system_admins_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./manage-admins/manage-system-admins.component */ "./src/app/manage-admins/manage-system-admins.component.ts");
/* harmony import */ var _manage_admins_manage_project_admins_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./manage-admins/manage-project-admins.component */ "./src/app/manage-admins/manage-project-admins.component.ts");
/* harmony import */ var _common_roleGuard__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./common/roleGuard */ "./src/app/common/roleGuard.ts");
/* harmony import */ var _document_activity_document_activity_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./document-activity/document-activity.component */ "./src/app/document-activity/document-activity.component.ts");
/* harmony import */ var _update_profile_picture_update_profile_picture_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./update-profile-picture/update-profile-picture.component */ "./src/app/update-profile-picture/update-profile-picture.component.ts");
/* harmony import */ var _realtime_updates_realtime_updates_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./realtime-updates/realtime-updates.component */ "./src/app/realtime-updates/realtime-updates.component.ts");
/* harmony import */ var _comparison_tool_comparison_tool_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./comparison-tool/comparison-tool.component */ "./src/app/comparison-tool/comparison-tool.component.ts");
/* harmony import */ var _comparison_tool_filter_view_comparison_tool_filter_view_component__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./comparison-tool-filter-view/comparison-tool-filter-view.component */ "./src/app/comparison-tool-filter-view/comparison-tool-filter-view.component.ts");
/* harmony import */ var _directives_custom_tooltip_directive__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./directives/custom-tooltip.directive */ "./src/app/directives/custom-tooltip.directive.ts");
/* harmony import */ var _personal_updates_personal_updates_component__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./personal-updates/personal-updates.component */ "./src/app/personal-updates/personal-updates.component.ts");
/* harmony import */ var _analytics_analytics_component__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./analytics/analytics.component */ "./src/app/analytics/analytics.component.ts");
/* harmony import */ var _metrics_metrics_component__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./metrics/metrics.component */ "./src/app/metrics/metrics.component.ts");
/* harmony import */ var _metrics_access_execution_metrics_access_execution_component__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./metrics-access-execution/metrics-access-execution.component */ "./src/app/metrics-access-execution/metrics-access-execution.component.ts");
/* harmony import */ var _metrics_operation_status_metrics_operation_status_component__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./metrics-operation-status/metrics-operation-status.component */ "./src/app/metrics-operation-status/metrics-operation-status.component.ts");
/* harmony import */ var _metrics_cache_metrics_cache_component__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./metrics-cache/metrics-cache.component */ "./src/app/metrics-cache/metrics-cache.component.ts");
/* harmony import */ var _manage_tags_to_multiple_nodes_manage_tags_to_multiple_nodes_component__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./manage-tags-to-multiple-nodes/manage-tags-to-multiple-nodes.component */ "./src/app/manage-tags-to-multiple-nodes/manage-tags-to-multiple-nodes.component.ts");
/* harmony import */ var _import_distribution_import_distribution_component__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./import-distribution/import-distribution.component */ "./src/app/import-distribution/import-distribution.component.ts");
/* harmony import */ var _import_distribution_treeview_import_distribution_treeview_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./import-distribution-treeview/import-distribution-treeview.component */ "./src/app/import-distribution-treeview/import-distribution-treeview.component.ts");
/* harmony import */ var _batch_merge_tool_batch_merge_tool_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./batch-merge-tool/batch-merge-tool.component */ "./src/app/batch-merge-tool/batch-merge-tool.component.ts");
/* harmony import */ var _insert_link_insert_link_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./insert-link/insert-link.component */ "./src/app/insert-link/insert-link.component.ts");
/* harmony import */ var _project_project_component__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./project/project.component */ "./src/app/project/project.component.ts");
/* harmony import */ var _delete_tag_group_confirmation_dialog_delete_tag_group_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./delete-tag-group-confirmation-dialog/delete-tag-group-confirmation-dialog.component */ "./src/app/delete-tag-group-confirmation-dialog/delete-tag-group-confirmation-dialog.component.ts");
/* harmony import */ var _delete_tag_confirmation_dialog_delete_tag_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./delete-tag-confirmation-dialog/delete-tag-confirmation-dialog.component */ "./src/app/delete-tag-confirmation-dialog/delete-tag-confirmation-dialog.component.ts");
/* harmony import */ var _delete_distribution_confirmation_dialog_delete_distribution_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./delete-distribution-confirmation-dialog/delete-distribution-confirmation-dialog.component */ "./src/app/delete-distribution-confirmation-dialog/delete-distribution-confirmation-dialog.component.ts");
/* harmony import */ var _delete_project_confirmation_dialog_delete_project_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./delete-project-confirmation-dialog/delete-project-confirmation-dialog.component */ "./src/app/delete-project-confirmation-dialog/delete-project-confirmation-dialog.component.ts");
/* harmony import */ var _add_glossary_add_glossary_component__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./add-glossary/add-glossary.component */ "./src/app/add-glossary/add-glossary.component.ts");
/* harmony import */ var _developer_dashboard_developer_dashboard_component__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./developer-dashboard/developer-dashboard.component */ "./src/app/developer-dashboard/developer-dashboard.component.ts");
/* harmony import */ var _publish_configuration_publish_configuration_component__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./publish-configuration/publish-configuration.component */ "./src/app/publish-configuration/publish-configuration.component.ts");
/* harmony import */ var _glossary_home_glossary_home_component__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./glossary-home/glossary-home.component */ "./src/app/glossary-home/glossary-home.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











































































var routingComponents = [
    _header_header_component__WEBPACK_IMPORTED_MODULE_4__["HeaderComponent"],
    _footer_footer_component__WEBPACK_IMPORTED_MODULE_5__["FooterComponent"],
    _login_login_component__WEBPACK_IMPORTED_MODULE_6__["LoginComponent"],
    _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_8__["DashboardComponent"],
    _treeview_treeview_component__WEBPACK_IMPORTED_MODULE_7__["TreeViewComponent"],
    _project_projectList_component__WEBPACK_IMPORTED_MODULE_10__["ProjectListComponent"],
    _authoring_tabbed_view_authoring_tabbed_view_component__WEBPACK_IMPORTED_MODULE_3__["AuthoringTabbedViewComponent"],
    _distribution_distribution_component__WEBPACK_IMPORTED_MODULE_12__["DistributionComponent"],
    _authoring_view_authoring_view_component__WEBPACK_IMPORTED_MODULE_13__["AuthoringViewComponent"],
    _notification_sidebar_notification_sidebar_component__WEBPACK_IMPORTED_MODULE_14__["NotificationSidebarComponent"],
    _recently_viewed_document_recently_viewed_document_component__WEBPACK_IMPORTED_MODULE_15__["RecentlyViewedDocumentComponent"],
    _main_main_component__WEBPACK_IMPORTED_MODULE_18__["MainComponent"],
    _system_setting_system_setting_component__WEBPACK_IMPORTED_MODULE_19__["SystemSettingComponent"],
    _tag_group_dashboard_tag_group_dashboard_component__WEBPACK_IMPORTED_MODULE_20__["TagGroupDashboardComponent"],
    _create_tag_group_create_tag_group_component__WEBPACK_IMPORTED_MODULE_21__["CreateTagGroupComponent"],
    _manage_tags_manage_tags_component__WEBPACK_IMPORTED_MODULE_22__["ManageTagsComponent"],
    _operation_status_operation_status_component__WEBPACK_IMPORTED_MODULE_25__["OperationStatusComponent"],
    _media_media_component__WEBPACK_IMPORTED_MODULE_17__["MediaComponent"],
    _dam_drag_and_drop_dam_drag_and_drop_component__WEBPACK_IMPORTED_MODULE_26__["DamDragAndDropComponent"],
    _asset_properties_asset_properties_component__WEBPACK_IMPORTED_MODULE_27__["AssetPropertiesComponent"],
    _tag_view_tag_view_component__WEBPACK_IMPORTED_MODULE_30__["TagViewComponent"],
    _error_detail_error_detail_component__WEBPACK_IMPORTED_MODULE_31__["ErrorDetailComponent"],
    _publish_list_publish_list_component__WEBPACK_IMPORTED_MODULE_32__["PublishListComponent"],
    _base_component__WEBPACK_IMPORTED_MODULE_33__["BaseComponent"],
    _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_34__["OperationBaseComponent"],
    _draft_history_draft_history_component__WEBPACK_IMPORTED_MODULE_35__["DraftHistoryComponent"],
    _directives_infinite_scroll_directive__WEBPACK_IMPORTED_MODULE_38__["InfiniteScrollDirective"],
    _ngx_slimscroll_directives_slimscroll_directive__WEBPACK_IMPORTED_MODULE_44__["SlimScrollDirective"],
    _manage_admins_manage_system_admins_component__WEBPACK_IMPORTED_MODULE_46__["ManageSystemAdminsComponent"],
    _document_activity_document_activity_component__WEBPACK_IMPORTED_MODULE_49__["DocumentActivityComponent"],
    _realtime_updates_realtime_updates_component__WEBPACK_IMPORTED_MODULE_51__["RealtimeUpdatesComponent"],
    _comparison_tool_comparison_tool_component__WEBPACK_IMPORTED_MODULE_52__["ComparisonToolComponent"],
    _comparison_tool_filter_view_comparison_tool_filter_view_component__WEBPACK_IMPORTED_MODULE_53__["ComparisonToolFilterViewComponent"],
    _directives_custom_tooltip_directive__WEBPACK_IMPORTED_MODULE_54__["CustomTooltipDirective"],
    _personal_updates_personal_updates_component__WEBPACK_IMPORTED_MODULE_55__["PersonalUpdatesComponent"],
    _analytics_analytics_component__WEBPACK_IMPORTED_MODULE_56__["AnalyticsComponent"],
    _metrics_metrics_component__WEBPACK_IMPORTED_MODULE_57__["MetricsComponent"],
    _metrics_access_execution_metrics_access_execution_component__WEBPACK_IMPORTED_MODULE_58__["MetricsAccessExecutionComponent"],
    _metrics_operation_status_metrics_operation_status_component__WEBPACK_IMPORTED_MODULE_59__["MetricsOperationStatusComponent"],
    _metrics_cache_metrics_cache_component__WEBPACK_IMPORTED_MODULE_60__["MetricsCacheComponent"],
    _import_distribution_treeview_import_distribution_treeview_component__WEBPACK_IMPORTED_MODULE_63__["ImportDistributionTreeviewComponent"],
    _batch_merge_tool_batch_merge_tool_component__WEBPACK_IMPORTED_MODULE_64__["BatchMergeToolComponent"],
    _project_project_component__WEBPACK_IMPORTED_MODULE_66__["ProjectComponent"],
    _glossary_home_glossary_home_component__WEBPACK_IMPORTED_MODULE_74__["GlossaryHomeComponent"],
    _developer_dashboard_developer_dashboard_component__WEBPACK_IMPORTED_MODULE_72__["DeveloperDashboardComponent"]
];
var entryComponents = [
    _tag_groups_tag_groups_component__WEBPACK_IMPORTED_MODULE_41__["TagGroupsComponent"],
    _new_draft_new_draft_component__WEBPACK_IMPORTED_MODULE_16__["NewDraftComponent"],
    _insert_asset_insert_asset_component__WEBPACK_IMPORTED_MODULE_28__["InsertAssetComponent"],
    _replace_asset_confirmation_replace_asset_confirmation_component__WEBPACK_IMPORTED_MODULE_29__["ReplaceAssetConfirmationComponent"],
    _new_draft_new_draft_component__WEBPACK_IMPORTED_MODULE_16__["NewDraftComponent"],
    _create_tag_group_create_tag_group_component__WEBPACK_IMPORTED_MODULE_21__["CreateTagGroupComponent"],
    _manage_tags_manage_tags_component__WEBPACK_IMPORTED_MODULE_22__["ManageTagsComponent"],
    _manage_node_tag_manage_node_tag_component__WEBPACK_IMPORTED_MODULE_24__["ManageNodeTagComponent"],
    _manage_project_tag_group_manage_project_tag_group_component__WEBPACK_IMPORTED_MODULE_23__["ManageProjectTagGroupComponent"],
    _view_draft_view_draft_component__WEBPACK_IMPORTED_MODULE_36__["ViewDraftComponent"],
    _create_draft_from_snapshot_create_draft_from_snapshot_component__WEBPACK_IMPORTED_MODULE_37__["CreateDraftFromSnapshotComponent"],
    _create_distribution_create_distribution_component__WEBPACK_IMPORTED_MODULE_11__["CreateDistributionComponent"],
    _project_add_project_add_component__WEBPACK_IMPORTED_MODULE_9__["ProjectAddComponent"],
    _gdoc_error_log_gdoc_error_log_component__WEBPACK_IMPORTED_MODULE_39__["GDocErrorLogComponent"],
    _add_node_add_node_component__WEBPACK_IMPORTED_MODULE_43__["AddNodeComponent"],
    _confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_42__["ConfirmDialogComponent"],
    _manage_admins_manage_project_admins_component__WEBPACK_IMPORTED_MODULE_47__["ManageProjectAdminsComponent"],
    _update_profile_picture_update_profile_picture_component__WEBPACK_IMPORTED_MODULE_50__["UpdateProfilePictureComponent"],
    _manage_tags_to_multiple_nodes_manage_tags_to_multiple_nodes_component__WEBPACK_IMPORTED_MODULE_61__["ManageTagsToMultipleNodesComponent"],
    _import_distribution_import_distribution_component__WEBPACK_IMPORTED_MODULE_62__["ImportDistributionComponent"],
    _insert_link_insert_link_component__WEBPACK_IMPORTED_MODULE_65__["InsertLinkComponent"],
    _delete_tag_group_confirmation_dialog_delete_tag_group_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_67__["DeleteTagGroupConfirmationDialogComponent"],
    _delete_tag_confirmation_dialog_delete_tag_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_68__["DeleteTagConfirmationDialogComponent"],
    _delete_distribution_confirmation_dialog_delete_distribution_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_69__["DeleteDistributionConfirmationDialogComponent"],
    _delete_project_confirmation_dialog_delete_project_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_70__["DeleteProjectConfirmationDialogComponent"],
    _add_glossary_add_glossary_component__WEBPACK_IMPORTED_MODULE_71__["AddGlossaryComponent"],
    _publish_configuration_publish_configuration_component__WEBPACK_IMPORTED_MODULE_73__["PublishConfigurationComponent"]
];
var routingProviders = [
    _common_authGuard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"], _common_roleGuard__WEBPACK_IMPORTED_MODULE_48__["RoleGuard"]
];
var routes = [{
        path: '',
        canActivate: [_common_authGuard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]],
        component: _main_main_component__WEBPACK_IMPORTED_MODULE_18__["MainComponent"],
        resolve: {
            roles: _common_roles_resolver_service__WEBPACK_IMPORTED_MODULE_45__["RolesResolverService"],
            responseId: _dashboard_cacheResolver__WEBPACK_IMPORTED_MODULE_40__["CacheResolver"]
        },
        children: [
            { path: '', redirectTo: 'dashboard', pathMatch: 'full' },
            { path: 'system', component: _system_setting_system_setting_component__WEBPACK_IMPORTED_MODULE_19__["SystemSettingComponent"] },
            { path: 'dashboard', component: _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_8__["DashboardComponent"] },
            {
                path: 'project/:projectId', component: _project_project_component__WEBPACK_IMPORTED_MODULE_66__["ProjectComponent"],
                children: [
                    {
                        path: 'distribution/:distributionId', component: _distribution_distribution_component__WEBPACK_IMPORTED_MODULE_12__["DistributionComponent"],
                        children: [
                            { path: 'document/:documentId', component: _authoring_view_authoring_view_component__WEBPACK_IMPORTED_MODULE_13__["AuthoringViewComponent"] },
                            { path: 'document/:documentId/draft/:draftId', component: _authoring_view_authoring_view_component__WEBPACK_IMPORTED_MODULE_13__["AuthoringViewComponent"] }
                        ]
                    }
                ]
            },
            { path: 'comparison-tool', component: _comparison_tool_comparison_tool_component__WEBPACK_IMPORTED_MODULE_52__["ComparisonToolComponent"] },
            { path: 'batch-merge', component: _batch_merge_tool_batch_merge_tool_component__WEBPACK_IMPORTED_MODULE_64__["BatchMergeToolComponent"] },
            { path: 'media', component: _media_media_component__WEBPACK_IMPORTED_MODULE_17__["MediaComponent"] },
            { path: 'errordetail/:responseId', component: _error_detail_error_detail_component__WEBPACK_IMPORTED_MODULE_31__["ErrorDetailComponent"] },
            { path: 'publish-home', component: _publish_list_publish_list_component__WEBPACK_IMPORTED_MODULE_32__["PublishListComponent"] },
            {
                path: 'analytics', component: _analytics_analytics_component__WEBPACK_IMPORTED_MODULE_56__["AnalyticsComponent"],
                children: [
                    { path: '', redirectTo: 'metrics', pathMatch: 'full' },
                    { path: 'metrics', component: _metrics_metrics_component__WEBPACK_IMPORTED_MODULE_57__["MetricsComponent"] },
                ]
            },
            { path: 'glossary-home', component: _glossary_home_glossary_home_component__WEBPACK_IMPORTED_MODULE_74__["GlossaryHomeComponent"] },
            { path: 'developer-dashboard', component: _developer_dashboard_developer_dashboard_component__WEBPACK_IMPORTED_MODULE_72__["DeveloperDashboardComponent"] }
        ]
    },
    { path: 'login', component: _login_login_component__WEBPACK_IMPORTED_MODULE_6__["LoginComponent"] },
    { path: '**', redirectTo: '' }
];
var AppRoutingModule = (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/asset-properties/asset-properties.component.html":
/*!******************************************************************!*\
  !*** ./src/app/asset-properties/asset-properties.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-progress-bar mode=\"indeterminate\" *ngIf=\"(isDataLoading || isUpdateInProgress || isAssetReplaceInProgress)\"></mat-progress-bar>\r\n<div ngClass=\"media-preview-body\" fxFlex=\"100\">\r\n  <form [formGroup]=\"assetPropertyForm\">\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" slimScroll fxFlexFill class=\"asset-preview-properties\">\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\">\r\n        <label fxFlex>File Name :</label>\r\n        <label fxFlex class=\"oneline-ellipsis\"> {{assetDetail.fileName}}</label>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\">\r\n        <label fxFlex>Asset ID :</label>\r\n        <label fxFlex> {{assetDetail.assetId}}</label>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\">\r\n        <label fxFlex>Size :</label>\r\n        <label fxFlex> {{assetDetail.fileSize | filesize}}</label>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\">\r\n        <label fxFlex>File Uploaded By :</label>\r\n        <label fxFlex class=\"oneline-ellipsis\"> {{assetDetail.uploadedBy}}</label>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\">\r\n        <label fxFlex>File Created :</label>\r\n        <label fxFlex> {{(assetDetail.uploadedDate | epocToDatetime) | date:'mediumDate'}}</label>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\" *ngIf=\"(assetDetail.assetType?assetDetail.assetType.toString():'') === assetType.image.toString() && isEditProperties\">\r\n        <label fxFlex>Alt Title :</label>\r\n        <mat-form-field floatPlaceholder=\"never\" fxFlex>\r\n          <input matInput [formControl]=\"altTitle\" [(ngModel)]=\"assetDetail.altTitle\">\r\n          <mat-error *ngIf=\"altTitle.hasError('maxlength')\"> Please enter maximum of 100 characters.</mat-error>\r\n          <mat-error *ngIf=\"altTitle.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\" *ngIf=\"(assetDetail.assetType?assetDetail.assetType.toString():'') === assetType.image.toString() && !isEditProperties\">\r\n        <label fxFlex>Alt Title :</label>\r\n        <label fxFlex> {{assetDetail.altTitle}}</label>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\" *ngIf=\"(assetDetail.assetType?assetDetail.assetType.toString():'') === assetType.image.toString() && isEditProperties\">\r\n        <label fxFlex>Unity Project Source :</label>\r\n        <mat-form-field floatPlaceholder=\"never\" fxFlex>\r\n          <input matInput [formControl]=\"unityProjectSource\" [(ngModel)]=\"assetDetail.unityProjectSource\">\r\n          <mat-error *ngIf=\"unityProjectSource.hasError('whitespace')\">Leading and trailing whitespaces not allowed</mat-error>\r\n          <mat-error *ngIf=\"unityProjectSource.hasError('maxlength')\"> Please enter maximum of 100 characters.</mat-error>\r\n          <mat-error *ngIf=\"unityProjectSource.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\" *ngIf=\"(assetDetail.assetType?assetDetail.assetType.toString():'') === assetType.image.toString() && !isEditProperties\">\r\n        <label fxFlex>Unity Project Source :</label>\r\n        <label fxFlex> {{assetDetail.unityProjectSource}}</label>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"80px\" *ngIf=\"isEditProperties\">\r\n        <label fxFlex>Whats Depicted :</label>\r\n        <mat-form-field floatPlaceholder=\"never\" fxFlex>\r\n          <textarea matInput [formControl]=\"depicted\" [(ngModel)]=\"assetDetail.depicted\"></textarea>\r\n          <mat-error *ngIf=\"depicted.hasError('maxlength')\"> Please enter maximum of 1000 characters.</mat-error>\r\n          <mat-error *ngIf=\"depicted.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\" *ngIf=\"!isEditProperties\">\r\n        <label fxFlex>Whats Depicted :</label>\r\n        <label fxFlex> {{assetDetail.depicted}}</label>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"80px\" *ngIf=\"(assetDetail.assetType?assetDetail.assetType.toString():'') === assetType.image.toString() && isEditProperties\">\r\n        <label fxFlex>Instructions to Re-Create Image :</label>\r\n        <mat-form-field floatPlaceholder=\"never\" fxFlex>\r\n          <textarea matInput [formControl]=\"instructionsToReCreateImage\" [(ngModel)]=\"assetDetail.instructionsToReCreateImage\"></textarea>\r\n          <mat-error *ngIf=\"instructionsToReCreateImage.hasError('maxlength')\"> Please enter maximum of 1000 characters.</mat-error>\r\n          <mat-error *ngIf=\"instructionsToReCreateImage.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\" *ngIf=\"(assetDetail.assetType?assetDetail.assetType.toString():'') === assetType.image.toString() && !isEditProperties\">\r\n        <label fxFlex>Instructions to Re-Create Image :</label>\r\n        <label fxFlex> {{assetDetail.instructionsToReCreateImage}}</label>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"80px\" *ngIf=\"isEditProperties\">\r\n        <label fxFlex>Description:</label>\r\n        <mat-form-field floatPlaceholder=\"never\" fxFlex>\r\n          <textarea matInput [formControl]=\"description\" [(ngModel)]=\"assetDetail.description\"></textarea>\r\n          <mat-error *ngIf=\"description.hasError('whitespace')\">Leading and trailing whitespaces not allowed</mat-error>\r\n          <mat-error *ngIf=\"description.hasError('maxlength')\"> Please enter maximum of 1000 characters.</mat-error>\r\n          <mat-error *ngIf=\"description.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex=\"40px\" *ngIf=\"!isEditProperties\">\r\n        <label fxFlex>Description :</label>\r\n        <label fxFlex> {{assetDetail.description}}</label>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/asset-properties/asset-properties.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/asset-properties/asset-properties.component.ts ***!
  \****************************************************************/
/*! exports provided: AssetPropertiesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetPropertiesComponent", function() { return AssetPropertiesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _media_asset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../media/asset */ "./src/app/media/asset.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/whitespace-validator */ "./src/app/common/whitespace-validator.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AssetPropertiesComponent = (function () {
    function AssetPropertiesComponent(formBuilder) {
        this.formBuilder = formBuilder;
        this.unityProjectSource = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_4__["WhiteSpaceValidator"]]);
        this.instructionsToReCreateImage = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].maxLength(1000), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_4__["WhiteSpaceValidator"]]);
        this.depicted = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].maxLength(1000), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_4__["WhiteSpaceValidator"]]);
        this.altTitle = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_4__["WhiteSpaceValidator"]]);
        this.description = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].maxLength(1000), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_4__["WhiteSpaceValidator"]]);
        this.assetType = _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].assetType;
        this.createForm();
    }
    AssetPropertiesComponent.prototype.createForm = function () {
        this.assetPropertyForm = this.formBuilder.group({
            unityProjectSource: this.unityProjectSource,
            instructionsToReCreateImage: this.instructionsToReCreateImage,
            depicted: this.depicted,
            altTitle: this.altTitle,
            description: this.description,
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _media_asset__WEBPACK_IMPORTED_MODULE_2__["Asset"])
    ], AssetPropertiesComponent.prototype, "assetDetail", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], AssetPropertiesComponent.prototype, "isDataLoading", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], AssetPropertiesComponent.prototype, "isEditProperties", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], AssetPropertiesComponent.prototype, "isUpdateInProgress", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], AssetPropertiesComponent.prototype, "isAssetReplaceInProgress", void 0);
    AssetPropertiesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-asset-properties',
            template: __webpack_require__(/*! ./asset-properties.component.html */ "./src/app/asset-properties/asset-properties.component.html"),
        }),
        __metadata("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]])
    ], AssetPropertiesComponent);
    return AssetPropertiesComponent;
}());



/***/ }),

/***/ "./src/app/authoring-tabbed-view/authoring-tabbed-view.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/authoring-tabbed-view/authoring-tabbed-view.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"authoring-tabview {{align}}-window\" fxLayout=\"column\" fxFlexFill>\r\n  <div ngClass=\"authoring-tabview-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"15px\" fxFlex=\"60px\">\r\n    <mat-tab-group (selectedIndexChange)=\"onTabChangeEvent($event)\" [selectedIndex]=\"selectedTabIndex\" fxFlex=\"65%\">\r\n      <mat-tab *ngFor=\"let tab of config\" label=\"{{tab.title}}\">\r\n        <ng-template mat-tab-label>\r\n          <button mat-raised-button matTooltip=\"View GDoc Errors\" matTooltipPosition=\"right\" (click)=\"openGDocErrorDialog()\" ngClass=\"{{isDraftContentValid ? 'gdoc-validation gdoc-success' : 'gdoc-validation gdoc-error'}}\"\r\n            *ngIf=\"selectedTabIndex===0 && tab.title==='GDoc'\">\r\n            <i class=\"mdi mdi-menu-up\"></i>\r\n          </button>\r\n          <div ngClass=\"tab-title\">\r\n            <span ngClass=\"tab-title-name\">{{tab.title}}</span>\r\n            <i class=\"tab-title-icon mdi mdi-24px mdi-{{tab.titleIcon}}\" matTooltip=\"{{tab.title}}\"></i>\r\n          </div>\r\n        </ng-template>\r\n      </mat-tab>\r\n    </mat-tab-group>\r\n    <form [formGroup]=\"draftsForm\" fxFlex>\r\n      <mat-form-field fxFlex floatPlaceholder=\"never\" class=\"mat-behaviour-none\">\r\n        <mat-select (change)=\"onDraftChange()\" [formControl]=\"draft\" panelClass=\"authoring-draft-list-panel\">\r\n          <mat-select-trigger>\r\n            {{ draft.value.draftName }}\r\n          </mat-select-trigger>\r\n          <div ngClass=\"authoring-draft-list-scroll\">\r\n            <div slimScroll ngClass=\"draft-list-slimscroll\">\r\n              <mat-option *ngFor=\"let draft of nodeDrafts\" [value]=\"draft\" ngClass=\"authoring-draft-list-wrapper\">\r\n                <mat-list ngClass=\"authoring-draft-lists\">\r\n                  <mat-list-item ngClass=\"authoring-draft-list\">\r\n                    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex=\"100\" fxLayoutGap=\"10px\">\r\n                      <span ngClass=\"oneline-ellipsis\" fxFlex>{{ draft.draftName }}</span>\r\n                      <span fxFlex=\"35\" fxLayout=\"row\" fxLayoutGap=\"7px\" fxLayoutAlign=\"start center\">\r\n                        <i class=\"mdi mdi-history mdi-18px\"></i>\r\n                        <small>12:15:55 . 12 Feb</small>\r\n                      </span>\r\n                      <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex=\"90px\">\r\n                        <img matListAvatar src=\"../assets/img/avatar.png\" matTooltip=\"avatar\">\r\n                        <img matListAvatar src=\"../assets/img/avatar.png\" matTooltip=\"avatar\">\r\n                        <img matListAvatar src=\"../assets/img/avatar.png\" matTooltip=\"avatar\">\r\n                      </div>\r\n                    </div>\r\n                  </mat-list-item>\r\n                </mat-list>\r\n              </mat-option>\r\n            </div>\r\n          </div>\r\n        </mat-select>\r\n        <mat-progress-bar mode=\"indeterminate\" *ngIf=\"!nodeDrafts\"></mat-progress-bar>\r\n      </mat-form-field>\r\n    </form>\r\n    <div fxFlex=\"35px\" class=\"expanded-icons\">\r\n      <button mat-button (click)=\"resize($event)\">\r\n        <i class=\"mdi mdi-arrow-{{align=='right' ? 'right' : 'left'}} mdi-24px\" *ngIf=\"isExpanded\"></i>\r\n        <i class=\"mdi mdi-arrow-{{align=='right' ? 'left' : 'right'}} mdi-24px\" *ngIf=\"!isExpanded\"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" ngClass=\"authoring-tabview-body\">\r\n    <div *ngIf=\"showSpinner\" fxFlex fxLayoutAlign=\"center center\" ngClass=\"spinner-authoring-view\">\r\n      <mat-spinner></mat-spinner>\r\n    </div>\r\n    <div [fxHide]=\"showSpinner\" fxFlexFill>\r\n      <div [fxShow]=\"currentTab.title==='GDoc'\" fxFlexFill class=\"g-doc\">\r\n        <div *ngIf=\"gDocUrl\" fxFlexFill>\r\n          <iframe [src]=\"gDocUrl\" width=\"100%\" height=\"100%\" scrolling=\"yes\"></iframe>\r\n        </div>\r\n        <div *ngIf=\"!gDocUrl\" fxFlexFill>\r\n          {{content}}\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"currentTab.title==='history'\" fxFlexFill>\r\n        <app-draft-history [selectedNodeId]=\"selectedNodeId\" [align]=\"align\" class=\"history-preview\" [nodeDrafts]=\"nodeDrafts\" [selectedDraftId]=\"draft.value.draftId\"></app-draft-history>\r\n      </div>\r\n      <div [fxShow]=\"currentTab.title==='xml'\" fxFlexFill>\r\n        <div ngClass=\"g-doc-preview\" slimScroll>\r\n          {{content}}\r\n        </div>\r\n      </div>\r\n      <div [fxShow]=\"currentTab.title==='.md'\" fxFlexFill>\r\n        <div ngClass=\"md-preview\" slimScroll>\r\n          <div [innerHTML]=\"content |sanitizeHtml\" fxFlex></div>\r\n        </div>\r\n      </div>\r\n      <div [fxShow]=\"currentTab.title==='HTML'\" fxFlexFill>\r\n        <div ngClass=\"html-preview\" slimScroll>\r\n          {{content}}\r\n        </div>\r\n      </div>\r\n      <div [fxShow]=\"currentTab.title==='preview'\" fxFlexFill>\r\n        <iframe [src]=\"ufPreviewUrl\" id=\"{{align}}_uf-preview-iframe\" width=\"100%\" height=\"100%\" scrolling=\"yes\" seamless=\"seamless\"></iframe>\r\n      </div>\r\n    </div>\r\n  </div>"

/***/ }),

/***/ "./src/app/authoring-tabbed-view/authoring-tabbed-view.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/authoring-tabbed-view/authoring-tabbed-view.component.ts ***!
  \**************************************************************************/
/*! exports provided: AuthoringTabbedViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthoringTabbedViewComponent", function() { return AuthoringTabbedViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _authoring_tabbed_view_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./authoring-tabbed-view.service */ "./src/app/authoring-tabbed-view/authoring-tabbed-view.service.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _gdoc_error_log_gdoc_error_log_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../gdoc-error-log/gdoc-error-log.component */ "./src/app/gdoc-error-log/gdoc-error-log.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var AuthoringTabbedViewComponent = (function (_super) {
    __extends(AuthoringTabbedViewComponent, _super);
    function AuthoringTabbedViewComponent(tabbedViewService, injector, route, sanitizer, formBuilder, dialog) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.tabbedViewService = tabbedViewService;
        _this.injector = injector;
        _this.route = route;
        _this.sanitizer = sanitizer;
        _this.formBuilder = formBuilder;
        _this.dialog = dialog;
        _this.explandCollapseEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.nodeDraftChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.draft = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]('');
        _this.validationErrors = [];
        _this.showSpinner = true;
        _this.isDraftContentValid = true;
        _this.ufPreviewUrl = _this.sanitizer.bypassSecurityTrustResourceUrl(_constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].ufPreviewUrl);
        _this.draftsForm = _this.formBuilder.group({
            draft: _this.draft
        });
        return _this;
    }
    AuthoringTabbedViewComponent.prototype.waitForValidateGdoc = function () {
        var _this = this;
        if (this.timeoutId) {
            clearTimeout(this.timeoutId);
        }
        this.timeoutId = setTimeout(function () {
            if (_this.timeIntervalId) {
                clearInterval(_this.timeIntervalId);
            }
            if (_this.selectedTabIndex === 0) {
                _this.validateDraftContent();
                _this.setTimeInterval();
            }
        }, _environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].gDocRefreshInterval);
    };
    AuthoringTabbedViewComponent.prototype.setTimeInterval = function () {
        var _this = this;
        this.timeIntervalId = setInterval(function () {
            if (_this.selectedTabIndex === 0) {
                _this.validateDraftContent();
            }
        }, _environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].gDocRefreshInterval);
    };
    AuthoringTabbedViewComponent.prototype.ngOnChanges = function () {
        this.subscribeForRouteParams();
        this.loadAuthoringPane();
        this.populateTabContent();
    };
    AuthoringTabbedViewComponent.prototype.subscribeForRouteParams = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            if (params.draftId) {
                _this.selectedDraftId = params.draftId;
            }
        });
    };
    AuthoringTabbedViewComponent.prototype.loadAuthoringPane = function () {
        if (!this.selectedNodeId) {
            return;
        }
        if (this.nodeDrafts && this.nodeDrafts.length > 0) {
            this.setSelectedDraft();
            this.nodeDraftChange.emit(this.draft.value);
            this.unsubscribe();
            this.topic = {
                value: 'Draft/' + this.draft.value.draftId,
                subscriptionTopic: this.align + 'Draft/' + this.draft.value.draftId,
                eventName: 'validateDraftContentEvent'
            };
            this.subscribeTopic();
        }
    };
    AuthoringTabbedViewComponent.prototype.setSelectedDraft = function () {
        if (this.selectedDraftId) {
            var selectedDraft = underscore__WEBPACK_IMPORTED_MODULE_5__["find"](this.nodeDrafts, function (draft) {
                return draft.draftId === this.selectedDraftId;
            }.bind(this));
            if (!selectedDraft) {
                selectedDraft = this.nodeDrafts[0];
            }
            this.draft.setValue(selectedDraft, { onlySelf: true });
        }
        else if (!this.draft.value) {
            this.draft.setValue(this.nodeDrafts[0], { onlySelf: true });
            this.populateTabContent();
        }
        else {
            var selectedDraft = underscore__WEBPACK_IMPORTED_MODULE_5__["find"](this.nodeDrafts, function (draft) {
                return draft.draftId === this.draft.value['draftId'];
            }.bind(this));
            if (!selectedDraft) {
                selectedDraft = this.nodeDrafts[0];
            }
            this.draft.setValue(selectedDraft, { onlySelf: true });
        }
    };
    AuthoringTabbedViewComponent.prototype.onTabChangeEvent = function (selectedTabIndex) {
        this.selectedTabIndex = selectedTabIndex;
        this.currentTab = this.config[this.selectedTabIndex];
        this.populateTabContent();
    };
    AuthoringTabbedViewComponent.prototype.onDraftChange = function () {
        this.unsubscribe();
        this.topic = {
            value: 'Draft/' + this.draft.value.draftId,
            subscriptionTopic: this.align + 'Draft/' + this.draft.value.draftId,
            eventName: 'validateDraftContentEvent'
        };
        this.subscribeTopic();
        this.nodeDraftChange.emit(this.draft.value);
        this.populateTabContent();
    };
    AuthoringTabbedViewComponent.prototype.populateTabContent = function () {
        this.validationErrors = [];
        this.showSpinner = true;
        this.isDraftContentValid = true;
        this.gDocUrl = '';
        this.content = '';
        this.currentTab = this.config[this.selectedTabIndex];
        if (this.currentTab.contentType === 'GDoc') {
            this.viewGDoc();
        }
        else if (this.currentTab.contentType === 'history') {
            this.showSpinner = false;
        }
        else {
            this.getDraftContent(this.draft.value.draftId, this.currentTab.contentType);
        }
    };
    AuthoringTabbedViewComponent.prototype.getDraftContent = function (draftId, contentType) {
        var _this = this;
        var serviceResponse;
        serviceResponse = this.tabbedViewService.getDraftContent(draftId, contentType);
        if (serviceResponse.data && serviceResponse.data.length >= 0) {
            this.bindContent({ content: serviceResponse.data, draftId: draftId, contentType: contentType });
        }
        serviceResponse.responseObservable.toPromise().then(function (response) {
            _this.subscribeForResponse({
                subscriptionTopic: response.json().responseId,
                operation: _constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].operation[contentType]
            });
        });
    };
    AuthoringTabbedViewComponent.prototype.mdEvent = function (response) {
        var newValue = response.data.content.draftContent;
        var draftId = response.data.content.draftId;
        var oldValue = this.tabbedViewService.getDraftContentFromCache(draftId, 'md');
        var equals = this.equals(oldValue, newValue);
        if (!equals) {
            this.tabbedViewService.setDraftContent(draftId, 'md', newValue);
            this.bindContent({ content: newValue, draftId: draftId, contentType: 'md' });
        }
    };
    AuthoringTabbedViewComponent.prototype.htmlEvent = function (response) {
        var newValue = response.data.content.contentAsHtml;
        var draftId = response.data.content.draftId;
        var oldValue = this.tabbedViewService.getDraftContentFromCache(draftId, 'html');
        var equals = this.equals(oldValue, newValue);
        if (!equals) {
            this.tabbedViewService.setDraftContent(draftId, 'html', newValue);
            this.bindContent({ content: newValue, draftId: draftId, contentType: 'html' });
        }
    };
    AuthoringTabbedViewComponent.prototype.xmlEvent = function (response) {
        var newValue = response.data.content.contentAsXml;
        var draftId = response.data.content.draftId;
        var oldValue = this.tabbedViewService.getDraftContentFromCache(draftId, 'xml');
        var equals = this.equals(oldValue, newValue);
        if (!equals) {
            this.tabbedViewService.setDraftContent(draftId, 'xml', newValue);
            this.bindContent({ content: newValue, draftId: draftId, contentType: 'xml' });
        }
    };
    AuthoringTabbedViewComponent.prototype.bindContent = function (value) {
        if (this.currentTab.contentType !== 'GDoc' && this.currentTab.contentType !== 'history') {
            this.bindContentToDraftId(value);
        }
    };
    AuthoringTabbedViewComponent.prototype.bindContentToDraftId = function (value) {
        if (this.draft.value.draftId === value.draftId) {
            value.content = this.currentTab.contentType === 'md' || this.currentTab.contentType === 'xml' ? new _common_utils__WEBPACK_IMPORTED_MODULE_11__["utils"]().convertCustomTagsToMDContent(value.content.replace(/(?:\r\n|\r|\n)/g, '<br />')) : value.content;
            this.gDocUrl = '';
            this.showSpinner = false;
            this.content = value.content;
            if (this.currentTab.title === 'preview') {
                this.postMessage(value.content);
            }
        }
    };
    AuthoringTabbedViewComponent.prototype.viewGDoc = function () {
        if (this.nodeDrafts && this.nodeDrafts.length > 0) {
            if (this.draft.value.gDocUrl) {
                this.waitForValidateGdoc();
                this.gDocUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.draft.value.gDocUrl);
                this.content = '';
            }
            else {
                this.content = 'GDoc is not available for Source Control and Approved Edition Drafts';
                this.gDocUrl = '';
            }
            this.showSpinner = false;
        }
    };
    AuthoringTabbedViewComponent.prototype.validateDraftContent = function () {
        var _this = this;
        if (this.currentTab.contentType === 'GDoc' && this.draft.value.draftType === _constants__WEBPACK_IMPORTED_MODULE_6__["DraftType"].WorkInProgress) {
            console.log(this.align + 'draft validate call on : ' + new Date());
            this.tabbedViewService.validateDraftContent(this.draft.value.draftId).then(function (responseId) {
                _this.subscribeForResponse({
                    subscriptionTopic: responseId,
                    operation: _constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].operation.validateDraftContent
                });
            });
        }
    };
    AuthoringTabbedViewComponent.prototype.validateDraftContentEvent = function (notification) {
        if (notification.data && notification.data.content) {
            this.isDraftContentValid = notification.data.content.isDraftContentValid === _constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].draftSnapshotValidStatus.Invalid ? false : true;
            this.failedAssets = this.filterFailedAssets(notification);
        }
        else {
            this.getDraftContentForTab();
        }
    };
    AuthoringTabbedViewComponent.prototype.getDraftContentForTab = function () {
        if (this.currentTab.contentType === 'md' || this.currentTab.contentType === 'html' || this.currentTab.contentType === 'xml') {
            this.getDraftContent(this.draft.value.draftId, this.currentTab.contentType);
        }
    };
    AuthoringTabbedViewComponent.prototype.filterFailedAssets = function (notification) {
        var extractedAssets = notification.data.content.extractedAssets;
        return underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](extractedAssets, function (asset) {
            if (!asset.isValid) {
                return asset.assetId;
            }
        });
    };
    AuthoringTabbedViewComponent.prototype.openGDocErrorDialog = function () {
        if (this.isDraftContentValid) {
            return;
        }
        else {
            this.dialog.open(_gdoc_error_log_gdoc_error_log_component__WEBPACK_IMPORTED_MODULE_7__["GDocErrorLogComponent"], { data: this.failedAssets, width: '800px' });
        }
    };
    AuthoringTabbedViewComponent.prototype.resize = function (e) {
        this.isExpanded = !this.isExpanded;
        this.explandCollapseEvent.emit();
    };
    AuthoringTabbedViewComponent.prototype.ngOnDestroy = function () {
        if (this.timeoutId) {
            clearTimeout(this.timeoutId);
        }
        if (this.timeIntervalId) {
            clearInterval(this.timeIntervalId);
        }
        this.cleanUp();
    };
    AuthoringTabbedViewComponent.prototype.postMessage = function (value) {
        var frame = document.getElementById(this.align + '_uf-preview-iframe');
        if (frame) {
            var doc = frame['contentWindow'];
            doc.postMessage(value, '*');
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], AuthoringTabbedViewComponent.prototype, "selectedTabIndex", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], AuthoringTabbedViewComponent.prototype, "align", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], AuthoringTabbedViewComponent.prototype, "config", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AuthoringTabbedViewComponent.prototype, "nodeDrafts", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], AuthoringTabbedViewComponent.prototype, "selectedNodeId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AuthoringTabbedViewComponent.prototype, "explandCollapseEvent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AuthoringTabbedViewComponent.prototype, "nodeDraftChange", void 0);
    AuthoringTabbedViewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-authoring-tabbed-view',
            template: __webpack_require__(/*! ./authoring-tabbed-view.component.html */ "./src/app/authoring-tabbed-view/authoring-tabbed-view.component.html"),
        }),
        __metadata("design:paramtypes", [_authoring_tabbed_view_service__WEBPACK_IMPORTED_MODULE_1__["AuthoringTabbedViewService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_router__WEBPACK_IMPORTED_MODULE_10__["ActivatedRoute"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["DomSanitizer"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"], _angular_material__WEBPACK_IMPORTED_MODULE_8__["MatDialog"]])
    ], AuthoringTabbedViewComponent);
    return AuthoringTabbedViewComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_9__["BaseComponent"]));



/***/ }),

/***/ "./src/app/authoring-tabbed-view/authoring-tabbed-view.service.ts":
/*!************************************************************************!*\
  !*** ./src/app/authoring-tabbed-view/authoring-tabbed-view.service.ts ***!
  \************************************************************************/
/*! exports provided: AuthoringTabbedViewService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthoringTabbedViewService", function() { return AuthoringTabbedViewService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/authoring-cache.service */ "./src/app/common/authoring-cache.service.ts");
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AuthoringTabbedViewService = (function () {
    function AuthoringTabbedViewService(injector, httpService, authoringCacheService, localEventEmitterService) {
        this.injector = injector;
        this.httpService = httpService;
        this.authoringCacheService = authoringCacheService;
        this.localEventEmitterService = localEventEmitterService;
    }
    AuthoringTabbedViewService.prototype.getDraftContent = function (draftId, contentType) {
        return {
            data: this.authoringCacheService.getDraftContent(draftId, contentType),
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/Drafts/' + draftId + '/' + contentType)
        };
    };
    AuthoringTabbedViewService.prototype.getDraftContentFromCache = function (draftId, contentType) {
        return this.authoringCacheService.getDraftContent(draftId, contentType);
    };
    AuthoringTabbedViewService.prototype.validateDraftContent = function (draftId) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/drafts/' + draftId + '/validate').toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AuthoringTabbedViewService.prototype.getAllTags = function () {
        return {
            data: undefined,
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/tags')
        };
    };
    AuthoringTabbedViewService.prototype.getTabs = function () {
        var url = _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/tabs';
        return this.httpService.get(url).toPromise().then(function (response) {
            return response.json().data;
        });
    };
    AuthoringTabbedViewService.prototype.getDraftTags = function (id) {
        return {
            data: undefined,
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/draftTags/' + id)
        };
    };
    AuthoringTabbedViewService.prototype.updateDraftTags = function (draftID, tag, operation) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/updateDraftTags/' + tag.name).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AuthoringTabbedViewService.prototype.setDraftContent = function (draftId, contentType, fileContent) {
        this.authoringCacheService.setDraftContent(draftId, contentType, fileContent);
    };
    AuthoringTabbedViewService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"], _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_3__["AuthoringCacheService"], _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_4__["LocalEventEmitterService"]])
    ], AuthoringTabbedViewService);
    return AuthoringTabbedViewService;
}());



/***/ }),

/***/ "./src/app/authoring-view/authoring-view.component.html":
/*!**************************************************************!*\
  !*** ./src/app/authoring-view/authoring-view.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n  <div fxLayout=\"row\" ngClass=\"breadcrumb\" fxLayoutGap=\"15px\" fxLayoutAlign=\"space-between center\">\r\n    <div fxLayout=\"row\" fxLayoutGap=\"25px\" fxLayoutWrap>\r\n      <strong>\r\n        {{selectedProject.projectName}}&nbsp;\r\n        <span *ngIf=\"selectedProject.typeOfContent!=documentationType.KnowledgeBase\">\r\n          ({{selectedDistribution.distributionName}})\r\n        </span>\r\n      </strong>\r\n      <a *ngFor=\"let node of hierarchy\" (click)=\"navigate(node)\">\r\n        <strong>{{node.shortTitle}} </strong>\r\n      </a>\r\n    </div>\r\n    <i class=\"mdi mdi-arrow-collapse mdi-24px cursor-pointer\" (click)=\"editorsExpanded=!editorsExpanded\" *ngIf=\"editorsExpanded\"></i>\r\n    <i class=\"mdi mdi-arrow-expand mdi-24px cursor-pointer\" (click)=\"editorsExpanded=!editorsExpanded\" *ngIf=\"!editorsExpanded\"></i>\r\n  </div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"space-between end\" fxFlex=\"40px\" *ngIf=\"tabs && !editorsExpanded\">\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"center stretch\" fxFlex fxFlexOffset=\"3px\">\r\n      <form [formGroup]=\"updateNodeTitleForm\" fxLayout=\"column\" class=\"update-node-authoring-view\">\r\n        <span>Title</span>\r\n        <div ngClass=\"custom-mat-input-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex>\r\n          <input type=\"text\" ngClass=\"form-control\" [formControl]=\"nodeTitle\" fxFlex>\r\n          <i class=\"mat-suffix mdi mdi-pencil mdi-24px cursor-pointer\" *ngIf=\"!nodeTitle.enabled && isOperationAllowed([cmsOperations.UpdateNode]) && !isScriptRef()\"\r\n            (click)=\"doNodeOperation()\"></i>\r\n          <i class=\"mat-suffix mdi mdi-check mdi-24px cursor-pointer\" *ngIf=\"nodeTitle.enabled && isOperationAllowed([cmsOperations.UpdateNode]) && !isScriptRef()\"\r\n            (click)=\"updateNodeTitleForm.valid?doNodeOperation('updateTitle'):''\"></i>\r\n          <i class=\"mat-suffix mdi mdi-close mdi-24px cursor-pointer\" *ngIf=\"nodeTitle.enabled && isOperationAllowed([cmsOperations.UpdateNode]) && !isScriptRef()\"\r\n            (click)=\"doNodeOperation()\"></i>\r\n        </div>\r\n        <mat-error *ngIf=\"nodeTitle.hasError('maxlength') || nodeTitle.hasError('minlength') || nodeTitle.hasError('whitespace') || nodeTitle.hasError('required')\"\r\n          class=\"error-message\">Minimum 5, Maximum 100 characters allowed. without trailing, leading spaces.</mat-error>\r\n\r\n        <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isEditNodeTitleInProgress\"></mat-progress-bar>\r\n      </form>\r\n    </div>\r\n    <div class=\"button-row\" fxLayout=\"row\" fxLayoutAlign=\"flex-end end\" fxFlexOffset=\"10px\">\r\n      <button mat-raised-button color=\"primary\" (click)=\"openNewDraftDialog()\" [fxHide]=\"!isOperationAllowed([cmsOperations.CreateDraft])\">\r\n        <i class=\"mdi mdi-plus mdi-18px\"></i> New Draft\r\n      </button>\r\n      <button mat-raised-button [matMenuTriggerFor]=\"insertMenu\" [disabled]=\"!selectedNodeDrafts\" fxFlexOffset=\"10px\" [fxHide]=\"!isOperationAllowed([cmsOperations.UpsertAsset])\">\r\n        <i class=\"mdi mdi-attachment mdi-rotate-90 mdi-18px\"></i> INSERT\r\n        <i class=\"mdi mdi-menu-down mdi-18px\"></i>\r\n        <mat-menu #insertMenu=\"matMenu\" xPosition=\"before\" yPosition=\"below\" [overlapTrigger]=\"false\">\r\n          <button mat-menu-item (click)=\"insertAssetDialog(assetType.image)\">\r\n            <mat-icon>\r\n              <i class=\"mdi mdi-file-image mdi-18px\"></i>\r\n            </mat-icon>\r\n            <span>IMAGE</span>\r\n          </button>\r\n          <button mat-menu-item (click)=\"insertAssetDialog(assetType.codeSnippet)\">\r\n            <mat-icon>\r\n              <i class=\"mdi mdi-code-not-equal-variant mdi-18px\"></i>\r\n            </mat-icon>\r\n            <span>CODE BLOCK</span>\r\n          </button>\r\n          <button mat-menu-item (click)=\"insertAssetDialog(assetType.internalArticleUrl)\">\r\n            <mat-icon>\r\n              <i class=\"mdi mdi-link-variant mdi-18px\"></i>\r\n            </mat-icon>\r\n            <span>CMS LINK</span>\r\n          </button>\r\n        </mat-menu>\r\n      </button>\r\n      <button mat-raised-button [disabled]=\"!selectedNodeDrafts\" fxFlexOffset=\"10px\" (click)=\"openComparisionTool()\">\r\n        <i class=\"mdi mdi-compare mdi-18px\"></i> Compare\r\n      </button>\r\n      <button mat-raised-button [disabled]=\"!selectedNodeDrafts\" (click)=\"sideNavPosition = true;openDocumentHistorySidenav()\" fxFlexOffset=\"10px\">\r\n        <i class=\"mdi mdi-history mdi-18px\"></i> Doc History\r\n      </button>\r\n      <button [fxHide]=\"!isOperationAllowed([cmsOperations.AcceptDraftToLive])\" mat-raised-button fxFlexOffset=\"10px\" color=\"accent\"\r\n        [disabled]=\"!selectedNodeDrafts||this.selectedNodeDrafts['LEFT'].draftType==draftType.LiveDraft\" (click)=\"pushDraftToLive()\"\r\n        *ngIf=\"differentDrafts\" matTooltip=\"Approve Draft overwrites live draft (queueing it for publish) and coder draft (committing it to version control)\">\r\n        <i class=\"mdi mdi-checkbox-marked-circle-outline mdi-18px\"></i> Approve Draft\r\n      </button>\r\n      <button [fxHide]=\"!isOperationAllowed([cmsOperations.AcceptDraftToLive])\" mat-raised-button fxFlexOffset=\"10px\" color=\"accent\"\r\n        [disabled]=\"!selectedNodeDrafts\" [matMenuTriggerFor]=\"menu\" *ngIf=\"!differentDrafts\" matTooltip=\"Approve Draft overwrites live draft (queueing it for publish) and coder draft (committing it to version control)\">\r\n        <i class=\"mdi mdi-checkbox-marked-circle-outline mdi-18px\"></i> Approve Draft\r\n      </button>\r\n      <mat-menu #menu=\"matMenu\">\r\n        <button mat-menu-item *ngFor=\"let draft of selectedDrafts\" [disabled]=\"draft.draftType==draftType.LiveDraft\" (click)=\"pushDraftToLive(draft)\">{{draft.draftName}}</button>\r\n      </mat-menu>\r\n    </div>\r\n  </div>\r\n  <mat-sidenav-container fxLayout=\"column\" fxFlex>\r\n    <mat-sidenav #documentHistorySidenav fixedInViewport=\"true\" [position]=\"sideNavPosition?'end':'start'\" ngClass=\"node-history-sidenav-wrapper\">\r\n      <app-document-activity></app-document-activity>\r\n    </mat-sidenav>\r\n    <mat-sidenav #sidenav [position]=\"!sideNavPosition?'end':'start'\" mode=\"over\" ngClass=\"document-properties-wrapper\">\r\n      <div fxLayout=\"column\">\r\n        <mat-toolbar color=\"primary\" fxFlex=\"50px\">\r\n          <h3 fxFlex>Document Properties</h3>\r\n          <span (click)=\"sidenav.close()\" ngClass=\"cursor-pointer\">\r\n            <i class=\"mdi mdi-arrow-right mdi-24px\"></i>\r\n          </span>\r\n        </mat-toolbar>\r\n        <div ngClass=\"document-properties\">\r\n          <app-tag-view [nodeDrafts]=\"nodeDrafts\"></app-tag-view>\r\n        </div>\r\n      </div>\r\n    </mat-sidenav>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxFlexFill *ngIf=\"draftsFetched && nodeDrafts.length > 0 && tabs\">\r\n      <app-authoring-tabbed-view fxFlex [config]=\"tabs\" [selectedTabIndex]=\"selectedTabIndex\" [selectedNodeId]=\"selectedNodeId\"\r\n        [nodeDrafts]=\"nodeDrafts\" [align]=\"'left'\" [style.width.px]=\"isRightDivVisible?48:97\" (explandCollapseEvent)=\"isRightDivVisible=!isRightDivVisible\"\r\n        fxLayout=\"column\" (nodeDraftChange)=\"draftChange($event,'LEFT')\" [fxHide]=\"!isLeftDivVisible\"></app-authoring-tabbed-view>\r\n\r\n      <app-authoring-tabbed-view fxFlex [config]=\"tabs\" [selectedTabIndex]=\"selectedTabIndex\" [selectedNodeId]=\"selectedNodeId\"\r\n        [nodeDrafts]=\"nodeDrafts\" [align]=\"'right'\" [style.width.px]=\"isLeftDivVisible?48:97\" (explandCollapseEvent)=\"isLeftDivVisible=!isLeftDivVisible\"\r\n        fxLayout=\"column\" (nodeDraftChange)=\"draftChange($event,'RIGHT')\" [fxHide]=\"!isRightDivVisible\"></app-authoring-tabbed-view>\r\n\r\n      <div fxFlex=\"3%\" fxLayout=\"column\" fxFlexFill ngClass=\"sidenav-toggle\" fxFlexOffset=\"15px\">\r\n        <div (click)=\"sideNavPosition = false;sidenav.open()\" fxFlexOffset=\"10px\" fxLayoutAlign=\"center start\" ngClass=\"cursor-pointer\">\r\n          <i class=\"mdi mdi-arrow-left mdi-24px\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"!draftsFetched\" fxFlex fxLayoutAlign=\"center center\">\r\n      <div class=\"loadingholder\">\r\n        <div class=\"middle\"></div>\r\n        <div class=\"logoicon logoloader\"></div>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"draftsFetched && nodeDrafts.length<1\" fxFlex fxLayoutAlign=\"center center\">\r\n      No Drafts Available\r\n    </div>\r\n  </mat-sidenav-container>\r\n</div>\r\n<div ngClass=\"blockAuthoringView\" *ngIf=\"disableAuthoringView\">\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/authoring-view/authoring-view.component.ts":
/*!************************************************************!*\
  !*** ./src/app/authoring-view/authoring-view.component.ts ***!
  \************************************************************/
/*! exports provided: AuthoringViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthoringViewComponent", function() { return AuthoringViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _authoring_view_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./authoring-view.service */ "./src/app/authoring-view/authoring-view.service.ts");
/* harmony import */ var _new_draft_new_draft_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../new-draft/new-draft.component */ "./src/app/new-draft/new-draft.component.ts");
/* harmony import */ var _insert_asset_insert_asset_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../insert-asset/insert-asset.component */ "./src/app/insert-asset/insert-asset.component.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../confirm-dialog/confirm-dialog.component */ "./src/app/confirm-dialog/confirm-dialog.component.ts");
/* harmony import */ var _tab_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./tab.service */ "./src/app/authoring-view/tab.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/whitespace-validator */ "./src/app/common/whitespace-validator.ts");
/* harmony import */ var _insert_link_insert_link_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../insert-link/insert-link.component */ "./src/app/insert-link/insert-link.component.ts");
/* harmony import */ var _project_project__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../project/project */ "./src/app/project/project.ts");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};



















var AuthoringViewComponent = (function (_super) {
    __extends(AuthoringViewComponent, _super);
    function AuthoringViewComponent(route, tabService, injector, authoringViewService, router, formBuilder, dialog, dom) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.route = route;
        _this.tabService = tabService;
        _this.injector = injector;
        _this.authoringViewService = authoringViewService;
        _this.router = router;
        _this.formBuilder = formBuilder;
        _this.dialog = dialog;
        _this.toggle = false;
        _this.selectedTabIndex = 0;
        _this.isLeftDivVisible = true;
        _this.isRightDivVisible = true;
        _this.nodeDrafts = [];
        _this.selectedProject = new _project_project__WEBPACK_IMPORTED_MODULE_15__["ProjectContent"]();
        _this.differentDrafts = false;
        _this.selectedDrafts = [];
        _this.assetType = _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].assetType;
        _this.draftType = _constants__WEBPACK_IMPORTED_MODULE_9__["DraftType"];
        _this.documentationType = _constants__WEBPACK_IMPORTED_MODULE_9__["DocumentationType"];
        _this.draftsFetched = false;
        _this.disableAuthoringView = false;
        _this.nodeTitle = new _angular_forms__WEBPACK_IMPORTED_MODULE_12__["FormControl"]({ value: '', disabled: true }, [_angular_forms__WEBPACK_IMPORTED_MODULE_12__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_12__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_12__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_13__["WhiteSpaceValidator"]]);
        _this.dom = dom;
        _this.updateNodeTitleForm = _this.formBuilder.group({ nodeTitle: _this.nodeTitle, });
        return _this;
    }
    AuthoringViewComponent.prototype.ngOnInit = function () {
        this.subscribeForParentParams();
        this.subscribeForRouteParams();
    };
    AuthoringViewComponent.prototype.subscribeForRouteParams = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.selectedNodeId = params.documentId;
            _this.treeViewService.setNodeIdToCache(params.documentId);
            _this.nodeDrafts = [];
            _this.selectedNodeDrafts = undefined;
            _this.selectedNode = _this.treeViewService.getNode(_this.selectedNodeId);
            _this.nodeTitle.setValue(_this.selectedNode ? (_this.selectedNode.title ? _this.selectedNode.title : '') : '');
            _this.emitLocalEvent({ eventName: 'nodeSelectedEvent', value: _this.selectedNodeId });
            _this.createBreadCrumb();
            _this.draftsFetched = false;
            _this.disableAuthoringView = false;
            _this.getDraftList(_this.selectedNodeId, false);
            _this.saveMetaDataToLocalStorage();
            _this.unsubscribe();
            _this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_9__["topics"].Node + '/' + _this.selectedNodeId, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_9__["topics"].Node + '/' + _this.selectedNodeId, eventName: 'updateDraftList' };
            _this.subscribeTopic();
        });
    };
    AuthoringViewComponent.prototype.updateDraftList = function () {
        this.getDraftList(this.selectedNodeId);
    };
    AuthoringViewComponent.prototype.refreshDrafts = function (data) {
        var _this = this;
        if (data.value.nodeId !== this.selectedNodeId) {
            return;
        }
        this.draftsFetched = true;
        var nodeDrafts = data.value.drafts;
        if (nodeDrafts && nodeDrafts.length > 0) {
            this.nodeDrafts = this.sortDrafts(nodeDrafts, [this.draftType.CoderDraft, this.draftType.LiveDraft, this.draftType.WorkInProgress]);
        }
        else {
            var dialogRef = this.dialog.open(_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_10__["ConfirmDialogComponent"], {
                data: { message: 'No drafts available.Do you want to create one?', showButton: true, buttonText: _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].confirmButtonText.Create }, width: '400px'
            });
            dialogRef.afterClosed().subscribe(function (result) {
                if (result) {
                    _this.openNewDraftDialog();
                }
            });
        }
    };
    AuthoringViewComponent.prototype.refreshNodes = function (data) {
        if (data.value.distributionId === this.distributionService.getDistributionIdFromCache()) {
            this.selectedNode = this.treeViewService.getNode(this.selectedNodeId);
            this.nodeTitle.setValue(this.selectedNode ? (this.selectedNode.title ? this.selectedNode.title : '') : '');
            this.createBreadCrumb();
        }
    };
    AuthoringViewComponent.prototype.subscribeForParentParams = function () {
        var _this = this;
        this.route.parent.params.subscribe(function (params) {
            _this.selectedProject = _this.projectService.getSelectedProject();
            _this.getTabs();
            _this.selectedDistribution = _this.distributionService.getSelectedDistributionFromCache();
        });
    };
    AuthoringViewComponent.prototype.disableAuthoringViewEvent = function (data) {
        this.disableAuthoringView = data;
    };
    AuthoringViewComponent.prototype.navigate = function (selectdNode) {
        this.router.navigate(['../../document', selectdNode.nodeId], { relativeTo: this.route });
    };
    AuthoringViewComponent.prototype.getTabs = function () {
        this.tabs = undefined;
        if (this.selectedProject['typeOfContent'] === this.documentationType.ScriptRef) {
            this.tabs = this.tabService.getScriptRefTabs();
        }
        else {
            this.tabs = this.tabService.getDefaultTabs();
        }
    };
    AuthoringViewComponent.prototype.createBreadCrumb = function () {
        var nodes = this.treeViewService.getTreeNodesFromCache();
        if (nodes && nodes.length > 0) {
            this.hierarchy = this.treeViewService.findHierarchy(this.selectedNodeId, undefined);
            this.hierarchy.reverse();
        }
    };
    AuthoringViewComponent.prototype.draftChange = function (draft, key) {
        if (!draft || !draft.draftId) {
            return;
        }
        if (!this.selectedNodeDrafts) {
            this.selectedNodeDrafts = {};
        }
        this.selectedNodeDrafts[key] = draft;
        var leftDraftId = this.selectedNodeDrafts['LEFT'] ? this.selectedNodeDrafts['LEFT'].draftId : '';
        var rightDraftId = this.selectedNodeDrafts['RIGHT'] ? this.selectedNodeDrafts['RIGHT'].draftId : '';
        this.draftService.setDraftIdToCache(leftDraftId, true);
        this.draftService.setDraftIdToCache(rightDraftId, false);
        this.differentDrafts = leftDraftId === rightDraftId ? true : false;
        this.selectedDrafts = underscore__WEBPACK_IMPORTED_MODULE_2__["values"](this.selectedNodeDrafts);
    };
    AuthoringViewComponent.prototype.pushDraftToLive = function (draft) {
        var _this = this;
        if (!draft) {
            draft = this.selectedNodeDrafts['LEFT'];
        }
        this.authoringViewService.pushDraftToLive(draft.draftId).
            then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].operation.acceptDraftToLive });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_8__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_9__["cmsOperation"].AcceptDraftToLive, _constants__WEBPACK_IMPORTED_MODULE_9__["eventStatus"].Wait, { draftName: draft.draftName });
            _this.addOperationEvent(operation);
        });
    };
    AuthoringViewComponent.prototype.saveMetaDataToLocalStorage = function () {
        var value = {
            date: new Date(),
            url: this.route['_routerState'].snapshot.url,
            projectName: this.selectedProject['projectName'],
            projectId: this.selectedProject['_id'],
            distributionName: this.selectedDistribution['distributionName'],
            title: this.nodeTitle.value
        };
        this.authoringViewService.addRecentlyViewedDocuments(value);
    };
    AuthoringViewComponent.prototype.openNewDraftDialog = function () {
        this.dialog.open(_new_draft_new_draft_component__WEBPACK_IMPORTED_MODULE_5__["NewDraftComponent"], { data: { nodeDrafts: this.nodeDrafts, nodeId: this.selectedNodeId, node: this.selectedNode }, width: '560px' });
    };
    AuthoringViewComponent.prototype.ngOnDestroy = function () {
        this.emitLocalEvent({ eventName: 'nodeSelectedEvent', value: undefined });
        this.cleanUp();
    };
    AuthoringViewComponent.prototype.insertAssetDialog = function (assetTypeValue) {
        if (assetTypeValue === _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].assetType.image || assetTypeValue === _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].assetType.codeSnippet) {
            this.dialog.open(_insert_asset_insert_asset_component__WEBPACK_IMPORTED_MODULE_6__["InsertAssetComponent"], {
                width: '1090px',
                height: '600px',
                data: { assetType: assetTypeValue }
            });
        }
        else {
            this.dialog.open(_insert_link_insert_link_component__WEBPACK_IMPORTED_MODULE_14__["InsertLinkComponent"], {
                width: '700px',
                data: {
                    assetType: assetTypeValue,
                    selectedProjectId: this.selectedProject['_id'],
                    selectedDistributionId: this.selectedDistribution ? this.selectedDistribution.distributionId : undefined,
                    selectedNodeId: this.selectedNodeId,
                    selectedNode: this.selectedNode
                }
            });
        }
    };
    AuthoringViewComponent.prototype.sortDrafts = function (draftList, sortOrder) {
        var sortedCollection = [];
        underscore__WEBPACK_IMPORTED_MODULE_2__["each"](sortOrder, function (draftType) {
            var drafts = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](draftList, function (draft) {
                return draft.draftType === draftType;
            });
            if (draftType === this.draftType.WorkInProgress) {
                drafts = underscore__WEBPACK_IMPORTED_MODULE_2__["sortBy"](drafts, function (draft) { return draft.draftName.toLowerCase(); });
            }
            sortedCollection = sortedCollection.concat(drafts);
        }.bind(this));
        return sortedCollection;
    };
    AuthoringViewComponent.prototype.openDocumentHistorySidenav = function () {
        this.documentHistorySidenav.toggle();
        this.sidenav.close();
    };
    AuthoringViewComponent.prototype.toggleDocumentHistorySideNav = function (value) {
        this.documentHistorySidenav.toggle();
    };
    AuthoringViewComponent.prototype.openComparisionTool = function () {
        this.router.navigate(['/comparison-tool']);
    };
    AuthoringViewComponent.prototype.doNodeOperation = function (requestType) {
        switch (requestType) {
            case 'updateTitle':
                this.updateNode();
                break;
            default:
                this.nodeTitle.setValue(this.selectedNode.title);
                this.nodeTitle.enabled ? this.nodeTitle.disable() : this.nodeTitle.enable();
                break;
        }
    };
    AuthoringViewComponent.prototype.isScriptRef = function () {
        if (this.selectedProject['typeOfContent'] === this.documentationType.ScriptRef) {
            return true;
        }
        return false;
    };
    AuthoringViewComponent.prototype.updateNode = function () {
        var _this = this;
        this.isEditNodeTitleInProgress = true;
        var node = {
            nodeId: this.selectedNode.nodeId,
            title: this.nodeTitle.value,
            shortTitle: this.selectedNode.shortTitle,
            fileName: this.selectedNode.fileName
        };
        this.treeViewService.updateNode(node).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].operation.updateNode });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_8__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_9__["cmsOperation"].UpdateNode, _constants__WEBPACK_IMPORTED_MODULE_9__["eventStatus"].Wait, { nodeName: node.title });
            _this.addOperationEvent(operation);
            _this.isEditNodeTitleInProgress = false;
            _this.nodeTitle.enabled ? _this.nodeTitle.disable() : _this.nodeTitle.enable();
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('documentHistorySidenav'),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatSidenav"])
    ], AuthoringViewComponent.prototype, "documentHistorySidenav", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sidenav'),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatSidenav"])
    ], AuthoringViewComponent.prototype, "sidenav", void 0);
    AuthoringViewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-project-view',
            template: __webpack_require__(/*! ./authoring-view.component.html */ "./src/app/authoring-view/authoring-view.component.html"),
            providers: [_tab_service__WEBPACK_IMPORTED_MODULE_11__["TabService"], _authoring_view_service__WEBPACK_IMPORTED_MODULE_4__["AuthoringViewService"]]
        }),
        __param(7, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__["DOCUMENT"])),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _tab_service__WEBPACK_IMPORTED_MODULE_11__["TabService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"],
            _authoring_view_service__WEBPACK_IMPORTED_MODULE_4__["AuthoringViewService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"], _angular_forms__WEBPACK_IMPORTED_MODULE_12__["FormBuilder"], _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialog"],
            Document])
    ], AuthoringViewComponent);
    return AuthoringViewComponent;
}(_operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_16__["OperationBaseComponent"]));



/***/ }),

/***/ "./src/app/authoring-view/authoring-view.service.ts":
/*!**********************************************************!*\
  !*** ./src/app/authoring-view/authoring-view.service.ts ***!
  \**********************************************************/
/*! exports provided: AuthoringViewService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthoringViewService", function() { return AuthoringViewService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _common_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var _common_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/storage.service */ "./src/app/common/storage.service.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AuthoringViewService = (function () {
    function AuthoringViewService(httpService, userService, storageService) {
        this.httpService = httpService;
        this.userService = userService;
        this.storageService = storageService;
    }
    AuthoringViewService.prototype.pushDraftToLive = function (draftId) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/Drafts/' + draftId + '/AcceptDraftToLive', { draftId: draftId }).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AuthoringViewService.prototype.addRecentlyViewedDocuments = function (document) {
        var key = 'recently_viewed_documents_' + this.userService.user.profile.userId;
        var userDocuments = this.storageService.read(key);
        if (userDocuments) {
            var matchingDocument = underscore__WEBPACK_IMPORTED_MODULE_5__["find"](userDocuments, function (userDocument) {
                return userDocument.url === document.url;
            });
            if (matchingDocument) {
                userDocuments = underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](userDocuments, function (userDocument) {
                    return userDocument.url !== document.url;
                });
                document.date = new Date();
            }
            userDocuments.unshift(document);
            if (userDocuments.length > _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].recentlyViewedDrafts) {
                userDocuments.pop();
            }
        }
        else {
            userDocuments = [document];
        }
        this.storageService.write(key, userDocuments);
    };
    AuthoringViewService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"], _common_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"], _common_storage_service__WEBPACK_IMPORTED_MODULE_4__["StorageService"]])
    ], AuthoringViewService);
    return AuthoringViewService;
}());



/***/ }),

/***/ "./src/app/authoring-view/tab.service.ts":
/*!***********************************************!*\
  !*** ./src/app/authoring-view/tab.service.ts ***!
  \***********************************************/
/*! exports provided: TabService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TabService", function() { return TabService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var TabService = (function () {
    function TabService() {
        this.tabs = [
            {
                'tabId': 0,
                'title': 'GDoc',
                'titleIcon': 'file-document',
                'displayContentInIframe': true,
                'contentType': 'GDoc',
                'CMSOperataion': ''
            },
            {
                'tabId': 1,
                'title': 'HTML',
                'titleIcon': 'code-not-equal-variant',
                'displayContentInIframe': false,
                'contentType': 'html',
                'CMSOperataion': 'GetDraftContentAsHtml'
            },
            {
                'tabId': 2,
                'title': '.md',
                'titleIcon': 'markdown',
                'displayContentInIframe': false,
                'contentType': 'md',
                'CMSOperataion': 'GetDraftContentAsMarkdown'
            },
            {
                'tabId': 3,
                'title': 'xml',
                'titleIcon': 'xml',
                'displayContentInIframe': false,
                'contentType': 'xml',
                'CMSOperataion': 'GetDraftContentAsXml'
            },
            {
                'tabId': 4,
                'title': 'preview',
                'titleIcon': 'eye',
                'displayContentInIframe': false,
                'contentType': 'html',
                'CMSOperataion': 'GetDraftContentAsHtml'
            },
            {
                'tabId': 5,
                'title': 'history',
                'titleIcon': 'history',
                'displayContentInIframe': false,
                'contentType': 'history',
                'CMSOperataion': ''
            }
        ];
        this.defaultTabs = [0, 1, 2, 4, 5];
        this.scriptRefTabs = [0, 1, 3, 4, 5];
    }
    TabService.prototype.getScriptRefTabs = function () {
        return underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](this.tabs, function (tab) {
            return underscore__WEBPACK_IMPORTED_MODULE_1__["indexOf"](this.scriptRefTabs, tab.tabId) >= 0;
        }.bind(this));
    };
    TabService.prototype.getDefaultTabs = function () {
        return underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](this.tabs, function (tab) {
            return underscore__WEBPACK_IMPORTED_MODULE_1__["indexOf"](this.defaultTabs, tab.tabId) >= 0;
        }.bind(this));
    };
    TabService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], TabService);
    return TabService;
}());



/***/ }),

/***/ "./src/app/base.component.ts":
/*!***********************************!*\
  !*** ./src/app/base.component.ts ***!
  \***********************************/
/*! exports provided: BaseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseComponent", function() { return BaseComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var _common_notification_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/notification.service */ "./src/app/common/notification.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ "./src/app/constants.ts");
/* harmony import */ var _common_base_params__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common/base-params */ "./src/app/common/base-params.ts");
/* harmony import */ var _common_user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var _common_authorization_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/authorization.service */ "./src/app/common/authorization.service.ts");
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
/* harmony import */ var rxjs_Subject__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/Subject */ "./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_9__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var BaseComponent = (function () {
    function BaseComponent(injector, parameters) {
        this.injector = injector;
        this.parameters = parameters;
        this.responseCollection = [];
        this.cmsOperations = _constants__WEBPACK_IMPORTED_MODULE_3__["cmsOperation"];
        this.notificationService = injector.get(_common_notification_service__WEBPACK_IMPORTED_MODULE_2__["NotificationService"]);
        this.authorizationService = injector.get(_common_authorization_service__WEBPACK_IMPORTED_MODULE_6__["AuthorizationService"]);
        this.localEventEmitterService = injector.get(_common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_7__["LocalEventEmitterService"]);
        this.titleService = injector.get(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["Title"]);
        this.userService = injector.get(_common_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"]);
        this.title = parameters.title;
        this.loggedInUserId = this.userService.user ? (this.userService.user.profile ? this.userService.user.profile.userId : '') : '';
        this.subscribeForLocalEventEmitter();
        this.setPageTitle(this.title);
    }
    BaseComponent.prototype.subscribeForResponse = function (value) {
        if (!value.operation.raiseOperationEvent) {
            this.responseCollection.push({ subscriptionTopic: value.subscriptionTopic, eventName: value.operation.eventName, raiseOperationEvent: value.operation.raiseOperationEvent });
        }
        this.notificationService.subscribeForResponse(value);
    };
    BaseComponent.prototype.setPageTitle = function (title) {
        if (title) {
            this.titleService.setTitle(title);
        }
    };
    BaseComponent.prototype.subscribeForLocalEventEmitter = function () {
        var _this = this;
        this.subscription = new rxjs_Subject__WEBPACK_IMPORTED_MODULE_8__["Subject"]();
        this.localEventEmitterService.localEvent.takeUntil(this.subscription).subscribe(function (data) {
            var eventName = data.eventName;
            var subscriptionTopic = underscore__WEBPACK_IMPORTED_MODULE_9__["find"](_this.responseCollection, function (value) {
                return value.subscriptionTopic === data.subscriptionTopic;
            });
            if ((!data.notificationType) || data.notificationType === _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].notificationType.Broadcast || subscriptionTopic) {
                if (eventName && _this[eventName]) {
                    _this[eventName](data);
                }
            }
            if (data.notificationType !== _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].notificationType.Broadcast) {
                if (data.subscriptionTopic) {
                    _this.responseCollection = underscore__WEBPACK_IMPORTED_MODULE_9__["filter"](_this.responseCollection, function (value) {
                        return value.subscriptionTopic !== data.subscriptionTopic;
                    });
                }
            }
        });
    };
    BaseComponent.prototype.subscribeTopic = function () {
        if (this.topic) {
            this.notificationService.subscribeTopic(this.topic);
        }
    };
    BaseComponent.prototype.ngOnDestroy = function () {
        this.cleanUp();
    };
    BaseComponent.prototype.cleanUp = function () {
        this.unsubscribe();
        if (this.subscription) {
            this.subscription.next();
            this.subscription.complete();
        }
        this.notificationService.clearSubscriptions(this.responseCollection, true, this.constructor.name);
    };
    BaseComponent.prototype.unsubscribe = function () {
        if (this.topic) {
            this.notificationService.unsubscribeTopic(this.topic);
        }
    };
    BaseComponent.prototype.isOperationAllowed = function (operations) {
        return this.authorizationService.isOperationAllowed(operations);
    };
    BaseComponent.prototype.checkAccess = function (project, cmsOperations) {
        if (this.authorizationService.isOperationAllowed(cmsOperations)) {
            return true;
        }
        else {
            return this.authorizationService.isProjectAdmin(project ? project.projectAdmins : []);
        }
    };
    BaseComponent.prototype.getProfileShortName = function (value) {
        return (value.firstName ? value.firstName.charAt(0).toString().toUpperCase() : '') + (value.lastName ? value.lastName.charAt(0).toString().toUpperCase() : '');
    };
    BaseComponent.prototype.addOperationEvent = function (operation) {
        this.localEventEmitterService.operationEvent.emit({ eventName: 'addOperation', value: operation });
    };
    BaseComponent.prototype.emitLocalEvent = function (value) {
        this.localEventEmitterService.localEvent.emit(value);
    };
    BaseComponent.prototype.equals = function (oldValue, newValue) {
        if (newValue === '' || JSON.stringify(newValue) === '[]') {
            return false;
        }
        if (JSON.stringify(oldValue) === JSON.stringify(newValue)) {
            return true;
        }
        else {
            return false;
        }
    };
    BaseComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-base',
            template: '<div><div>',
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_base_params__WEBPACK_IMPORTED_MODULE_4__["BaseParams"]])
    ], BaseComponent);
    return BaseComponent;
}());



/***/ }),

/***/ "./src/app/batch-merge-tool/batch-merge-tool.component.html":
/*!******************************************************************!*\
  !*** ./src/app/batch-merge-tool/batch-merge-tool.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"batch-merge-main-wrapper\" fxLayout=\"column\" fxFlexFill>\r\n  <mat-toolbar ngClass=\"batch-merge-header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n    <div fxFlex=\"25%\">\r\n      <h2>Compare & Merge</h2>\r\n    </div>\r\n    <div fxFlex=\"75%\" fxLayout=\"row\" fxLayoutAlign=\"start end\">\r\n      <div fxFlex=\"50\" *ngIf=\"nodeList&&nodeList.length>0\" fxLayout=\"column\">\r\n        <span class=\"merge-title\">Merge from</span>\r\n        <div class=\"compare-breadcrums oneline-ellipsis\">\r\n          {{values.destinationProject.projectName}}/{{values.destinationDistribution.distributionName}}\r\n          <span *ngFor=\"let node of selectedNode.destinationNode.destinationPathTitle.reverse()\">/{{node}}\r\n          </span>\r\n        </div>\r\n        <mat-progress-bar mode=\"indeterminate\" *ngIf=\"leftDataLoadInProgress\"></mat-progress-bar>\r\n      </div>\r\n      <div fxFlex=\"50\" *ngIf=\"nodeList&&nodeList.length>0\" fxLayout=\"column\" class=\"ml-20\">\r\n        <span class=\"merge-title\">Merge To</span>\r\n        <div class=\"compare-breadcrums oneline-ellipsis\">\r\n          {{values.sourceProject.projectName}}/{{values.sourceDistribution.distributionName}}\r\n          <span *ngFor=\"let node of selectedNode.sourceNode.sourcePathTitle.reverse()\">\r\n            /{{node}}\r\n          </span>\r\n        </div>\r\n        <mat-progress-bar mode=\"indeterminate\" *ngIf=\"rightDataLoadInProgress\"></mat-progress-bar>\r\n      </div>\r\n    </div>\r\n  </mat-toolbar>\r\n\r\n  <div class=\"batch-merge-dashboard-wrapper\" fxLayout=\"row\" fxFlex=\"100\">\r\n    <div ngClass=\"batch-merge-dashboard-left\" fxFlex=\"25%\" fxLayout=\"column\" fxLayoutGap=\"10px\" [fxShow]=\"nodeList && nodeList.length>0\">\r\n      <div ngClass=\"batch-merge-dashboard-left-header\" fxLayoutAlign=\"space-between center\">\r\n        <button ngClass=\"secondary-btn\" mat-raised-button color=\"primary\" [disabled]=\"selectedNodeIndex<=0\" (click)=\"prevClick()\">\r\n          <i class=\"mdi mdi-arrow-left mdi-18px\"></i>\r\n        </button>\r\n        <span>{{nodeList.length}} Nodes</span>\r\n        <button ngClass=\"secondary-btn\" mat-raised-button color=\"primary\" [disabled]=\"selectedNodeIndex >= nodeList.length-1\" (click)=\"nextClick()\">\r\n          <i class=\"mdi mdi-arrow-right mdi-18px\"></i>\r\n        </button>\r\n      </div>\r\n      <div class=\"batch-merge-avilable-nodes\">\r\n        <div slimScroll>\r\n          <mat-list ngClass=\"batch-merge-dashboard-left-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"0px\">\r\n            <mat-list-item ngClass=\"{{i== this.selectedNodeIndex ? 'selected-node' : ''}}\" *ngFor=\"let node of nodeList;index as i\" (click)=\"setSelectedNode(i)\" class=\"cursor-pointer\">\r\n              <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" fxFlex=\"100\">\r\n                <div ngClass=\"batch-merge-node-list batch-merge-node-list-left\" fxLayout=\"column\" fxFlex=\"40%\" fxLayoutGap=\"5px\" fxLayoutAlign=\"stretch start\">\r\n                  <div fxLayout=\"row\" fxlayoutGap=\"5px\">\r\n                    <i class=\"mdi mdi-file mdi-24px\" fxFlex=\"25px\"></i>\r\n                    <span fxFlex class=\"oneline-ellipsis\" matTooltip=\"{{node.sourceNode.label}}\">{{node.sourceNode.label}}</span>\r\n                  </div>\r\n                  <small class=\"oneline-ellipsis\" matTooltip=\"{{values.destinationProject.projectName}}/{{values.destinationDistribution.distributionName}}\">{{values.destinationProject.projectName}}/{{values.destinationDistribution.distributionName}}</small>\r\n                </div>\r\n                <div ngClass=\"batch-merge-node-list-center\" fxLayout=\"column\" fxFlex=\"20%\" class=\"link-icon\" fxLayoutAlign=\"start stretch\">\r\n                  <span>\r\n                    <i class=\"mdi mdi-arrow-right-bold mdi-18px\"></i>\r\n                  </span>\r\n                </div>\r\n                <div ngClass=\"batch-merge-node-list batch-merge-node-list-right\" fxLayout=\"column\" fxFlex=\"40%\" fxLayoutGap=\"5px\" fxLayoutAlign=\"stretch start\">\r\n                  <div fxLayout=\"row\" fxlayoutGap=\"5px\">\r\n                    <i class=\"mdi mdi-file mdi-24px\"></i>\r\n                    <span class=\"oneline-ellipsis\" matTooltip=\"{{node.destinationNode.label}}\">{{node.destinationNode.label}}</span>\r\n                  </div>\r\n                  <small class=\"oneline-ellipsis\" matTooltip=\"{{values.sourceProject.projectName}}/{{values.sourceDistribution.distributionName}}\">{{values.sourceProject.projectName}}/{{values.sourceDistribution.distributionName}}</small>\r\n\r\n                </div>\r\n              </div>\r\n            </mat-list-item>\r\n          </mat-list>\r\n        </div>\r\n      </div>\r\n      <div fxLayoutGap=\"10px\" fxLayoutAlign=\"end\" class=\"import-button\">\r\n        <button ngClass=\"secondary-btn\" mat-raised-button (click)=\"skipFile()\">Skip File</button>\r\n        <button mat-raised-button color=\"accent\" (click)=\"finish()\">Finish</button>\r\n      </div>\r\n    </div>\r\n    <div ngClass=\"batch-merge-dashboard-right\" fxFlex=\"75%\">\r\n      <div fxLayout=\"column\" *ngIf=\"nodeList&&nodeList.length>0\" fxFlexFill>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"start end\" class=\"p-10 pb-0\">\r\n          <div fxFlex=\"50\">\r\n            <mat-select placeholder=\"Select Draft\" class=\"merge-draft-dropdown\" (change)=\"onSourceNodeDraftChange()\" [formControl]=\"sourceNodeDraft\">\r\n              <mat-option *ngFor=\"let draft of sourceNodeDraftList\" [value]=\"draft\">{{draft.draftName}}</mat-option>\r\n            </mat-select>\r\n          </div>\r\n          <div fxFlex=\"50\">\r\n            <mat-select placeholder=\"Select Draft\" class=\"ml-20 merge-draft-dropdown\" (change)=\"onDestinationNodeDraftChange()\" [formControl]=\"destinationNodeDraft\">\r\n              <mat-option *ngFor=\"let draft of destinationNodeDraftList\" [value]=\"draft\">{{draft.draftName}}</mat-option>\r\n            </mat-select>\r\n          </div>\r\n        </div>\r\n        <div fxFlexFill fxLayout=\"row\" fxFlex=\"100\" class=\"p-10\">\r\n          <iframe [src]=\"mergelyUrl\" id=\"mergely-iframe\" width=\"100%\" scrolling=\"no\" class=\"mergely-iframe\" seamless=\"seamless\" fxFlexFill></iframe>\r\n        </div>\r\n        <div *ngIf=\"!nodeList|| nodeList.length<1\" class=\"p-10\">\r\n          No nodes available\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/batch-merge-tool/batch-merge-tool.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/batch-merge-tool/batch-merge-tool.component.ts ***!
  \****************************************************************/
/*! exports provided: BatchMergeToolComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BatchMergeToolComponent", function() { return BatchMergeToolComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _import_distribution_import_distribution_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../import-distribution/import-distribution.service */ "./src/app/import-distribution/import-distribution.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var _authoring_tabbed_view_authoring_tabbed_view_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../authoring-tabbed-view/authoring-tabbed-view.service */ "./src/app/authoring-tabbed-view/authoring-tabbed-view.service.ts");
/* harmony import */ var _create_draft_from_snapshot_create_draft_from_snapshot_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../create-draft-from-snapshot/create-draft-from-snapshot.component */ "./src/app/create-draft-from-snapshot/create-draft-from-snapshot.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var BatchMergeToolComponent = (function (_super) {
    __extends(BatchMergeToolComponent, _super);
    function BatchMergeToolComponent(injector, location, authoringTabbedViewService, importDistributionService, renderer, sanitizer, dialog) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.location = location;
        _this.authoringTabbedViewService = authoringTabbedViewService;
        _this.importDistributionService = importDistributionService;
        _this.renderer = renderer;
        _this.sanitizer = sanitizer;
        _this.dialog = dialog;
        _this.mergelyUrl = _this.sanitizer.bypassSecurityTrustResourceUrl(_constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].mergelyUrl + '?displayType=1');
        _this.nodeList = [];
        _this.selectedNodeIndex = 0;
        _this.sourceNodeDraftList = [];
        _this.destinationNodeDraftList = [];
        _this.sourceNodeDraft = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        _this.destinationNodeDraft = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        _this.sourceNodeDraftMDContent = '';
        _this.destinationNodeDraftMDContent = '';
        _this.isSwap = false;
        _this.leftDataLoadInProgress = false;
        _this.rightDataLoadInProgress = false;
        return _this;
    }
    BatchMergeToolComponent.prototype.ngOnInit = function () {
        this.listenMessage();
        this.nodeList = this.importDistributionService.matchedNodes ? this.importDistributionService.matchedNodes : [];
        this.values = this.importDistributionService.values ? this.importDistributionService.values : {};
        this.selectedNode = this.nodeList[this.selectedNodeIndex];
        this.getDrafts();
    };
    BatchMergeToolComponent.prototype.setSelectedNode = function (index) {
        this.selectedNodeIndex = index;
        this.selectedNode = this.nodeList[this.selectedNodeIndex];
        this.getDrafts();
    };
    BatchMergeToolComponent.prototype.getDrafts = function () {
        this.leftDataLoadInProgress = true;
        this.rightDataLoadInProgress = true;
        this.postEmptyMessage(true);
        this.postEmptyMessage(false);
        this.getDraftList(this.selectedNode.sourceNode.nodeId, false);
        this.getDraftList(this.selectedNode.destinationNode.nodeId, false);
    };
    BatchMergeToolComponent.prototype.prevClick = function () {
        this.selectedNodeIndex = this.selectedNodeIndex - 1;
        this.selectedNode = this.nodeList[this.selectedNodeIndex];
        this.getDrafts();
    };
    BatchMergeToolComponent.prototype.nextClick = function () {
        this.selectedNodeIndex = this.selectedNodeIndex + 1;
        this.selectedNode = this.nodeList[this.selectedNodeIndex];
        this.getDrafts();
    };
    BatchMergeToolComponent.prototype.refreshDrafts = function (data) {
        if (data.value.nodeId === this.selectedNode.sourceNode.nodeId) {
            this.leftDataLoadInProgress = false;
            this.sourceNodeDraftList = data.value.drafts;
            if (this.sourceNodeDraftList && this.sourceNodeDraftList.length > 0) {
                this.sourceNodeDraft.setValue(this.sourceNodeDraftList[0], { onlySelf: true });
                this.leftDataLoadInProgress = true;
                this.getDraftMDContent(this.sourceNodeDraft.value.draftId);
            }
        }
        if (data.value.nodeId === this.selectedNode.destinationNode.nodeId) {
            this.rightDataLoadInProgress = false;
            this.destinationNodeDraftList = data.value.drafts;
            if (this.destinationNodeDraftList && this.destinationNodeDraftList.length > 0) {
                this.destinationNodeDraft.setValue(this.destinationNodeDraftList[0], { onlySelf: true });
                this.rightDataLoadInProgress = true;
                this.getDraftMDContent(this.destinationNodeDraft.value.draftId);
            }
        }
    };
    BatchMergeToolComponent.prototype.onSourceNodeDraftChange = function () {
        this.postEmptyMessage(true);
        this.leftDataLoadInProgress = true;
        this.getDraftMDContent(this.sourceNodeDraft.value.draftId);
    };
    BatchMergeToolComponent.prototype.onDestinationNodeDraftChange = function () {
        this.postEmptyMessage(false);
        this.rightDataLoadInProgress = true;
        this.getDraftMDContent(this.destinationNodeDraft.value.draftId);
    };
    BatchMergeToolComponent.prototype.getDraftMDContent = function (draftId) {
        var _this = this;
        var serviceResponse;
        serviceResponse = this.authoringTabbedViewService.getDraftContent(draftId, 'md');
        serviceResponse.responseObservable.toPromise().then(function (response) {
            _this.subscribeForResponse({ subscriptionTopic: response.json().responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].operation['md'] });
        });
    };
    BatchMergeToolComponent.prototype.mdEvent = function (response) {
        this.bindMdContent({ content: response.data.content.draftContent, draftId: response.data.content.draftId });
    };
    BatchMergeToolComponent.prototype.bindMdContent = function (data) {
        if (data.draftId === this.sourceNodeDraft.value.draftId) {
            this.leftDataLoadInProgress = false;
            this.sourceNodeDraftMDContent = data.content;
            var value = {
                content: this.sourceNodeDraftMDContent,
                isLeft: true,
                selectedDraftId: this.sourceNodeDraft.value.draftId,
                selectedNodeId: this.selectedNode.sourceNode.nodeId,
                nodeDrafts: this.sourceNodeDraftList,
                disableLeft: true,
                disableRight: false
            };
            this.postMessage(value);
        }
        if (data.draftId === this.destinationNodeDraft.value.draftId) {
            this.rightDataLoadInProgress = false;
            this.destinationNodeDraftMDContent = data.content;
            var value = {
                content: this.destinationNodeDraftMDContent,
                isLeft: false,
                selectedDraftId: this.destinationNodeDraft.value.draftId,
                selectedNodeId: this.selectedNode.destinationNode.nodeId,
                nodeDrafts: this.destinationNodeDraftList,
                disableLeft: true,
                disableRight: false
            };
            this.postMessage(value);
        }
    };
    BatchMergeToolComponent.prototype.postEmptyMessage = function (isLeft) {
        this.postMessage({
            content: '',
            isLeft: isLeft,
            selectedDraftId: '',
            selectedNodeId: '',
            nodeDrafts: [],
            disableLeft: true,
            disableRight: false
        });
    };
    BatchMergeToolComponent.prototype.postMessage = function (value) {
        var frame = document.getElementById('mergely-iframe');
        if (frame) {
            var doc = frame['contentWindow'];
            doc.postMessage(value, '*');
        }
    };
    BatchMergeToolComponent.prototype.listenMessage = function () {
        var _this = this;
        this.listenOnMessage = this.renderer.listen('window', 'message', function (event) {
            _this.isSwap = event.data.isSwap ? event.data.isSwap : false;
            if (event.data.isCreateDraft) {
                _this.createDraft(event.data);
            }
        });
    };
    BatchMergeToolComponent.prototype.createDraft = function (value) {
        value.selectedNodeId = this.destinationNodeDraft.value.draftId;
        value.nodeDrafts = this.destinationNodeDraftList;
        this.openCreateDraftDialog(value);
    };
    BatchMergeToolComponent.prototype.openCreateDraftDialog = function (value) {
        this.dialog.open(_create_draft_from_snapshot_create_draft_from_snapshot_component__WEBPACK_IMPORTED_MODULE_6__["CreateDraftFromSnapshotComponent"], { data: { nodeId: value.selectedNodeId, content: value.content, isMergedDraft: true, nodeDrafts: value.nodeDrafts }, width: '360px' });
    };
    BatchMergeToolComponent.prototype.skipFile = function () {
        this.nodeList.splice(this.selectedNodeIndex, 1);
        if (this.selectedNodeIndex === this.nodeList.length) {
            this.selectedNodeIndex = this.selectedNodeIndex - 1;
        }
        this.setSelectedNode(this.selectedNodeIndex);
    };
    BatchMergeToolComponent.prototype.finish = function () {
        this.location.back();
    };
    BatchMergeToolComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-batch-merge-tool',
            template: __webpack_require__(/*! ./batch-merge-tool.component.html */ "./src/app/batch-merge-tool/batch-merge-tool.component.html")
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["Location"],
            _authoring_tabbed_view_authoring_tabbed_view_service__WEBPACK_IMPORTED_MODULE_5__["AuthoringTabbedViewService"],
            _import_distribution_import_distribution_service__WEBPACK_IMPORTED_MODULE_1__["ImportDistributionService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["DomSanitizer"], _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatDialog"]])
    ], BatchMergeToolComponent);
    return BatchMergeToolComponent;
}(_operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_9__["OperationBaseComponent"]));



/***/ }),

/***/ "./src/app/common/array-filter.pipe.ts":
/*!*********************************************!*\
  !*** ./src/app/common/array-filter.pipe.ts ***!
  \*********************************************/
/*! exports provided: ArrayFilterPipe, FilterPropertiesPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArrayFilterPipe", function() { return ArrayFilterPipe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterPropertiesPipe", function() { return FilterPropertiesPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ArrayFilterPipe = (function () {
    function ArrayFilterPipe() {
    }
    ArrayFilterPipe.prototype.transform = function (array, field, searchString) {
        if (!searchString || !field) {
            return array;
        }
        if (array) {
            var value = array.filter(function (object) { return (object[field] ? object[field].toLowerCase() : '').indexOf(searchString.toLowerCase()) >= 0; });
            return value;
        }
        else {
            return array;
        }
    };
    ArrayFilterPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'filter'
        })
    ], ArrayFilterPipe);
    return ArrayFilterPipe;
}());

var FilterPropertiesPipe = (function () {
    function FilterPropertiesPipe() {
    }
    FilterPropertiesPipe.prototype.transform = function (values, args) {
        return values.filter(function (value) {
            for (var i = 0; i < args.length; i++) {
                if (value[args[i][0]]) {
                    if (value[args[i][0]] !== args[i][1]) {
                        return false;
                    }
                }
                else {
                    return true;
                }
            }
            return true;
        });
    };
    FilterPropertiesPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'filterProperties',
            pure: false
        })
    ], FilterPropertiesPipe);
    return FilterPropertiesPipe;
}());



/***/ }),

/***/ "./src/app/common/array-sort.pipe.ts":
/*!*******************************************!*\
  !*** ./src/app/common/array-sort.pipe.ts ***!
  \*******************************************/
/*! exports provided: ArraySortPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArraySortPipe", function() { return ArraySortPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var ArraySortPipe = (function () {
    function ArraySortPipe() {
    }
    ArraySortPipe.prototype.transform = function (array, field) {
        if (!field) {
            return array;
        }
        var isAscending = true;
        if (field.startsWith('-')) {
            isAscending = false;
            field = field.substr(1);
        }
        return this.sortArray(array, field, isAscending);
    };
    ArraySortPipe.prototype.sortArray = function (array, field, isAscending) {
        array = underscore__WEBPACK_IMPORTED_MODULE_1__["sortBy"](array, function (object) {
            return object[field].toLowerCase();
        });
        if (!isAscending) {
            array.reverse();
        }
        return array;
    };
    ArraySortPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'sort'
        })
    ], ArraySortPipe);
    return ArraySortPipe;
}());



/***/ }),

/***/ "./src/app/common/authGuard.ts":
/*!*************************************!*\
  !*** ./src/app/common/authGuard.ts ***!
  \*************************************/
/*! exports provided: AuthGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuard", function() { return AuthGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var rxjs_Observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/Observable */ "./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var _signalr_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./signalr.service */ "./src/app/common/signalr.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AuthGuard = (function () {
    function AuthGuard(router, userService, signalr) {
        this.router = router;
        this.userService = userService;
        this.signalr = signalr;
    }
    AuthGuard.prototype.canActivate = function (route, state) {
        var _this = this;
        this.userService.loadProfileIfExists();
        return this.userService.validateJWT().switchMap(function (value) {
            if (value) {
                return _this.signalr.initHubConnection().map(function (signalrId) {
                    return true;
                });
            }
        }).catch(function () {
            _this.router.navigate(['/login'], { queryParams: { postLoginUrl: state.url } });
            return rxjs_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"].of(false);
        });
        /*
        if (this.userService.loadProfileIfExists()) {
          return true;
        }
    
        this.router.navigate(['/login'], { queryParams: { postLoginUrl: state.url }});
        return false;
        */
    };
    AuthGuard = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"], _user_service__WEBPACK_IMPORTED_MODULE_2__["UserService"], _signalr_service__WEBPACK_IMPORTED_MODULE_4__["SignalrService"]])
    ], AuthGuard);
    return AuthGuard;
}());



/***/ }),

/***/ "./src/app/common/authoring-cache.service.ts":
/*!***************************************************!*\
  !*** ./src/app/common/authoring-cache.service.ts ***!
  \***************************************************/
/*! exports provided: AuthoringCacheService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthoringCacheService", function() { return AuthoringCacheService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _project_project__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../project/project */ "./src/app/project/project.ts");
/* harmony import */ var _storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./storage.service */ "./src/app/common/storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AuthoringCacheService = (function () {
    function AuthoringCacheService(storageService) {
        this.storageService = storageService;
        this.projects = [];
        this.projects = JSON.parse(JSON.stringify(this.getProjects()));
    }
    AuthoringCacheService.prototype.setProjects = function (data) {
        this.projects = data;
        this.storageService.write('CachedProjects', this.projects);
    };
    AuthoringCacheService.prototype.getProjects = function () {
        var projects = this.storageService.read('CachedProjects');
        return projects ? projects : [];
    };
    AuthoringCacheService.prototype.getDistributions = function (projectId) {
        var distributions = this.storageService.read('Distributions');
        return distributions ? distributions[projectId] : undefined;
    };
    AuthoringCacheService.prototype.setDistributions = function (projectId, distributions) {
        var distributionList = this.storageService.read('Distributions');
        if (!distributionList) {
            distributionList = {};
        }
        distributionList[projectId] = distributions ? distributions : [];
        this.storageService.write('Distributions', distributionList);
    };
    AuthoringCacheService.prototype.setBranches = function (projectId, branches) {
        var branchList = this.storageService.read('Branches');
        if (!branchList) {
            branchList = {};
        }
        branchList[projectId] = branches ? branches : [];
        this.storageService.write('Branches', branchList);
    };
    AuthoringCacheService.prototype.getBranches = function (projectId) {
        var branchList = this.storageService.read('Branches');
        return branchList ? branchList[projectId] : undefined;
    };
    AuthoringCacheService.prototype.getNodes = function (distributionId) {
        var nodes = this.storageService.read('Nodes');
        return nodes ? nodes[distributionId] : undefined;
    };
    AuthoringCacheService.prototype.getOrphanNodes = function (distributionId) {
        var nodes = this.storageService.read('OrphanNodes');
        return nodes ? nodes[distributionId] : undefined;
    };
    AuthoringCacheService.prototype.setNodes = function (distributionId, value) {
        var nodes = this.setTreeNodes(distributionId, value.orphanNodeList, 'OrphanNodes');
        var orphanNodes = this.setTreeNodes(distributionId, value.nodeList, 'Nodes');
        return nodes || orphanNodes;
    };
    AuthoringCacheService.prototype.setTreeNodes = function (distributionId, value, listName) {
        var nodeList = this.storageService.read(listName);
        if (!nodeList) {
            nodeList = {};
        }
        if (nodeList[distributionId] && (JSON.stringify(nodeList[distributionId]) === JSON.stringify(value))) {
            return undefined;
        }
        else {
            nodeList[distributionId] = value ? value : [];
            this.storageService.write(listName, nodeList);
            return nodeList[distributionId];
        }
    };
    AuthoringCacheService.prototype.getDrafts = function (nodeId) {
        var drafts = this.storageService.read('Drafts');
        return drafts ? drafts[nodeId] : undefined;
    };
    AuthoringCacheService.prototype.setDrafts = function (nodeId, value) {
        var drafts = this.storageService.read('Drafts');
        if (!drafts) {
            drafts = {};
        }
        drafts[nodeId] = value ? value : [];
        this.storageService.write('Drafts', drafts);
    };
    AuthoringCacheService.prototype.getSelectedProject = function () {
        return this.getProjectById(this.selectedProjectId);
    };
    AuthoringCacheService.prototype.getSelectedDistribution = function () {
        var distributions = this.storageService.read('Distributions');
        var distribution = underscore__WEBPACK_IMPORTED_MODULE_1__["find"]((distributions && distributions[this.selectedProjectId]) ? distributions[this.selectedProjectId] : [], function (value) {
            return value.distributionId === this.selectedDistributionId;
        }.bind(this));
        return distribution ? distribution : {};
    };
    AuthoringCacheService.prototype.getSelectedNode = function () {
        var nodes = this.storageService.read('Nodes');
        var node = underscore__WEBPACK_IMPORTED_MODULE_1__["find"]((nodes && nodes[this.selectedDistributionId]) ? nodes[this.selectedDistributionId] : [], function (value) {
            return value.nodeId === this.selectedNodeId;
        }.bind(this));
        return node ? node : {};
    };
    AuthoringCacheService.prototype.addProject = function (selectedProject) {
        var projects = this.getProjects();
        if (underscore__WEBPACK_IMPORTED_MODULE_1__["find"](projects, function (project) { return project._id === selectedProject.projectId; })) {
            return;
        }
        else {
            this.projects.push(selectedProject);
        }
    };
    AuthoringCacheService.prototype.getProjectById = function (projectId) {
        var project = underscore__WEBPACK_IMPORTED_MODULE_1__["find"](this.projects, function (value) {
            return value._id === projectId;
        }.bind(this));
        return project ? project : new _project_project__WEBPACK_IMPORTED_MODULE_2__["ProjectContent"]();
    };
    AuthoringCacheService.prototype.setDraftContent = function (draftId, contentType, fileContent) {
        var draftContentList = this.storageService.read('DraftContent');
        if (!draftContentList) {
            draftContentList = {};
        }
        var draft = draftContentList[draftId];
        if (!draft) {
            draftContentList[draftId] = {};
        }
        if (draftContentList[draftId][contentType] === fileContent) {
            return;
        }
        else {
            draftContentList[draftId][contentType] = fileContent;
        }
        this.storageService.write('DraftContent', draftContentList);
    };
    AuthoringCacheService.prototype.getDraftContent = function (draftId, contentType) {
        var draftContentList = this.storageService.read('DraftContent');
        if (!draftContentList) {
            return;
        }
        if (!draftContentList[draftId]) {
            return;
        }
        else {
            return draftContentList[draftId][contentType];
        }
    };
    AuthoringCacheService.prototype.updateProjectTagGroups = function (data) {
        underscore__WEBPACK_IMPORTED_MODULE_1__["each"](this.projects, function (project) {
            if (project._id === data.value._id) {
                project.tagGroups = data.value.tagGroups;
            }
        });
        this.storageService.write('CachedProjects', this.projects);
    };
    AuthoringCacheService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_storage_service__WEBPACK_IMPORTED_MODULE_3__["StorageService"]])
    ], AuthoringCacheService);
    return AuthoringCacheService;
}());



/***/ }),

/***/ "./src/app/common/authorization.service.ts":
/*!*************************************************!*\
  !*** ./src/app/common/authorization.service.ts ***!
  \*************************************************/
/*! exports provided: AuthorizationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizationService", function() { return AuthorizationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user.service */ "./src/app/common/user.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AuthorizationService = (function () {
    function AuthorizationService(userService) {
        this.userService = userService;
    }
    AuthorizationService.prototype.setCmsOperationRolesMapping = function (rolesAndPermissions) {
        this.cmsOperationRolesMapping = {};
        underscore__WEBPACK_IMPORTED_MODULE_1__["each"](rolesAndPermissions, function (aRoleAndPermissions) {
            underscore__WEBPACK_IMPORTED_MODULE_1__["each"](aRoleAndPermissions.permissions, function (permission) {
                this.insertData(_constants__WEBPACK_IMPORTED_MODULE_2__["cmsOperation"][permission], _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].roles[aRoleAndPermissions.name]);
            }.bind(this));
        }.bind(this));
    };
    AuthorizationService.prototype.insertData = function (operation, role) {
        if (!(operation in this.cmsOperationRolesMapping)) {
            this.cmsOperationRolesMapping[operation] = [role];
        }
        else {
            this.cmsOperationRolesMapping[operation].push(role);
        }
    };
    AuthorizationService.prototype.isOperationAllowed = function (cmsOperations) {
        var isOperationAllowed = underscore__WEBPACK_IMPORTED_MODULE_1__["find"](cmsOperations, function (operation) {
            return this.checkHasRole(operation);
        }.bind(this));
        return isOperationAllowed ? true : false;
    };
    AuthorizationService.prototype.checkHasRole = function (operation) {
        var matchingRoles = underscore__WEBPACK_IMPORTED_MODULE_1__["intersection"](this.cmsOperationRolesMapping ? this.cmsOperationRolesMapping[operation] : [], this.userService.roles);
        return matchingRoles.length > 0 ? true : false;
    };
    AuthorizationService.prototype.hasAccess = function (allowedRoles) {
        return underscore__WEBPACK_IMPORTED_MODULE_1__["intersection"](this.userService.roles, allowedRoles).length > 0 ? true : false;
    };
    AuthorizationService.prototype.isProjectAdmin = function (projectAdmins) {
        if (!this.userService.user || !projectAdmins) {
            return false;
        }
        var loggedInUserId = this.userService.user.profile.userId;
        var user = underscore__WEBPACK_IMPORTED_MODULE_1__["find"]((projectAdmins), function (value) {
            return value.userId === loggedInUserId;
        }.bind(this));
        return user ? true : false;
    };
    AuthorizationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"]])
    ], AuthorizationService);
    return AuthorizationService;
}());



/***/ }),

/***/ "./src/app/common/base-params.ts":
/*!***************************************!*\
  !*** ./src/app/common/base-params.ts ***!
  \***************************************/
/*! exports provided: BaseParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseParams", function() { return BaseParams; });
var BaseParams = (function () {
    function BaseParams() {
    }
    return BaseParams;
}());



/***/ }),

/***/ "./src/app/common/epoc-to-datetime.pipe.ts":
/*!*************************************************!*\
  !*** ./src/app/common/epoc-to-datetime.pipe.ts ***!
  \*************************************************/
/*! exports provided: EpocToDatetimePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EpocToDatetimePipe", function() { return EpocToDatetimePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var EpocToDatetimePipe = (function () {
    function EpocToDatetimePipe() {
    }
    EpocToDatetimePipe.prototype.transform = function (value, format) {
        if (value) {
            var datetime = new Date(value * 1000);
            return datetime;
        }
        return null;
    };
    EpocToDatetimePipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'epocToDatetime'
        })
    ], EpocToDatetimePipe);
    return EpocToDatetimePipe;
}());



/***/ }),

/***/ "./src/app/common/error-handler.ts":
/*!*****************************************!*\
  !*** ./src/app/common/error-handler.ts ***!
  \*****************************************/
/*! exports provided: commonResponseErrorHandler, UIErrorHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "commonResponseErrorHandler", function() { return commonResponseErrorHandler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIErrorHandler", function() { return UIErrorHandler; });
function commonResponseErrorHandler(error) {
    return 'error'; // ToDO according to status
}
var UIErrorHandler = (function () {
    function UIErrorHandler() {
    }
    UIErrorHandler.prototype.handleError = function (error) {
        // do something with the exception
    };
    return UIErrorHandler;
}());



/***/ }),

/***/ "./src/app/common/filesize.pipe.ts":
/*!*****************************************!*\
  !*** ./src/app/common/filesize.pipe.ts ***!
  \*****************************************/
/*! exports provided: FileSizePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileSizePipe", function() { return FileSizePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var FileSizePipe = (function () {
    function FileSizePipe() {
        this.units = [
            'Bytes',
            'KB',
            'MB',
            'GB',
            'TB',
            'PB'
        ];
    }
    FileSizePipe.prototype.transform = function (bytes, precision) {
        if (bytes === void 0) { bytes = 0; }
        if (precision === void 0) { precision = 2; }
        if (isNaN(parseFloat(String(bytes))) || !isFinite(bytes)) {
            return '';
        }
        else {
            bytes = parseFloat(String(bytes));
        }
        var unit = 0;
        while (bytes >= 1024) {
            bytes = bytes / 1024;
            unit++;
        }
        return bytes.toFixed(2) + ' ' + this.units[unit];
    };
    FileSizePipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({ name: 'filesize' })
    ], FileSizePipe);
    return FileSizePipe;
}());



/***/ }),

/***/ "./src/app/common/format-date.pipe.ts":
/*!********************************************!*\
  !*** ./src/app/common/format-date.pipe.ts ***!
  \********************************************/
/*! exports provided: FormatDatePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormatDatePipe", function() { return FormatDatePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var FormatDatePipe = (function () {
    function FormatDatePipe() {
    }
    FormatDatePipe.prototype.transform = function (value, args) {
        var duration = moment__WEBPACK_IMPORTED_MODULE_1__["duration"](moment__WEBPACK_IMPORTED_MODULE_1__().diff(value)).asDays();
        if (duration > 3) {
            return moment__WEBPACK_IMPORTED_MODULE_1__(value).format('MMM D YYYY');
        }
        else {
            return moment__WEBPACK_IMPORTED_MODULE_1__(value).fromNow();
        }
    };
    FormatDatePipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'formatDate'
        })
    ], FormatDatePipe);
    return FormatDatePipe;
}());



/***/ }),

/***/ "./src/app/common/http.service.ts":
/*!****************************************!*\
  !*** ./src/app/common/http.service.ts ***!
  \****************************************/
/*! exports provided: HttpService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpService", function() { return HttpService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var rxjs_Rx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/Rx */ "./node_modules/rxjs/_esm5/Rx.js");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _signalr_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./signalr.service */ "./src/app/common/signalr.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var HttpService = (function () {
    function HttpService(http, userService, router, Signalr) {
        this.http = http;
        this.userService = userService;
        this.router = router;
        this.Signalr = Signalr;
    }
    HttpService.prototype.post = function (url, body) {
        var _this = this;
        var headers = new _angular_http__WEBPACK_IMPORTED_MODULE_1__["Headers"]({
            'Content-Type': 'application/json',
            'Authorization': 'Bearer ' + this.userService.getToken(),
            'SignalrId': this.Signalr.signalrId,
            'ResponseType': "Signalr"
        });
        return this.http.post(url, JSON.stringify(body), { headers: headers }).map(function (response) {
            return response;
        }).catch(function (error) {
            if (error.status === 401 || error.status === 403) {
                _this.userService.logOut();
                _this.router.navigate(['/login']);
                return rxjs_Rx__WEBPACK_IMPORTED_MODULE_2__["Observable"].never();
            }
            else {
                return rxjs_Rx__WEBPACK_IMPORTED_MODULE_2__["Observable"].throw(new Error(error));
            }
        });
    };
    HttpService.prototype.put = function (url, body) {
        var _this = this;
        var headers = new _angular_http__WEBPACK_IMPORTED_MODULE_1__["Headers"]({
            'Content-Type': 'application/json',
            'Authorization': 'Bearer ' + this.userService.getToken(),
            'SignalrId': this.Signalr.signalrId,
            'ResponseType': "Signalr"
        });
        return this.http.put(url, JSON.stringify(body), { headers: headers }).map(function (response) {
            return response;
        }).catch(function (error) {
            if (error.status === 401 || error.status === 403) {
                _this.userService.logOut();
                _this.router.navigate(['/login']);
                return rxjs_Rx__WEBPACK_IMPORTED_MODULE_2__["Observable"].never();
            }
            else {
                return rxjs_Rx__WEBPACK_IMPORTED_MODULE_2__["Observable"].throw(new Error(error));
            }
        });
    };
    HttpService.prototype.get = function (url) {
        var _this = this;
        var headers = new _angular_http__WEBPACK_IMPORTED_MODULE_1__["Headers"]({
            'Content-Type': 'application/json',
            'Authorization': 'Bearer ' + this.userService.getToken(),
            'SignalrId': this.Signalr.signalrId,
            'ResponseType': "Signalr"
        });
        return this.http.get(url, { headers: headers }).map(function (response) {
            return response;
        }).catch(function (error) {
            if (error.status === 401 || error.status === 403) {
                _this.userService.logOut();
                _this.router.navigate(['/login']);
                return rxjs_Rx__WEBPACK_IMPORTED_MODULE_2__["Observable"].never();
            }
            else {
                return rxjs_Rx__WEBPACK_IMPORTED_MODULE_2__["Observable"].throw(new Error(error));
            }
        });
    };
    HttpService.prototype.delete = function (url) {
        var _this = this;
        var headers = new _angular_http__WEBPACK_IMPORTED_MODULE_1__["Headers"]({
            'Content-Type': 'application/json',
            'Authorization': 'Bearer ' + this.userService.getToken(),
            'SignalrId': this.Signalr.signalrId,
            'ResponseType': "Signalr"
        });
        return this.http.delete(url, { headers: headers }).map(function (response) {
            return response;
        }).catch(function (error) {
            if (error.status === 401 || error.status === 403) {
                _this.userService.logOut();
                _this.router.navigate(['/login']);
                return rxjs_Rx__WEBPACK_IMPORTED_MODULE_2__["Observable"].never();
            }
            else {
                return rxjs_Rx__WEBPACK_IMPORTED_MODULE_2__["Observable"].throw(new Error(error));
            }
        });
    };
    HttpService.prototype.getResponse = function (responseId) {
        var _this = this;
        return this.get(_environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].API_BASE_URL + '/api/Responses/' + responseId).toPromise().then(function (response) {
            return response;
        }).catch(function (error) {
            if (error.status === 401 || error.status === 403) {
                _this.userService.logOut();
                _this.router.navigate(['/login']);
                return {};
            }
            else {
                throw Error(error);
            }
        });
    };
    HttpService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"], _user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"], _signalr_service__WEBPACK_IMPORTED_MODULE_6__["SignalrService"]])
    ], HttpService);
    return HttpService;
}());



/***/ }),

/***/ "./src/app/common/local-event-emitter.service.ts":
/*!*******************************************************!*\
  !*** ./src/app/common/local-event-emitter.service.ts ***!
  \*******************************************************/
/*! exports provided: LocalEventEmitterService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalEventEmitterService", function() { return LocalEventEmitterService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var LocalEventEmitterService = (function () {
    function LocalEventEmitterService() {
        this.localEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.operationEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    LocalEventEmitterService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], LocalEventEmitterService);
    return LocalEventEmitterService;
}());



/***/ }),

/***/ "./src/app/common/notification.service.ts":
/*!************************************************!*\
  !*** ./src/app/common/notification.service.ts ***!
  \************************************************/
/*! exports provided: NotificationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationService", function() { return NotificationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var angularfire2_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angularfire2/firestore */ "./node_modules/angularfire2/firestore/index.js");
/* harmony import */ var rxjs_Subject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/Subject */ "./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var _local_event_emitter_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var NotificationService = (function () {
    function NotificationService(httpService, firestoreDb, localEventEmitterService) {
        this.httpService = httpService;
        this.firestoreDb = firestoreDb;
        this.localEventEmitterService = localEventEmitterService;
        this.subscriptionEPOC = new Date().getTime() / 1000;
        this.subscriptionArray = [];
        setInterval(function () {
            if (this.clearSubscriptions) {
                this.clearSubscriptions(this.subscriptionArray, false);
            }
        }.bind(this), _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].notificationClearInterval);
    }
    NotificationService.prototype.clearSubscriptions = function (subscriptions, isAllUnsubscribe, componentName) {
        console.log('****** Subscription Topics **********');
        underscore__WEBPACK_IMPORTED_MODULE_6__["each"](subscriptions, function (value) {
            console.log('subscriptionTopic: ' + value.subscriptionTopic + (isAllUnsubscribe ? (',' + componentName + ' Component Destroyed :-(') : (', subscriptionCollection: ' + value.subscriptionCollection + ', startDate: ' + value.startDate + ', eventName: ' + value.eventName)));
            if (isAllUnsubscribe || (value.expiryDate ? (value.expiryDate < new Date().getTime()) : false)) {
                this.unsubscribe(value);
            }
        }.bind(this));
    };
    NotificationService.prototype.subscribeForResponse = function (value) {
        var _this = this;
        var epocCurrentTime = Math.round(new Date().getTime() / 1000);
        var subscriptionSubject = new rxjs_Subject__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        var subscriptionObject = {
            eventName: value.operation.eventName,
            subscriptionSubject: subscriptionSubject,
            startDate: moment__WEBPACK_IMPORTED_MODULE_7__(new Date()).format('MMMM Do YYYY, h:mm:ss a'),
            subscriptionTopic: value.subscriptionTopic,
            subscriptionCollection: 'Response',
            handleNotification: value.operation.handleNotification,
            raiseOperationEvent: value.operation.raiseOperationEvent
        };
        this.addToSubscriptionArray(subscriptionObject);
        this.firestoreDb.collection(subscriptionObject.subscriptionCollection).doc(subscriptionObject.subscriptionTopic.toString()).valueChanges().takeUntil(subscriptionSubject).subscribe(function (payload) {
            if (payload) {
                payload = _this.returnPayload(payload, subscriptionObject, _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].notificationType.Targeted);
                _this.emitNotification(payload);
            }
        });
    };
    NotificationService.prototype.returnPayload = function (payload, value, notificationType) {
        payload.eventName = value.eventName;
        payload.expiryDate = value.expiryDate;
        payload.subscriptionTopic = value.subscriptionTopic;
        payload.notificationType = notificationType;
        payload.handleNotification = value.handleNotification;
        payload.raiseOperationEvent = value.raiseOperationEvent;
        return payload;
    };
    NotificationService.prototype.unsubscribe = function (topic) {
        var subscription;
        subscription = underscore__WEBPACK_IMPORTED_MODULE_6__["find"](this.subscriptionArray, function (value) {
            return value.subscriptionTopic === topic.subscriptionTopic;
        });
        if (subscription && subscription.subscriptionSubject) {
            subscription.subscriptionSubject.next();
            subscription.subscriptionSubject.complete();
            this.subscriptionArray = underscore__WEBPACK_IMPORTED_MODULE_6__["filter"](this.subscriptionArray, function (value) {
                if (value.subscriptionTopic === topic.subscriptionTopic && value.eventName === topic.eventName) {
                    return false;
                }
                else {
                    return true;
                }
            });
        }
    };
    NotificationService.prototype.subscribeTopic = function (topic) {
        if (topic && !(topic instanceof Array)) {
            this.subscribe(topic);
        }
        else if (topic && topic instanceof Array) {
            underscore__WEBPACK_IMPORTED_MODULE_6__["each"](topic, function (topicValue) {
                this.subscribe(topicValue);
            }.bind(this));
        }
    };
    NotificationService.prototype.subscribe = function (topic) {
        var _this = this;
        var subscriptionSubject = new rxjs_Subject__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        var subscriptionObject = {
            eventName: topic.eventName,
            expiryDate: undefined,
            subscriptionSubject: subscriptionSubject,
            startDate: moment__WEBPACK_IMPORTED_MODULE_7__(new Date()).format('MMMM Do YYYY, h:mm:ss a'),
            subscriptionTopic: topic.subscriptionTopic,
            subscriptionCollection: topic.value
        };
        this.addToSubscriptionArray(subscriptionObject);
        var subscriptionEPOCTime = new Date().getTime() / 1000;
        this.firestoreDb.doc(subscriptionObject.subscriptionCollection).valueChanges().takeUntil(subscriptionSubject).subscribe(function (payload) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (payload && payload['updatedTimeInEpoch'] > subscriptionEPOCTime) {
                    payload['notificationType'] = _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].notificationType.Broadcast;
                    payload['eventName'] = subscriptionObject.eventName;
                    this.emitNotification(payload);
                }
                return [2 /*return*/];
            });
        }); });
    };
    NotificationService.prototype.subscribeTopicWithQuery = function (collection, key, operator, value, eventName) {
        var _this = this;
        var subscriptionSubject = new rxjs_Subject__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        var subscriptionObject = {
            eventName: eventName,
            expiryDate: undefined,
            subscriptionSubject: subscriptionSubject,
            startDate: moment__WEBPACK_IMPORTED_MODULE_7__(new Date()).format('MMMM Do YYYY, h:mm:ss a'),
            subscriptionTopic: value,
            subscriptionCollection: collection
        };
        this.addToSubscriptionArray(subscriptionObject);
        this.firestoreDb.collection(collection, function (x) { return x.where(key, operator, value); }).valueChanges().takeUntil(subscriptionSubject).subscribe(function (payload) { return __awaiter(_this, void 0, void 0, function () {
            var payloadValue;
            return __generator(this, function (_a) {
                if (payload && payload.length > 0) {
                    payloadValue = {
                        data: payload,
                        notificationType: _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].notificationType.Broadcast,
                        eventName: eventName,
                        isTop: true,
                    };
                    this.emitNotification(payloadValue);
                }
                return [2 /*return*/];
            });
        }); });
    };
    NotificationService.prototype.unsubscribeTopic = function (topic) {
        if (topic && !(topic instanceof Array)) {
            this.unsubscribe(topic);
        }
        else if (topic && topic instanceof Array) {
            underscore__WEBPACK_IMPORTED_MODULE_6__["each"](topic, function (topicValue) {
                this.unsubscribe(topicValue);
            }.bind(this));
        }
    };
    NotificationService.prototype.emitNotification = function (payload) {
        if (payload.notificationType === _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].notificationType.Broadcast) {
            this.emitLocalEvent(payload);
        }
        else {
            if (payload.status === _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].eventStatus.success || payload.status === _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].eventStatus.failure) {
                if (!payload.handleNotification || payload.status === _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].eventStatus.failure) {
                    this.emitResponse(payload);
                }
            }
            else {
                if (payload.raiseOperationEvent) {
                    var updatedStatus = {
                        responseId: payload.subscriptionTopic,
                        status: payload.status,
                        completedEventCount: payload.completedEventCount,
                        totalEventCount: payload.totalEventCount,
                        modifiedDate: new Date().getTime() / 1000
                    };
                    this.addOperationEvent(updatedStatus);
                }
            }
        }
    };
    NotificationService.prototype.emitResponse = function (payload) {
        var _this = this;
        this.httpService.getResponse(payload.subscriptionTopic).then(function (response) {
            payload.data = response.json();
            if ((payload.data.status === _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].eventStatus.success || payload.data.status === _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].eventStatus.failure)) {
                var updatedStatus = {
                    responseId: payload.subscriptionTopic,
                    status: payload.status,
                    completedEventCount: payload.completedEventCount,
                    totalEventCount: payload.totalEventCount,
                    modifiedDate: new Date().getTime() / 1000,
                    data: payload.data.content
                };
                _this.addOperationEvent(updatedStatus);
                _this.emitLocalEvent(payload);
                _this.unsubscribe({ subscriptionTopic: payload.subscriptionTopic, eventName: payload.eventName });
            }
        });
    };
    NotificationService.prototype.emitLocalEvent = function (value) {
        this.localEventEmitterService.localEvent.emit(value);
    };
    NotificationService.prototype.addOperationEvent = function (operation) {
        this.localEventEmitterService.operationEvent.emit({ eventName: 'operationStatusUpdated', value: operation });
    };
    NotificationService.prototype.addToSubscriptionArray = function (value) {
        this.subscriptionArray.push(value);
    };
    NotificationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"], angularfire2_firestore__WEBPACK_IMPORTED_MODULE_3__["AngularFirestore"], _local_event_emitter_service__WEBPACK_IMPORTED_MODULE_5__["LocalEventEmitterService"]])
    ], NotificationService);
    return NotificationService;
}());



/***/ }),

/***/ "./src/app/common/realted-date.pipe.ts":
/*!*********************************************!*\
  !*** ./src/app/common/realted-date.pipe.ts ***!
  \*********************************************/
/*! exports provided: RelativeDatePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RelativeDatePipe", function() { return RelativeDatePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var names = [
    ['hour', 3600],
    ['minute', 60],
    ['second', 1]
];
var RelativeDatePipe = (function () {
    function RelativeDatePipe() {
    }
    RelativeDatePipe.prototype.getDuration = function (dateStamp) {
        var timeAgoInSeconds = Math.ceil((new Date().getTime() - new Date(dateStamp).getTime()) / 1000);
        for (var _i = 0, names_1 = names; _i < names_1.length; _i++) {
            var _a = names_1[_i], name_1 = _a[0], seconds = _a[1];
            var interval = Math.ceil(timeAgoInSeconds / seconds);
            if (interval > 24 && name_1 === 'hour') {
                return {
                    interval: interval,
                    name: name_1,
                    time: new Date(dateStamp),
                };
            }
            else {
                if (interval > 1) {
                    return {
                        interval: interval,
                        name: name_1,
                        time: undefined
                    };
                }
            }
        }
        return {
            interval: 0,
            name: 'second',
            time: undefined
        };
    };
    RelativeDatePipe.prototype.transform = function (dateStamp) {
        var _a = this.getDuration(dateStamp * 1000), interval = _a.interval, name = _a.name, time = _a.time;
        var suffix = interval === 1 || interval === 0 ? '' : 's';
        return time ? moment__WEBPACK_IMPORTED_MODULE_1__(time).format('MMM D YYYY, h:mm A') : (interval === 1 || interval === 0 ? 'a' : interval) + " " + name + suffix + " ago";
    };
    RelativeDatePipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({ name: 'relativeDate' })
    ], RelativeDatePipe);
    return RelativeDatePipe;
}());



/***/ }),

/***/ "./src/app/common/repo-name.pipe.ts":
/*!******************************************!*\
  !*** ./src/app/common/repo-name.pipe.ts ***!
  \******************************************/
/*! exports provided: RepoNamePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RepoNamePipe", function() { return RepoNamePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var RepoNamePipe = (function () {
    function RepoNamePipe() {
    }
    RepoNamePipe.prototype.transform = function (value, args) {
        if (value) {
            var withoutProtocol = value.split('//')[1];
            if (withoutProtocol) {
                var withoutDomain = withoutProtocol.split('/').slice(1).join('/');
                if (withoutDomain) {
                    return withoutDomain.split('.')[0];
                }
                else {
                    return value;
                }
            }
            else {
                return value;
            }
        }
        else {
            return value;
        }
    };
    RepoNamePipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'repoName'
        })
    ], RepoNamePipe);
    return RepoNamePipe;
}());



/***/ }),

/***/ "./src/app/common/roleGuard.ts":
/*!*************************************!*\
  !*** ./src/app/common/roleGuard.ts ***!
  \*************************************/
/*! exports provided: RoleGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleGuard", function() { return RoleGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_authorization_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/authorization.service */ "./src/app/common/authorization.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var RoleGuard = (function () {
    function RoleGuard(authorizationService) {
        this.authorizationService = authorizationService;
    }
    RoleGuard.prototype.canActivate = function (route, state) {
        var allowedRoles = route.data['allowedRoles'];
        return this.authorizationService.hasAccess(allowedRoles);
    };
    RoleGuard = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_authorization_service__WEBPACK_IMPORTED_MODULE_1__["AuthorizationService"]])
    ], RoleGuard);
    return RoleGuard;
}());



/***/ }),

/***/ "./src/app/common/roles-resolver.service.ts":
/*!**************************************************!*\
  !*** ./src/app/common/roles-resolver.service.ts ***!
  \**************************************************/
/*! exports provided: RolesResolverService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RolesResolverService", function() { return RolesResolverService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var _authorization_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./authorization.service */ "./src/app/common/authorization.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var RolesResolverService = (function () {
    function RolesResolverService(httpService, userService, authorizationService) {
        this.httpService = httpService;
        this.userService = userService;
        this.authorizationService = authorizationService;
    }
    RolesResolverService.prototype.resolve = function (route, state) {
        var _this = this;
        if (!this.authorizationService.cmsOperationRolesMapping) {
            this.getUserRoles().then(function (response) {
                _this.authorizationService.setCmsOperationRolesMapping(response.rolesAndPermissions);
                _this.userService.roles = response.roles;
                return true;
            });
        }
        else {
            return true;
        }
    };
    RolesResolverService.prototype.getUserRoles = function () {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/RolesAndPermissions')
            .toPromise().then(function (response) {
            return response.json();
        });
    };
    RolesResolverService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"], _user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"], _authorization_service__WEBPACK_IMPORTED_MODULE_4__["AuthorizationService"]])
    ], RolesResolverService);
    return RolesResolverService;
}());



/***/ }),

/***/ "./src/app/common/sanitize-html.ts":
/*!*****************************************!*\
  !*** ./src/app/common/sanitize-html.ts ***!
  \*****************************************/
/*! exports provided: SanitizeHtmlPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SanitizeHtmlPipe", function() { return SanitizeHtmlPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/esm5/platform-browser.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var SanitizeHtmlPipe = (function () {
    function SanitizeHtmlPipe(_sanitizer) {
        this._sanitizer = _sanitizer;
    }
    SanitizeHtmlPipe.prototype.transform = function (value) {
        return this._sanitizer.bypassSecurityTrustHtml(value);
    };
    SanitizeHtmlPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'sanitizeHtml'
        }),
        __metadata("design:paramtypes", [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["DomSanitizer"]])
    ], SanitizeHtmlPipe);
    return SanitizeHtmlPipe;
}());



/***/ }),

/***/ "./src/app/common/signalr.service.ts":
/*!*******************************************!*\
  !*** ./src/app/common/signalr.service.ts ***!
  \*******************************************/
/*! exports provided: SignalrService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignalrService", function() { return SignalrService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _aspnet_signalr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aspnet/signalr */ "./node_modules/@aspnet/signalr/dist/esm/index.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var _local_event_emitter_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
/* harmony import */ var rxjs_Observable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/Observable */ "./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
/* harmony import */ var _topic__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./topic */ "./src/app/common/topic.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var SignalrService = (function () {
    function SignalrService(userService, localEventEmitterService) {
        this.userService = userService;
        this.localEventEmitterService = localEventEmitterService;
        this.componentWiseStartupParameters = {}; // component name vs startup parameters
        this.topicWiseSubscriptions = {}; // topic name vs number of current subscriptions
        this.eventSubscriptions = {}; // event name vs array of component reference and callback method
    }
    SignalrService.prototype.initHubConnection = function () {
        var _this = this;
        return rxjs_Observable__WEBPACK_IMPORTED_MODULE_5__["Observable"].create(function (observer) {
            if (_this.hubConnection) {
                observer.next(_this.signalrId);
            }
            else {
                _this.hubConnection = new _aspnet_signalr__WEBPACK_IMPORTED_MODULE_1__["HubConnectionBuilder"]()
                    .withUrl(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/core?token=' + _this.userService.getToken())
                    .configureLogging(_aspnet_signalr__WEBPACK_IMPORTED_MODULE_1__["LogLevel"].Information)
                    .build();
                _this.hubConnection
                    .start()
                    .then(function () { return console.log('Connection started!'); })
                    .catch(function (err) {
                    console.log(err);
                    _this.reconnect();
                });
                _this.hubConnection.on('ConnectionReady', function (data) {
                    _this.signalrId = data;
                    observer.next(_this.signalrId);
                });
                _this.hubConnection.onclose(function () {
                    console.log('onclose');
                    _this.reconnect();
                });
            }
        });
    };
    SignalrService.prototype.reconnect = function () {
        var _this = this;
        console.log('Reconnect called');
        this.hubConnection = undefined;
        setTimeout(function () {
            _this.initHubConnection().subscribe(function (signalrId) {
                console.log('Reconnected');
                var componentNames = underscore__WEBPACK_IMPORTED_MODULE_6__["keys"](_this.componentWiseStartupParameters);
                componentNames.forEach(function (componentName) {
                    var _this = this;
                    var startupParameters = this.componentWiseStartupParameters[componentName];
                    this.subscribeEvents(startupParameters.reference, startupParameters.events);
                    this.subscribeTopics(startupParameters.topics).subscribe(function (response) {
                        _this.callComponentsStartupCallbacks(startupParameters.reference, startupParameters.startupRequestCallbacks);
                    });
                }.bind(_this));
            }, function (error) {
                console.log('Reconnection error');
            });
        }, 5000);
    };
    SignalrService.prototype.subscribeTopics = function (topics) {
        var observables = [];
        underscore__WEBPACK_IMPORTED_MODULE_6__["each"](topics, function (topic) {
            var currentSubscriptionCount = this.topicWiseSubscriptions[topic];
            if (!currentSubscriptionCount) {
                observables.push(new _topic__WEBPACK_IMPORTED_MODULE_8__["Topic"](this.hubConnection).subscribe(topic).map(function (res) { return res; }));
                currentSubscriptionCount = 0;
            }
            currentSubscriptionCount++;
            this.topicWiseSubscriptions[topic] = currentSubscriptionCount;
        }.bind(this));
        if (observables.length > 0) {
            return rxjs_Observable__WEBPACK_IMPORTED_MODULE_5__["Observable"].forkJoin(observables);
        }
        else {
            return rxjs_Observable__WEBPACK_IMPORTED_MODULE_5__["Observable"].create(function (observer) {
                observer.next('No topic to Subscribe');
                observer.complete();
            });
        }
    };
    SignalrService.prototype.unsubscribeTopics = function (topics) {
        var observables = [];
        underscore__WEBPACK_IMPORTED_MODULE_6__["each"](topics, function (topic) {
            var currentSubscriptionCount = this.topicWiseSubscriptions[topic];
            currentSubscriptionCount--;
            if (currentSubscriptionCount === 0) {
                observables.push(new _topic__WEBPACK_IMPORTED_MODULE_8__["Topic"](this.hubConnection).unsubscribe(topic).map(function (res) { return res; }));
                delete this.topicWiseSubscriptions[topic];
            }
            else {
                this.topicWiseSubscriptions[topic] = currentSubscriptionCount;
            }
        }.bind(this));
        if (observables.length > 0) {
            return rxjs_Observable__WEBPACK_IMPORTED_MODULE_5__["Observable"].forkJoin(observables);
        }
        else {
            return rxjs_Observable__WEBPACK_IMPORTED_MODULE_5__["Observable"].create(function (observer) {
                observer.next('No topic to unsubscribe');
                observer.complete();
            });
        }
    };
    SignalrService.prototype.callComponentsStartupCallbacks = function (reference, startupCallbacks) {
        startupCallbacks.forEach(function (callback) {
            callback.call(reference);
        });
    };
    SignalrService.prototype.unsubscribeEvents = function (events) {
        events.forEach(function (event) {
            var currentSubscriptions = this.eventSubscriptions[event.name];
            currentSubscriptions = currentSubscriptions.filter(function (subscription) {
                return subscription.callback !== event.callback;
            });
            this.eventSubscriptions[event.name] = currentSubscriptions;
            if (currentSubscriptions.length === 0) {
                this.hubConnection.off(event.name);
                delete this.eventSubscriptions[event.name];
            }
        }.bind(this));
    };
    SignalrService.prototype.subscribeEvents = function (reference, events) {
        events.forEach(function (event) {
            var currentSubscriptions = this.eventSubscriptions[event.name];
            if (!currentSubscriptions) {
                currentSubscriptions = [];
                this.hubConnection.on(event.name, function (data) {
                    currentSubscriptions.forEach(function (subscription) {
                        subscription.callback.call(subscription.reference, new _common_utils__WEBPACK_IMPORTED_MODULE_7__["utils"]().toCamel(data));
                    });
                });
                this.eventSubscriptions[event.name] = currentSubscriptions;
            }
            currentSubscriptions.push({ reference: reference, callback: event.callback });
        }.bind(this));
    };
    SignalrService.prototype.startup = function (componentName, startupParameters) {
        var _this = this;
        this.componentWiseStartupParameters[componentName] = startupParameters;
        this.subscribeEvents(startupParameters.reference, startupParameters.events);
        this.subscribeTopics(startupParameters.topics).subscribe(function (response) {
            _this.callComponentsStartupCallbacks(startupParameters.reference, startupParameters.startupRequestCallbacks);
        });
    };
    SignalrService.prototype.shutdown = function (componentName) {
        var _this = this;
        var startupParameters = this.componentWiseStartupParameters[componentName];
        this.unsubscribeTopics(startupParameters.topics).subscribe(function (response) {
            _this.unsubscribeEvents(startupParameters.events);
            delete _this.componentWiseStartupParameters[componentName];
        });
    };
    SignalrService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"], _local_event_emitter_service__WEBPACK_IMPORTED_MODULE_4__["LocalEventEmitterService"]])
    ], SignalrService);
    return SignalrService;
}());



/***/ }),

/***/ "./src/app/common/storage.service.ts":
/*!*******************************************!*\
  !*** ./src/app/common/storage.service.ts ***!
  \*******************************************/
/*! exports provided: StorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StorageService", function() { return StorageService; });
var StorageService = (function () {
    function StorageService() {
    }
    StorageService.prototype.write = function (key, value) {
        if (value) {
            value = JSON.stringify(value);
        }
        localStorage.setItem(key, value);
    };
    StorageService.prototype.read = function (key) {
        var value = localStorage.getItem(key);
        if (value && value !== 'undefined' && value !== 'null') {
            return JSON.parse(value);
        }
        return null;
    };
    return StorageService;
}());



/***/ }),

/***/ "./src/app/common/template-strings.ts":
/*!********************************************!*\
  !*** ./src/app/common/template-strings.ts ***!
  \********************************************/
/*! exports provided: templateStrings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "templateStrings", function() { return templateStrings; });
var templateStrings = {
    'documentActivity.1': '{{userName}} pushed Draft <b>{{resourceName}}</b> to Live',
    'documentActivity.2': '{{userName}} created a draft <b>{{resourceName}}</b>',
    'documentActivity.3': '{{userName}} renamed Draft <b>{{oldName}}</b> to <b>{{newName}}</b>',
    'documentActivity.4': '{{userName}} deleted Draft <b>{{resourceName}}</b>',
    'documentActivity.5': '{{userName}} changed node <b>{{nodeName}}</b> location from <b>{{oldParentName}}</b> to <b>{{newParentName}}</b>',
    'documentActivity.6': '{{userName}} added tags {{tag}}',
    'documentActivity.7': '{{userName}} removed tags {{tag}}',
    'documentActivity.8': '{{userName}} updated the Node Short Title - <b>{{nodeName}}</b>',
    'documentActivity.9': '{{userName}} updated the Node Title- <b>{{nodeName}}</b>',
    'documentActivity.10': '{{userName}} updated the Node File Name- <b>{{nodeName}}</b>',
    'operationStatus.1.1': '{{projectName}} Creation pending <br/> <small>creating a project<b> {{projectName}} </b> is in progress</small>',
    'operationStatus.1.2': '{{projectName}} Created <br/> <small>creating a project <b>{{projectName}}</b> is successful</small>',
    'operationStatus.1.3': '{{projectName}} Creation failed <br/> <small>creating a project <b>{{projectName}}</b> is failed</small>',
    'operationStatus.12.1': '{{draftName}} Accept to live pending<br/><small>accept draft <b>{{draftName}}</b> to live is in progress</small>',
    'operationStatus.12.2': '{{draftName}} Accept to live Successful<br/><small>accept draft <b>{{draftName}}</b> to live is successful</small>',
    'operationStatus.12.3': '{{draftName}} Accept to live failed<br/><small>accept draft <b>{{draftName}}</b> to live is failed</small>',
    'operationStatus.4.1': '{{distributionName}} Creation pending <br/> <small>creating distribution <b>{{distributionName}}</b> in {{projectName}} is in progress</small>',
    'operationStatus.4.2': '{{distributionName}} Created <br/> <small>creating distribution <b>{{distributionName}}</b> in {{projectName}} is successful</small>',
    'operationStatus.4.3': '{{distributionName}} Creation failed <br/> <small>creating distribution <b>{{distributionName}}</b> in {{projectName}} is failed </small>',
    'operationStatus.17.1': '{{draftName}} Creation pending <br/> <small>creating a draft <b>{{draftName}}</b> in {{nodeName}} is in progress</small>',
    'operationStatus.17.2': '{{draftName}} Created <br/> <small>creating a draft <b>{{draftName}}</b> in {{nodeName}} is successful</small>',
    'operationStatus.17.3': '{{draftName}} Creation failed <br/> <small>creating a draft <b>{{draftName}}</b> in {{nodeName}} is failed</small>',
    'operationStatus.18.1': '{{nodeName}} addition pending <br/> <small>adding a node<b> {{nodeName}} </b> is in progress</small>',
    'operationStatus.18.2': '{{nodeName}} added <br/> <small>adding a node <b>{{nodeName}}</b> is successful</small>',
    'operationStatus.18.3': '{{nodeName}} addition failed <br/> <small>adding a node <b>{{nodeName}}</b> is failed</small>',
    'operationStatus.26.1': '{{tagGroupName}} Creation pending <br/> <small>creating a tag group<b> {{tagGroupName}} </b> is in progress</small>',
    'operationStatus.26.2': '{{tagGroupName}} Created <br/> <small>creating a tag group <b>{{tagGroupName}}</b> is successful</small>',
    'operationStatus.26.3': '{{tagGroupName}} Creation failed <br/> <small>creating a tag group <b>{{tagGroupName}}</b> is failed</small>',
    'operationStatus.27.1': '{{tagGroupName}} editing pending <br/> <small>editing a tag group<b> {{tagGroupName}} </b> is in progress</small>',
    'operationStatus.27.2': '{{tagGroupName}} edited <br/> <small>editing a tag group <b>{{tagGroupName}}</b> is successful</small>',
    'operationStatus.27.3': '{{tagGroupName}} editing failed <br/> <small>editing a tag group <b>{{tagGroupName}}</b> is failed</small>',
    'operationStatus.28.1': '{{tagName}} Creation pending <br/> <small>creating tag <b>{{tagName}}</b> in {{tagGroupName}} is in progress</small>',
    'operationStatus.28.2': '{{tagName}} Created <br/> <small>creating tag <b>{{tagName}}</b> in {{tagGroupName}} is successful</small>',
    'operationStatus.28.3': '{{tagName}} Creation failed <br/> <small>creating tag <b>{{tagName}}</b> in {{tagGroupName}} is failed </small>',
    'operationStatus.29.1': '{{tagName}} editing pending <br/> <small>editing a tag <b>{{tagName}} </b> is in progress</small>',
    'operationStatus.29.2': '{{tagName}} edited <br/> <small>editing a tag <b>{{tagName}}</b> is successful</small>',
    'operationStatus.29.3': '{{tagName}} editing failed <br/> <small>editing a tag <b>{{tagName}}</b> is failed</small>',
    'operationStatus.30.1': '{{tagGroupName}} addition pending <br/> <small>adding tag group <b>{{tagGroupName}}</b> to {{projectName}} is in progress</small>',
    'operationStatus.30.2': '{{tagGroupName}} added <br/> <small>adding tag group <b>{{tagGroupName}}</b> to {{projectName}} is successful</small>',
    'operationStatus.30.3': '{{tagGroupName}} addition failed <br/> <small>adding tag group <b>{{tagGroupName}}</b> to {{projectName}} is failed </small>',
    'operationStatus.35.1': '{{fileName}} updation pending <br/> <small>updating an asset <b>{{fileName}} </b> is in progress</small>',
    'operationStatus.35.2': '{{fileName}} updated <br/> <small>updating an asset <b>{{fileName}}</b> is successful</small>',
    'operationStatus.35.3': '{{fileName}} updation failed <br/> <small>updating an asset <b>{{fileName}}</b> is failed</small>',
    'operationStatus.37.1': '{{distributionName}} publish pending <br/> <small>publishing a distribution<b> {{distributionName}} </b> is in progress</small>',
    'operationStatus.37.2': '{{distributionName}} publish <br/> <small>publishing a distribution <b>{{distributionName}}</b> is successful</small>',
    'operationStatus.37.3': '{{distributionName}} publish failed <br/> <small>publishing a distribution <b>{{distributionName}}</b> is failed</small>',
    'operationStatus.38.1': '{{tagName}} addition pending <br/> <small>adding tag <b>{{tagName}}</b> to {{nodeName}} is in progress</small>',
    'operationStatus.38.2': '{{tagName}} added <br/> <small>adding tag <b>{{tagName}}</b> to {{nodeName}} is successful</small>',
    'operationStatus.38.3': '{{tagName}} addition failed <br/> <small>adding tag <b>{{tagName}}</b> to {{nodeName}} is failed </small>',
    'operationStatus.40.1': '{{tagName}} removal pending <br/> <small>removing tag <b>{{tagName}}</b> from {{nodeName}} is in progress</small>',
    'operationStatus.40.2': '{{tagName}} removed <br/> <small>removing tag <b>{{tagName}}</b> from {{nodeName}} is successful</small>',
    'operationStatus.40.3': '{{tagName}} removal failed <br/> <small>removing tag <b>{{tagName}}</b> from {{nodeName}} is failed </small>',
    'operationStatus.44.1': '{{nodeName}} change location pending <br/> <small>moving node <b>{{nodeName}}</b> to {{parentNodeName}} is in progress</small>',
    'operationStatus.44.2': '{{nodeName}} location changed <br/> <small>moving node <b>{{nodeName}}</b> to {{parentNodeName}} is successful</small>',
    'operationStatus.44.3': '{{nodeName}} change location failed <br/> <small>moving node <b>{{nodeName}}</b> to {{parentNodeName}} is failed </small>',
    'operationStatus.48.1': '{{oldDraftName}} rename pending <br/> <small>renaming draft <b>{{oldDraftName}}</b> to {{newDraftName}} is in progress</small>',
    'operationStatus.48.2': '{{oldDraftName}} renamed <br/> <small>renaming draft <b>{{oldDraftName}}</b> to {{newDraftName}} is successful</small>',
    'operationStatus.48.3': '{{oldDraftName}} rename failed <br/> <small>renaming draft <b>{{oldDraftName}}</b> to {{newDraftName}} is failed </small>',
    'operationStatus.49.1': '{{tagGroupName}} removal pending <br/> <small>removing tag group <b>{{tagGroupName}}</b> from {{projectName}} is in progress</small>',
    'operationStatus.49.2': '{{tagGroupName}} removed <br/> <small>removing tag group <b>{{tagGroupName}}</b> from {{projectName}} is successful</small>',
    'operationStatus.49.3': '{{tagGroupName}} removal failed <br/> <small>removing tag group <b>{{tagGroupName}}</b> from {{projectName}} is failed </small>',
    'operationStatus.51.1': '{{draftName}} Creation pending <br/> <small>creating a draft <b> {{draftName}}</b> with snapshot is in progress</small>',
    'operationStatus.51.2': '{{draftName}} Created <br/> <small>creating a draft <b>{{draftName}}</b> with snapshot is successful</small>',
    'operationStatus.51.3': '{{draftName}} Creation failed <br/> <small>creating a draft <b>{{draftName}}</b> with snapshot is failed</small>',
    'operationStatus.58.1': '{{userName}} assigning or unassigning pending <br/> <small>assigning or unassigning <b>{{userName}}</b> as system admin is in progress</small>',
    'operationStatus.58.2': '{{userName}} assigned or unassigned <br/> <small>assigning or unassigning <b>{{userName}}</b> as system admin is successful</small>',
    'operationStatus.58.3': '{{userName}} assigning or unassigning failed <br/> <small>assigning or unassigning <b>{{userName}}</b> as system admin is failed </small>',
    'operationStatus.63.1': '{{userName}} assigning or unassigning pending <br/> <small>assigning or unassigning <b>{{userName}}</b> to {{projectName}} as admin is in progress</small>',
    'operationStatus.63.2': '{{userName}} assigned or unassigned <br/> <small>assigning or unassigning <b>{{userName}}</b> to {{projectName}} as admin is successful</small>',
    'operationStatus.63.3': '{{userName}} assigning or unassigning <br/> <small>assigning or unassigning <b>{{userName}}</b> to {{projectName}} as admin is failed </small>',
    'operationStatus.61.1': '{{draftName}} deletion pending <br/> <small>deleting a draft <b>{{draftName}}</b> from {{nodeName}} is in progress</small>',
    'operationStatus.61.2': '{{draftName}} deleted <br/> <small>deleting a draft <b>{{draftName}}</b> from {{nodeName}} is successful</small>',
    'operationStatus.61.3': '{{draftName}} deletion failed <br/> <small>deleting a draft <b>{{draftName}}</b> from {{nodeName}} is failed </small>',
    'operationStatus.65.1': '{{nodeName}} deletion pending <br/> <small>deleting a node<b> {{nodeName}} </b> is in progress</small>',
    'operationStatus.65.2': '{{nodeName}} deleted <br/> <small>deleting a node <b>{{nodeName}}</b> is successful</small>',
    'operationStatus.65.3': '{{nodeName}} deletion failed <br/> <small>deleting a node <b>{{nodeName}}</b> is failed</small>',
    'operationStatus.69.1': 'Profile pic upload in progress',
    'operationStatus.69.2': 'Profile pic uploaded',
    'operationStatus.69.3': 'Profile pic upload failed',
    'operationStatus.71.1': 'Profile pic delete in progress',
    'operationStatus.71.2': 'Profile pic deleted',
    'operationStatus.71.3': 'Profile pic delete failed',
    'operationStatus.21.1': '{{assetName}} upsert asset pending <br/> <small>upsert asset <b>{{assetName}}</b> is in progress</small>',
    'operationStatus.21.2': '{{assetName}} upsert asset success <br/> <small>upsert asset <b>{{assetName}}</b> is successful</small>',
    'operationStatus.21.3': '{{assetName}} upsert asset failed <br/> <small>upsert asset <b>{{assetName}}</b> is failed</small>',
    'operationStatus.75.1': '{{draftName}} Creation pending <br/> <small>creating a draft <b> {{draftName}}</b> with snapshot is in progress</small>',
    'operationStatus.75.2': '{{draftName}} Created <br/> <small>creating a draft <b>{{draftName}}</b> with snapshot is successful</small>',
    'operationStatus.75.3': '{{draftName}} Creation failed <br/> <small>creating a draft <b>{{draftName}}</b> with snapshot is failed</small>',
    'operationStatus.43.1': '{{nodeName}} update pending <br/> <small>updating a node<b> {{nodeName}} </b> is in progress</small>',
    'operationStatus.43.2': '{{nodeName}} update <br/> <small>udating a node <b>{{nodeName}}</b> is successful</small>',
    'operationStatus.43.3': '{{nodeName}} updation failed <br/> <small>updation of a node <b>{{nodeName}}</b> is failed</small>',
    'operationStatus.80.1': 'Import Distribution for distribution: {{distributionName}} is pending',
    'operationStatus.80.2': 'Import Distribution for distribution: {{distributionName}} is succeed',
    'operationStatus.80.3': 'Import Distribution for distribution: {{distributionName}} is failed',
    'realtimeUpdates.1': '{{userName}} created a Project <b>{{resourceName}}</b>',
    'realtimeUpdates.2': '{{userName}} created a Distribution <b>{{resourceName}}</b> to Project {{projectName}}',
    'realtimeUpdates.3': '{{userName}} added a Node <b>{{resourceName}}</b> to Distribution {{distributionName}}, Project {{projectName}}',
    'realtimeUpdates.4': '{{userName}} deleted a Node <b>{{resourceName}}</b> from Distribution {{distributionName}}, Project {{projectName}}',
    'realtimeUpdates.5': '{{userName}} created a Draft <b>{{resourceName}}</b> to Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'realtimeUpdates.6': '{{userName}} deleted a Draft <b>{{resourceName}}</b> to Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'realtimeUpdates.7': '{{userName}} edited a Draft <b>{{resourceName}}</b> to Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'realtimeUpdates.8': '{{userName}} edited a Node <b>{{resourceName}}</b> to Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'realtimeUpdates.9': '{{userName}} renamed a Draft <b>{{oldName}}</b> to <b>{{newName}}</b> in Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'realtimeUpdates.10': '{{userName}} edited a Distribution <b>{{resourceName}}</b> to Project {{projectName}} ',
    'realtimeUpdates.11': '{{userName}} edited a Project <b>{{resourceName}}</b>',
    'realtimeUpdates.12': '{{userName}} accept a Draft to Live <b>{{resourceName}}</b> from Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'personalUpdates.1': '{{userName}} created a Project <b>{{resourceName}}</b>',
    'personalUpdates.2': '{{userName}} created a Distribution <b>{{resourceName}}</b> to Project {{projectName}}',
    'personalUpdates.3': '{{userName}} added a Node <b>{{resourceName}}</b> to Distribution {{distributionName}}, Project {{projectName}}',
    'personalUpdates.4': '{{userName}} deleted a Node <b>{{resourceName}}</b> from Distribution {{distributionName}}, Project {{projectName}}',
    'personalUpdates.5': '{{userName}} created a Draft <b>{{resourceName}}</b> to Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'personalUpdates.6': '{{userName}} deleted a Draft <b>{{resourceName}}</b> to Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'personalUpdates.7': '{{userName}} edited a Draft <b>{{resourceName}}</b> to Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'personalUpdates.8': '{{userName}} edited a Node <b>{{resourceName}}</b> to Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'personalUpdates.9': '{{userName}} renamed a Draft <b>{{resourceName}}</b> in Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
    'personalUpdates.10': '{{userName}} edited a Distribution <b>{{resourceName}}</b> to Project {{projectName}} ',
    'personalUpdates.11': '{{userName}} edited a Project <b>{{resourceName}}</b>',
    'personalUpdates.12': '{{userName}} accept a Draft to Live <b>{{resourceName}}</b> from Node {{shortTitle}}, Distribution {{distributionName}}, Project {{projectName}} ',
};


/***/ }),

/***/ "./src/app/common/template.service.ts":
/*!********************************************!*\
  !*** ./src/app/common/template.service.ts ***!
  \********************************************/
/*! exports provided: TemplateService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplateService", function() { return TemplateService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _template_strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template-strings */ "./src/app/common/template-strings.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var TemplateService = (function () {
    function TemplateService(tagCacheService) {
        this.tagCacheService = tagCacheService;
    }
    TemplateService.prototype.getTemplateString = function (id, data) {
        var template = _template_strings__WEBPACK_IMPORTED_MODULE_2__["templateStrings"][id];
        if (!template) {
            return;
        }
        var properties = underscore__WEBPACK_IMPORTED_MODULE_1__["keys"](data);
        underscore__WEBPACK_IMPORTED_MODULE_1__["each"](properties, function (aProp) {
            template = template.replace(new RegExp('{{' + aProp + '}}', 'g'), data[aProp]);
        });
        return template;
    };
    TemplateService.prototype.getTagByTagId = function (tagId) {
        var tagGroupId = this.tagCacheService.tagVsTagGroup[tagId];
        var tagGroup = this.tagCacheService.getTagGroup(tagGroupId);
        var value = underscore__WEBPACK_IMPORTED_MODULE_1__["find"](tagGroup.tags, function (tag) {
            tag.colour = tagGroup.colour;
            return tag.tagId === tagId;
        });
        return value;
    };
    TemplateService.prototype.TagResolver = function (resourceChange) {
        var tags = resourceChange.tags;
        var text = '';
        for (var i = 0; i < tags.length; i++) {
            var tag = this.getTagByTagId(tags[i]);
            text += '<mat-chip class="mat-chip mat-primary ng-star-inserted" style="background-color:' + tag.colour + '">' + tag.tagName + '</mat-chip>';
        }
        return text;
    };
    TemplateService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_3__["TagCacheService"]])
    ], TemplateService);
    return TemplateService;
}());



/***/ }),

/***/ "./src/app/common/topic.ts":
/*!*********************************!*\
  !*** ./src/app/common/topic.ts ***!
  \*********************************/
/*! exports provided: Topic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Topic", function() { return Topic; });
/* harmony import */ var rxjs_Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs/Observable */ "./node_modules/rxjs/_esm5/Observable.js");

var Topic = (function () {
    function Topic(aHubConnection) {
        this.aHubConnection = aHubConnection;
        this.hubConnection = aHubConnection;
    }
    Topic.prototype.subscribe = function (name) {
        var _this = this;
        return rxjs_Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"].create(function (observer) {
            _this.hubConnection.invoke('JoinRoom', name);
            _this.hubConnection.on('JoinedRoom', function (data) {
                if (data === name) {
                    observer.next(data + ' Joined');
                    observer.complete();
                }
            });
        });
    };
    Topic.prototype.unsubscribe = function (name) {
        var _this = this;
        return rxjs_Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"].create(function (observer) {
            _this.hubConnection.invoke('LeaveRoom', name);
            _this.hubConnection.on('ExitedRoom', function (data) {
                if (data === name) {
                    observer.next(data + ' Exited');
                    observer.complete();
                }
            });
        });
    };
    return Topic;
}());



/***/ }),

/***/ "./src/app/common/user.service.ts":
/*!****************************************!*\
  !*** ./src/app/common/user.service.ts ***!
  \****************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user */ "./src/app/common/user.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var rxjs_Observable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/Observable */ "./node_modules/rxjs/_esm5/Observable.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var UserService = (function () {
    function UserService(http) {
        this.http = http;
        this.user = new _user__WEBPACK_IMPORTED_MODULE_1__["User"]();
    }
    UserService.prototype.setProfile = function (loginResponse) {
        this.user.token = loginResponse.access_token;
        this.user.profile = loginResponse;
        localStorage.setItem('token', loginResponse.access_token);
        localStorage.setItem('profile', JSON.stringify(this.user.profile));
    };
    UserService.prototype.loadProfileIfExists = function () {
        this.user.token = localStorage.getItem('token');
        var profile = localStorage.getItem('profile');
        if (profile) {
            this.user.profile = JSON.parse(profile);
        }
        if (!this.user.token || !this.user.profile) {
            return false;
        }
        return true;
    };
    UserService.prototype.getToken = function () {
        return this.user.token ? this.user.token : '';
    };
    UserService.prototype.getProfile = function () {
        if (this.user && this.user.profile) {
            this.user.profile.profileShortName = (this.user.profile.firstName ? this.user.profile.firstName.charAt(0).toString().toUpperCase() : '') + (this.user.profile.lastName ? this.user.profile.lastName.charAt(0).toString().toUpperCase() : '');
        }
        return this.user.profile;
    };
    UserService.prototype.logOut = function () {
        localStorage.removeItem('token');
        localStorage.removeItem('profile');
        this.roles = undefined;
        this.user.token = undefined;
        this.user.profile = undefined;
    };
    UserService.prototype.removeRole = function (role) {
        this.roles = underscore__WEBPACK_IMPORTED_MODULE_2__["without"](this.roles, role);
    };
    UserService.prototype.assignRole = function (role) {
        this.roles.push(role);
    };
    UserService.prototype.setUserProfilePic = function (userProfilePic) {
        this.user.profile.profilePicUrl = userProfilePic;
        localStorage.setItem('profile', JSON.stringify(this.user.profile));
    };
    UserService.prototype.validateJWT = function () {
        var headers = new _angular_http__WEBPACK_IMPORTED_MODULE_3__["Headers"]({
            'Content-Type': 'application/json',
            'Authorization': 'Bearer ' + this.getToken(),
            'SignalrId': "0000000tokenvalidation0000000",
            'ResponseType': "Signalr"
        });
        return this.http.get(_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].API_BASE_URL + '/api/Projects', { headers: headers }).map(function (response) {
            return response;
        }).catch(function (error) {
            return rxjs_Observable__WEBPACK_IMPORTED_MODULE_5__["Observable"].throw(new Error(error));
        });
    };
    UserService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_3__["Http"]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./src/app/common/user.ts":
/*!********************************!*\
  !*** ./src/app/common/user.ts ***!
  \********************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
var User = (function () {
    function User() {
    }
    return User;
}());



/***/ }),

/***/ "./src/app/common/utils.ts":
/*!*********************************!*\
  !*** ./src/app/common/utils.ts ***!
  \*********************************/
/*! exports provided: urlEncode, utils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "urlEncode", function() { return urlEncode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "utils", function() { return utils; });
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};



function urlEncode(obj) {
    var urlSearchParams = new _angular_http__WEBPACK_IMPORTED_MODULE_0__["URLSearchParams"]();
    // tslint:disable-next-line:forin
    for (var key in obj) {
        urlSearchParams.append(key, obj[key]);
    }
    return urlSearchParams.toString();
}
// tslint:disable-next-line:class-name
var utils = (function () {
    function utils() {
    }
    utils.prototype.clone = function (value) {
        return value ? JSON.parse(JSON.stringify(value)) : value;
    };
    utils.prototype.listToTree = function (array) {
        var parentIds = underscore__WEBPACK_IMPORTED_MODULE_1__["pluck"](array, 'parentId');
        var nodeIds = underscore__WEBPACK_IMPORTED_MODULE_1__["pluck"](array, 'nodeId');
        var masterNodeId = underscore__WEBPACK_IMPORTED_MODULE_1__["first"](underscore__WEBPACK_IMPORTED_MODULE_1__["difference"](parentIds, nodeIds));
        return this.createTree(array, undefined, undefined, masterNodeId);
    };
    utils.prototype.createTree = function (array, parent, tree, masterNodeId) {
        tree = tree ? tree : [];
        parent = parent ? parent : { nodeId: masterNodeId };
        var children = underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](array, function (child) {
            return child.parentId === parent.nodeId;
        });
        if (!underscore__WEBPACK_IMPORTED_MODULE_1__["isEmpty"](children)) {
            children = underscore__WEBPACK_IMPORTED_MODULE_1__["sortBy"](children, 'nodeOrderIndex');
            if (parent.nodeId === masterNodeId) {
                tree = children;
            }
            else {
                parent['children'] = children;
            }
            underscore__WEBPACK_IMPORTED_MODULE_1__["each"](children, function (child) {
                this.createTree(array, child, undefined, masterNodeId);
            }.bind(this));
        }
        return tree;
    };
    utils.prototype.searchTree = function (value, searchText, filterTree) {
        if (searchText.length < 3 && !filterTree) {
            return value;
        }
        underscore__WEBPACK_IMPORTED_MODULE_1__["each"](value, function (node) {
            if (node.children) {
                node.children = this.searchTree(node.children, searchText, filterTree);
                if (underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](node.children, function (data) {
                    return data.styleClass === 'visible';
                }).length === 0) {
                    if (node.label.toLowerCase().indexOf(searchText.toLowerCase()) < 0) {
                        node['styleClass'] = 'inVisible';
                    }
                }
                else {
                    node['styleClass'] = 'visible';
                }
            }
            else {
                if (node.label.toLowerCase().indexOf(searchText.toLowerCase()) < 0) {
                    node['styleClass'] = 'inVisible';
                }
            }
        }.bind(this));
        return value;
    };
    utils.prototype.setNodeProperties = function (nodeList, propertyName, propertyValue, param, value) {
        if (propertyValue) {
            underscore__WEBPACK_IMPORTED_MODULE_1__["each"](nodeList, function (node) {
                if (node[propertyName] === propertyValue) {
                    node[param] = value;
                }
                if (node.children) {
                    node.children = this.setNodeProperties(node.children, propertyName, propertyValue, param, value);
                }
            }.bind(this));
        }
        return nodeList;
    };
    utils.prototype.findNodeHierarchy = function (nodeId, nodeList, nodeHierarchyArray) {
        if (nodeHierarchyArray === void 0) { nodeHierarchyArray = []; }
        if (!nodeList || nodeList.length < 1) {
            return;
        }
        var currentNode = underscore__WEBPACK_IMPORTED_MODULE_1__["find"](nodeList, function (value) {
            return nodeId === value.nodeId;
        });
        if (currentNode) {
            nodeHierarchyArray.push(currentNode);
            if (currentNode.parentId) {
                this.findNodeHierarchy(currentNode.parentId, nodeList, nodeHierarchyArray);
            }
        }
        return nodeHierarchyArray;
    };
    utils.prototype.returnMatchedNode = function (hierarchy, nodeTree) {
        var returnNode;
        var tempTree = nodeTree;
        if (hierarchy && hierarchy.length > 0) {
            var length_1 = hierarchy.length;
            while (length_1 > 0) {
                length_1--;
                returnNode = underscore__WEBPACK_IMPORTED_MODULE_1__["find"](tempTree, function (value) {
                    return value.shortTitle === hierarchy[length_1];
                });
                if (returnNode && returnNode.children) {
                    tempTree = returnNode.children;
                }
            }
        }
        return returnNode;
    };
    utils.prototype.convertAndResetPrimeNgTree = function (tree, expandedIcon, collapsedIcon, fileIcon, isExpanded) {
        if (isExpanded === void 0) { isExpanded = false; }
        underscore__WEBPACK_IMPORTED_MODULE_1__["each"](tree, function (node) {
            node['label'] = node['shortTitle'];
            node['expanded'] = isExpanded;
            node['isChecked'] = undefined;
            node['manuallyMatched'] = undefined;
            node['isMatched'] = undefined;
            if (node['isFolder']) {
                node['expandedIcon'] = expandedIcon;
                node['collapsedIcon'] = collapsedIcon;
                node['selectable'] = false;
            }
            else {
                node['icon'] = fileIcon;
            }
            node['data'] = { 'documentId': node.nodeId, 'name': node.label };
            if (node['children'] && node['children'].length > 0) {
                this.convertAndResetPrimeNgTree(node.children, expandedIcon, collapsedIcon, fileIcon, isExpanded);
            }
        }.bind(this));
        return tree;
    };
    utils.prototype.implementTagSearch = function (nodeList, tags) {
        underscore__WEBPACK_IMPORTED_MODULE_1__["each"](nodeList, function (node) {
            node['styleClass'] = 'visible';
            if (node.children) {
                node.children = this.implementTagSearch(node.children, tags);
                if (underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](node.children, function (data) {
                    return data.styleClass === 'visible';
                }).length === 0) {
                    underscore__WEBPACK_IMPORTED_MODULE_1__["each"](tags, function (tagGroup) {
                        if (tagGroup.tagIds.length > 0 && underscore__WEBPACK_IMPORTED_MODULE_1__["intersection"](tagGroup.tagIds, node.tags).length < 1) {
                            node.styleClass = 'inVisible';
                        }
                    });
                }
                else {
                    node['styleClass'] = 'visible';
                }
            }
            else {
                node.styleClass = node.styleClass && node.styleClass === 'inVisible' ? '' : 'visible';
                underscore__WEBPACK_IMPORTED_MODULE_1__["each"](tags, function (tagGroup) {
                    if (tagGroup.tagIds.length > 0 && underscore__WEBPACK_IMPORTED_MODULE_1__["intersection"](tagGroup.tagIds, node.tags).length < 1) {
                        node.styleClass = 'inVisible';
                    }
                });
            }
        }.bind(this));
        return nodeList;
    };
    utils.prototype.addRemoveNodeFromTree = function (nodeList, value, parentId, isAdd) {
        underscore__WEBPACK_IMPORTED_MODULE_1__["each"](nodeList, function (node) {
            if (parentId === node.nodeId && node.isDragDropNode === true) {
                if (isAdd) {
                    node.children = node.children ? node.children : [];
                    node.isDragDropNode = false;
                    node.children.push(value);
                }
                else {
                    node.children = underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](node.children, function (child) {
                        return child.nodeId !== value.nodeId;
                    });
                }
            }
            else {
                if (node.children) {
                    node.children = this.addRemoveNodeFromTree(node.children, value, parentId, isAdd);
                }
            }
        }.bind(this));
        return nodeList;
    };
    utils.prototype.convertCustomTagsToMDContent = function (content) {
        return content.replace(/(?:<dw-image>)/g, '&lt;dw-image&gt;')
            .replace(/(?:<\/dw-image>)/g, '&lt;/dw-image&gt;')
            .replace(/(?:<dw-link>)/g, '&lt;dw-link&gt;')
            .replace(/(?:<\/dw-link>)/g, '&lt;/dw-link&gt;')
            .replace(/(?:<dw-code>)/g, '&lt;dw-code&gt;')
            .replace(/(?:<\/dw-code>)/g, '&lt;/dw-code&gt;');
    };
    // Need this to convert pascal case to camel case, as it was expected server to send camel case, but it is sending pascal case.
    utils.prototype.toCamel = function (o) {
        var newO, origKey, newKey, value;
        if (o instanceof Array) {
            return o.map(function (value) {
                if (typeof value === 'object') {
                    value = this.toCamel(value);
                }
                return value;
            }.bind(this));
        }
        else {
            newO = {};
            for (origKey in o) {
                if (o.hasOwnProperty(origKey)) {
                    newKey = (origKey.charAt(0).toLowerCase() + origKey.slice(1) || origKey).toString();
                    value = o[origKey];
                    if (value instanceof Array || (value !== null && value.constructor === Object)) {
                        value = this.toCamel(value);
                    }
                    newO[newKey] = value;
                }
            }
        }
        return newO;
    };
    __decorate([
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Optional"])()),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object, Object, Object]),
        __metadata("design:returntype", void 0)
    ], utils.prototype, "findNodeHierarchy", null);
    __decorate([
        __param(4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Optional"])()),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Array, String, String, String, Object]),
        __metadata("design:returntype", Array)
    ], utils.prototype, "convertAndResetPrimeNgTree", null);
    return utils;
}());



/***/ }),

/***/ "./src/app/common/whitespace-validator.ts":
/*!************************************************!*\
  !*** ./src/app/common/whitespace-validator.ts ***!
  \************************************************/
/*! exports provided: WhiteSpaceValidator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WhiteSpaceValidator", function() { return WhiteSpaceValidator; });
function WhiteSpaceValidator(control) {
    var isValid = ((control.value || '').length > (control.value || '').trim().length) ? false : true;
    return isValid ? null : { 'whitespace': true };
}


/***/ }),

/***/ "./src/app/comparison-tool-filter-view/comparison-tool-filter-view.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/comparison-tool-filter-view/comparison-tool-filter-view.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<form [formGroup]=\"comparisonFilterForm\" fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start stretch\">\r\n  <mat-form-field fxFlex=\"25%\">\r\n    <mat-select placeholder=\"Select Project\" [formControl]=\"project\" (change)=\"selectedProjectId=project.value; getDistributions()\">\r\n      <mat-option *ngFor=\"let item of projectList | sort: 'projectName' \" [value]=\"item._id\"> {{ item.projectName }}</mat-option>\r\n    </mat-select>\r\n    <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isProjectLoading\"></mat-progress-bar>\r\n  </mat-form-field>\r\n  <mat-form-field fxFlex=\"25%\">\r\n    <mat-select placeholder=\"Select Distribution\" [formControl]=\"distribution\" [disabled]=\"!selectedProjectId\" (change)=\"selectedDistributionId=distribution.value; requestTree()\">\r\n      <mat-option *ngFor=\"let item of distributionList | sort: 'distributionName'\" [value]=\"item.distributionId\"> {{ item.distributionName }}</mat-option>\r\n    </mat-select>\r\n    <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isDistributionLoading\"></mat-progress-bar>\r\n  </mat-form-field>\r\n  <div fxFlex=\"25%\" class=\"comparision-node\">\r\n    <span class=\"comparision-node-select oneline-ellipsis\" [matMenuTriggerFor]=\"treeView\">\r\n      {{getSelectedNodeName()}}\r\n      <i class=\"mdi mdi-menu-down\"></i>\r\n    </span>\r\n\r\n    <mat-menu #treeView=\"matMenu\" [fxHide]=\"filteredNodes.length<=0\" class=\"comparision-treeview\" (click)=\"$event.stopPropagation()\">\r\n      <div class=\"tree-search m-5\" [fxHide]=\"filteredNodes.length<=0\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex\r\n           (click)=\"$event.stopPropagation()\">\r\n        <span fxFlex ngClass=\"custom-form-field\" fxLayoutAlign=\"space-between center\">\r\n          <input type=\"search\" fxFlex [formControl]=\"searchText\" (keyup)=\"searchTree()\" placeholder=\"Search ...\" />\r\n          <i class=\"mdi mdi-magnify mdi-24px\" (click)=\"searchTree()\"></i>\r\n        </span>\r\n      </div>\r\n      <p-tree (click)=\"$event.stopPropagation()\" [value]=\"filteredNodes\" [fxHide]=\"filteredNodes.length<=0\" selectionMode=\"single\"\r\n              [(selection)]=\"selectedFiles\" (onNodeSelect)=\"nodeSelect($event)\"></p-tree>\r\n    </mat-menu>\r\n    <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isTreeViewLoading\"></mat-progress-bar>\r\n  </div>\r\n  <mat-form-field fxFlex=\"25%\">\r\n    <mat-select placeholder=\"Select Draft\" [formControl]=\"draft\" [disabled]=\"!selectedNodeId\" (change)=\"selectedDraftId=draft.value; getDraftMDContent()\">\r\n      <mat-option *ngFor=\"let item of draftList\" [value]=\"item.draftId\"> {{ item.draftName }}</mat-option>\r\n    </mat-select>\r\n    <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isDraftLoading\"></mat-progress-bar>\r\n  </mat-form-field>\r\n</form>\r\n<mat-progress-bar mode=\"indeterminate\" *ngIf=\"isMdContentLoading\"></mat-progress-bar>\r\n"

/***/ }),

/***/ "./src/app/comparison-tool-filter-view/comparison-tool-filter-view.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/comparison-tool-filter-view/comparison-tool-filter-view.component.ts ***!
  \**************************************************************************************/
/*! exports provided: ComparisonToolFilterViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComparisonToolFilterViewComponent", function() { return ComparisonToolFilterViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _authoring_tabbed_view_authoring_tabbed_view_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../authoring-tabbed-view/authoring-tabbed-view.service */ "./src/app/authoring-tabbed-view/authoring-tabbed-view.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ComparisonToolFilterViewComponent = (function (_super) {
    __extends(ComparisonToolFilterViewComponent, _super);
    function ComparisonToolFilterViewComponent(injector, formBuilder, tabbedViewService) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.formBuilder = formBuilder;
        _this.tabbedViewService = tabbedViewService;
        _this.onContentLoad = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.projectList = [];
        _this.distributionList = [];
        _this.nodeList = [];
        _this.draftList = [];
        _this.selectDraftIdChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.mdContent = '';
        _this.filteredNodes = [];
        _this.project = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.distribution = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.draft = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.searchText = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.createComparisonForm();
        return _this;
    }
    ComparisonToolFilterViewComponent.prototype.ngOnInit = function () {
        this.emitContentLoad();
        this.setFormValues();
    };
    ComparisonToolFilterViewComponent.prototype.createComparisonForm = function () {
        this.comparisonFilterForm = this.formBuilder.group({
            project: this.project,
            distribution: this.distribution,
            draft: this.draft,
            searchText: this.searchText
        });
    };
    ComparisonToolFilterViewComponent.prototype.setFormValues = function () {
        this.comparisonFilterForm.setValue({
            project: this.selectedProjectId,
            distribution: this.selectedDistributionId,
            draft: this.selectedDraftId,
            searchText: ''
        });
        if (this.draft.value) {
            this.getDraftMDContent();
        }
        if (this.selectedNodeId) {
            this.selectedNodeText = this.treeViewService.getSelectedNode()['shortTitle'];
        }
        if (this.nodeList && this.nodeList.length > 0) {
            this.emitLocalEvent({ eventName: 'refreshNodes', value: { nodeList: this.nodeList, distributionId: this.selectedDistributionId } });
        }
    };
    ComparisonToolFilterViewComponent.prototype.getDistributions = function () {
        this.isDistributionLoading = true;
        this.isTreeViewLoading = false;
        this.isDraftLoading = false;
        this.isMdContentLoading = false;
        this.mdContent = '';
        this.draftList = [];
        this.nodeList = [];
        this.distributionList = [];
        this.selectedDistributionId = undefined;
        this.distribution.setValue(undefined);
        this.selectedNodeId = undefined;
        this.selectedNodeText = undefined;
        this.selectedDraftId = undefined;
        this.draft.setValue(undefined);
        this.emitContentLoad();
        this.getDistributionList(this.selectedProjectId);
    };
    ComparisonToolFilterViewComponent.prototype.refreshDistributions = function (data) {
        if (data.value.projectId === this.selectedProjectId) {
            this.distributionList = (data && data.value.distributions) ? data.value.distributions : [];
            this.isDistributionLoading = false;
        }
    };
    ComparisonToolFilterViewComponent.prototype.requestTree = function () {
        this.isTreeViewLoading = true;
        this.isDraftLoading = false;
        this.isMdContentLoading = false;
        this.mdContent = '';
        this.draftList = [];
        this.draft.setValue(undefined);
        this.nodeList = [];
        this.selectedNodeId = undefined;
        this.selectedNodeText = undefined;
        this.selectedDraftId = undefined;
        this.emitContentLoad();
        this.getNodes(this.selectedDistributionId);
    };
    ComparisonToolFilterViewComponent.prototype.refreshNodes = function (data) {
        if (data.value.distributionId === this.selectedDistributionId) {
            this.isTreeViewLoading = false;
            this.nodeList = data.value.nodeList;
            this.searchTree();
        }
    };
    ComparisonToolFilterViewComponent.prototype.getDrafts = function () {
        this.isDraftLoading = true;
        this.isMdContentLoading = false;
        this.mdContent = '';
        this.draftList = [];
        this.selectedDraftId = undefined;
        this.emitContentLoad();
        this.getDraftList(this.selectedNodeId, false);
        this.draft.setValue(undefined);
    };
    ComparisonToolFilterViewComponent.prototype.refreshDrafts = function (data) {
        if (data.value.nodeId === this.selectedNodeId) {
            this.isDraftLoading = false;
            this.draftList = data.value.drafts;
        }
    };
    ComparisonToolFilterViewComponent.prototype.getDraftMDContent = function () {
        this.mdContent = '';
        this.isMdContentLoading = true;
        this.emitContentLoad();
        this.getDraftContent(this.selectedDraftId);
    };
    ComparisonToolFilterViewComponent.prototype.getDraftContent = function (draftId) {
        var _this = this;
        var serviceResponse;
        serviceResponse = this.tabbedViewService.getDraftContent(draftId, 'md');
        serviceResponse.responseObservable.toPromise().then(function (response) {
            _this.subscribeForResponse({ subscriptionTopic: response.json().responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].operation['md'] });
        });
    };
    ComparisonToolFilterViewComponent.prototype.mdEvent = function (response) {
        this.bindMdContent({ content: response.data.content.draftContent, draftId: response.data.content.draftId });
    };
    ComparisonToolFilterViewComponent.prototype.bindMdContent = function (value) {
        if (value.draftId === this.selectedDraftId) {
            this.isMdContentLoading = false;
            this.mdContent = value.content;
            this.emitContentLoad();
        }
    };
    ComparisonToolFilterViewComponent.prototype.emitContentLoad = function () {
        this.onContentLoad.emit({ content: this.mdContent, isLeft: this.isLeft, selectedDraftId: this.selectedDraftId, selectedNodeId: this.selectedNodeId, nodeDrafts: this.draftList });
    };
    ComparisonToolFilterViewComponent.prototype.nodeSelect = function ($event) {
        this.selectedNodeId = $event.node.nodeId;
        this.selectedNodeText = $event.node.shortTitle;
        this.trigger.closeMenu();
        this.getDrafts();
    };
    ComparisonToolFilterViewComponent.prototype.searchTree = function () {
        var clonedNodes;
        clonedNodes = JSON.parse(JSON.stringify(this.nodeList));
        underscore__WEBPACK_IMPORTED_MODULE_3__["each"](clonedNodes, function (node) {
            node.styleClass = 'visible';
        });
        this.filteredNodes = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().convertAndResetPrimeNgTree(new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().listToTree(clonedNodes), 'fa-folder-open', 'fa-folder', 'fa-file-word-o', true);
        this.filteredNodes = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().searchTree(this.filteredNodes, this.searchText.value, true);
    };
    ComparisonToolFilterViewComponent.prototype.getSelectedNodeName = function () {
        return this.selectedNodeText ? (this.selectedNodeText.length > 10 ? this.selectedNodeText.substring(0, 10) + '...' : this.selectedNodeText) : 'Select Node';
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_4__["MatMenuTrigger"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatMenuTrigger"])
    ], ComparisonToolFilterViewComponent.prototype, "trigger", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ComparisonToolFilterViewComponent.prototype, "isLeft", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ComparisonToolFilterViewComponent.prototype, "isProjectLoading", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], ComparisonToolFilterViewComponent.prototype, "onContentLoad", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ComparisonToolFilterViewComponent.prototype, "projectList", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ComparisonToolFilterViewComponent.prototype, "distributionList", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ComparisonToolFilterViewComponent.prototype, "nodeList", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ComparisonToolFilterViewComponent.prototype, "draftList", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ComparisonToolFilterViewComponent.prototype, "selectedProjectId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ComparisonToolFilterViewComponent.prototype, "selectedDistributionId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ComparisonToolFilterViewComponent.prototype, "selectedNodeId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ComparisonToolFilterViewComponent.prototype, "selectedDraftId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ComparisonToolFilterViewComponent.prototype, "selectDraftIdChange", void 0);
    ComparisonToolFilterViewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-comparison-tool-filter-view',
            template: __webpack_require__(/*! ./comparison-tool-filter-view.component.html */ "./src/app/comparison-tool-filter-view/comparison-tool-filter-view.component.html")
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"],
            _authoring_tabbed_view_authoring_tabbed_view_service__WEBPACK_IMPORTED_MODULE_5__["AuthoringTabbedViewService"]])
    ], ComparisonToolFilterViewComponent);
    return ComparisonToolFilterViewComponent;
}(_operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_7__["OperationBaseComponent"]));



/***/ }),

/***/ "./src/app/comparison-tool/comparison-tool.component.html":
/*!****************************************************************!*\
  !*** ./src/app/comparison-tool/comparison-tool.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" class=\"comparison-wrapper\" fxFlexFill>\r\n  <div fxLayout=\"row\" class=\"comparison-breadcrums\">\r\n    <div fxLayout=\"row\">\r\n      <span class=\"back-link cursor-pointer\" (click)=\"backToAuthoringView()\">\r\n        <i class=\"mdi mdi-menu-left\"></i> Back\r\n      </span>\r\n      <strong>Comparison Tool </strong>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" class=\"comparison-items\">\r\n    <div fxLayout=\"column\" fxFlex=\"50%\" class=\"filter-view\" [class]=\"isSwap?'content-rhs':'content-lhs'\">\r\n      <app-comparison-tool-filter-view (onContentLoad)=\"loadContent($event)\" [projectList]=\"projectList\" [distributionList]=\"distributionListLeft\"\r\n        [nodeList]=\"nodeListLeft\" [draftList]=\"draftListLeft\" [selectedProjectId]=\"selectedProjectIdLeft\" [selectedDistributionId]=\"selectedDistributionIdLeft\"\r\n        [selectedNodeId]=\"selectedNodeIdLeft\" [selectedDraftId]=\"selectedDraftIdLeft\" [isLeft]=\"true\" [isProjectLoading]=\"isProjectLoading\"></app-comparison-tool-filter-view>\r\n    </div>\r\n    <div fxLayout=\"column\" fxFlex=\"50%\" class=\"filter-view\" [class]=\"isSwap?'content-lhs':'content-rhs'\">\r\n      <app-comparison-tool-filter-view (onContentLoad)=\"loadContent($event)\" [projectList]=\"projectList\" [distributionList]=\"distributionListRight\"\r\n        [nodeList]=\"nodeListRight\" [draftList]=\"draftListRight\" [selectedProjectId]=\"selectedProjectIdRight\" [selectedDistributionId]=\"selectedDistributionIdRight\"\r\n        [selectedNodeId]=\"selectedNodeIdRight\" [selectedDraftId]=\"selectedDraftIdRight\" [isLeft]=\"false\" [isProjectLoading]=\"isProjectLoading\"></app-comparison-tool-filter-view>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\" class=\"mergely-content\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"overlay-mergely left\" [fxHide]=\"selectedDraftIdLeft\">\r\n      <h4>Please select atleast one draft to compare or merge.</h4>\r\n    </div>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"overlay-mergely right\" [fxHide]=\"selectedDraftIdRight\">\r\n      <h4>Please select atleast one draft to compare or merge.</h4>\r\n    </div>\r\n    <iframe [src]=\"mergelyUrl\" id=\"mergely-iframe\" width=\"100%\" scrolling=\"no\" class=\"mergely-iframe\" seamless=\"seamless\"></iframe>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "./src/app/comparison-tool/comparison-tool.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/comparison-tool/comparison-tool.component.ts ***!
  \**************************************************************/
/*! exports provided: ComparisonToolComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComparisonToolComponent", function() { return ComparisonToolComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var _create_draft_from_snapshot_create_draft_from_snapshot_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../create-draft-from-snapshot/create-draft-from-snapshot.component */ "./src/app/create-draft-from-snapshot/create-draft-from-snapshot.component.ts");
/* harmony import */ var _confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../confirm-dialog/confirm-dialog.component */ "./src/app/confirm-dialog/confirm-dialog.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ComparisonToolComponent = (function (_super) {
    __extends(ComparisonToolComponent, _super);
    function ComparisonToolComponent(injector, location, sanitizer, renderer, dialog) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.location = location;
        _this.sanitizer = sanitizer;
        _this.renderer = renderer;
        _this.dialog = dialog;
        _this.mergelyUrl = _this.sanitizer.bypassSecurityTrustResourceUrl(_constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].mergelyUrl);
        _this.projectList = [];
        _this.distributionListLeft = [];
        _this.distributionListRight = [];
        _this.nodeListLeft = [];
        _this.nodeListRight = [];
        _this.draftListLeft = [];
        _this.draftListRight = [];
        return _this;
    }
    ComparisonToolComponent.prototype.ngOnInit = function () {
        this.isProjectLoading = true;
        this.getProjects();
        this.setSelectedValues();
        this.listenMessage();
    };
    ComparisonToolComponent.prototype.refreshProjects = function (projects) {
        this.isProjectLoading = false;
        this.projectList = projects.value;
    };
    ComparisonToolComponent.prototype.setSelectedValues = function () {
        this.selectedProjectIdLeft = this.authoringCacheService.selectedProjectId;
        this.selectedProjectIdRight = this.authoringCacheService.selectedProjectId;
        this.selectedDistributionIdLeft = this.authoringCacheService.selectedDistributionId;
        this.selectedDistributionIdRight = this.authoringCacheService.selectedDistributionId;
        this.selectedNodeIdLeft = this.authoringCacheService.selectedNodeId;
        this.selectedNodeIdRight = this.authoringCacheService.selectedNodeId;
        this.selectedDraftIdLeft = this.authoringCacheService.selectedLeftDraftId;
        this.selectedDraftIdRight = this.authoringCacheService.selectedRightDraftId;
        this.projectList = this.authoringCacheService.getProjects();
        this.distributionListLeft = this.authoringCacheService.getDistributions(this.selectedProjectIdLeft);
        this.distributionListRight = this.authoringCacheService.getDistributions(this.selectedProjectIdRight);
        this.nodeListLeft = this.authoringCacheService.getNodes(this.selectedDistributionIdLeft);
        this.nodeListRight = this.authoringCacheService.getNodes(this.selectedDistributionIdRight);
        this.draftListLeft = this.authoringCacheService.getDrafts(this.selectedNodeIdLeft);
        this.draftListRight = this.authoringCacheService.getDrafts(this.selectedNodeIdRight);
    };
    ComparisonToolComponent.prototype.backToAuthoringView = function () {
        this.postMessage({ isDataCompare: true });
    };
    ComparisonToolComponent.prototype.loadContent = function (value) {
        if (value.isLeft) {
            this.selectedDraftIdLeft = value.selectedDraftId;
            this.selectedNodeIdLeft = value.selectedNodeId;
            this.contentLeft = value.content;
            this.draftListLeft = value.nodeDrafts;
        }
        else {
            this.selectedDraftIdRight = value.selectedDraftId;
            this.selectedNodeIdRight = value.selectedNodeId;
            this.draftListRight = value.nodeDrafts;
            this.contentRight = value.content;
        }
        this.postMessage(value);
    };
    ComparisonToolComponent.prototype.postMessage = function (value) {
        var frame = document.getElementById('mergely-iframe');
        if (frame) {
            var doc = frame['contentWindow'];
            doc.postMessage(value, '*');
        }
    };
    ComparisonToolComponent.prototype.createDraft = function (value) {
        if (this.isSwap) {
            value.selectedNodeId = value.isLeft ? this.selectedNodeIdRight : this.selectedNodeIdLeft;
            value.nodeDrafts = value.isLeft ? this.draftListRight : this.draftListLeft;
        }
        else {
            value.selectedNodeId = value.isLeft ? this.selectedNodeIdLeft : this.selectedNodeIdRight;
            value.nodeDrafts = value.isLeft ? this.draftListLeft : this.draftListRight;
        }
        this.openCreateDraftDialog(value);
    };
    ComparisonToolComponent.prototype.openCreateDraftDialog = function (value) {
        this.dialog.open(_create_draft_from_snapshot_create_draft_from_snapshot_component__WEBPACK_IMPORTED_MODULE_2__["CreateDraftFromSnapshotComponent"], { data: { nodeId: value.selectedNodeId, content: value.content, isMergedDraft: true, nodeDrafts: value.nodeDrafts }, width: '360px' });
    };
    ComparisonToolComponent.prototype.isContentChanged = function () {
        var isContentModified = true;
        if (this.mergedContentLeft !== this.contentLeft) {
            isContentModified = false;
        }
        if (this.mergedContentRight !== this.contentRight) {
            isContentModified = false;
        }
        return isContentModified;
    };
    ComparisonToolComponent.prototype.listenMessage = function () {
        var _this = this;
        this.listenOnMessage = this.renderer.listen('window', 'message', function (event) {
            _this.isSwap = event.data.isSwap ? event.data.isSwap : false;
            if (event.data.isCreateDraft) {
                _this.createDraft(event.data);
            }
            if (event.data.isDataCompare) {
                _this.mergedContentLeft = event.data.leftContent;
                _this.mergedContentRight = event.data.rightContent;
                if (!_this.isContentChanged()) {
                    var dialogRef = _this.dialog.open(_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_3__["ConfirmDialogComponent"], {
                        data: { message: 'You have unsaved changes. Do you want to exit?', showButton: true, buttonText: 'Ok' }, width: '400px'
                    });
                    dialogRef.afterClosed().subscribe(function (result) {
                        if (result) {
                            _this.location.back();
                        }
                    });
                }
                else {
                    _this.location.back();
                }
            }
        });
    };
    ComparisonToolComponent.prototype.ngOnDestroy = function () {
        if (this.listenOnMessage) {
            this.listenOnMessage();
        }
    };
    ComparisonToolComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-comparison-tool',
            template: __webpack_require__(/*! ./comparison-tool.component.html */ "./src/app/comparison-tool/comparison-tool.component.html")
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["Location"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["DomSanitizer"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"],
            _angular_material__WEBPACK_IMPORTED_MODULE_6__["MatDialog"]])
    ], ComparisonToolComponent);
    return ComparisonToolComponent;
}(_operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_7__["OperationBaseComponent"]));



/***/ }),

/***/ "./src/app/confirm-dialog/confirm-dialog.component.html":
/*!**************************************************************!*\
  !*** ./src/app/confirm-dialog/confirm-dialog.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>Confirm Message</h3>\r\n    <button mat-button mat-dialog-close><i class=\"mdi mdi-close mdi-24px\"></i></button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"end center\" fxFlex=\"70px\">\r\n    <div [innerHTML]=\"message  |sanitizeHtml\"></div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions fxFlexFill fxLayoutAlign=\"center center\" *ngIf=\"showButton\">\r\n    <div class=\"button-row\" fxFlexAlign=\"center\">\r\n      <button mat-raised-button color=\"primary\" (click)=\"confirm()\">{{buttonText}}</button>\r\n\r\n      <button mat-button mat-dialog-close color=\"primary\">Close</button>\r\n    </div>\r\n  </mat-dialog-actions>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/confirm-dialog/confirm-dialog.component.ts":
/*!************************************************************!*\
  !*** ./src/app/confirm-dialog/confirm-dialog.component.ts ***!
  \************************************************************/
/*! exports provided: ConfirmDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmDialogComponent", function() { return ConfirmDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var ConfirmDialogComponent = (function () {
    function ConfirmDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.message = data.message;
        this.showButton = data.showButton;
        this.buttonText = data.buttonText ? data.buttonText : '';
    }
    ConfirmDialogComponent.prototype.ngOnInit = function () {
    };
    ConfirmDialogComponent.prototype.confirm = function () {
        this.dialogRef.close(true);
    };
    ConfirmDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-confirm-dialog',
            template: __webpack_require__(/*! ./confirm-dialog.component.html */ "./src/app/confirm-dialog/confirm-dialog.component.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], ConfirmDialogComponent);
    return ConfirmDialogComponent;
}());



/***/ }),

/***/ "./src/app/constants.ts":
/*!******************************!*\
  !*** ./src/app/constants.ts ***!
  \******************************/
/*! exports provided: applicationConstants, actions, assetTags, cmsOperation, eventStatus, entityStatus, topics, pageTitleList, DraftType, DocumentationType, DiffOperation, DraftCreationType, NodeCreationType, SourceControlType, SourceControlProviderType, TagGroupType, PublishNodeOperation, MultipleNodesTaggingOperation, nodeStatus, localisation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "applicationConstants", function() { return applicationConstants; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "actions", function() { return actions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "assetTags", function() { return assetTags; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cmsOperation", function() { return cmsOperation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "eventStatus", function() { return eventStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "entityStatus", function() { return entityStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "topics", function() { return topics; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pageTitleList", function() { return pageTitleList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DraftType", function() { return DraftType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentationType", function() { return DocumentationType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiffOperation", function() { return DiffOperation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DraftCreationType", function() { return DraftCreationType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NodeCreationType", function() { return NodeCreationType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SourceControlType", function() { return SourceControlType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SourceControlProviderType", function() { return SourceControlProviderType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagGroupType", function() { return TagGroupType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishNodeOperation", function() { return PublishNodeOperation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultipleNodesTaggingOperation", function() { return MultipleNodesTaggingOperation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nodeStatus", function() { return nodeStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "localisation", function() { return localisation; });
var applicationConstants = {
    mergelyUrl: '/assets/mergely/mergely.html',
    ufPreviewUrl: '/assets/preview_content/preview.html',
    allowedImageExtensions: /(\.jpg|\.jpeg|\.png|\.gif)$/i,
    allowedCodeExtensions: /(\.txt|\.cs)$/i,
    inputPattern: {
        fileName: new RegExp('^[^\:*?"<>|/]*$'),
    },
    favouriteProjectLocalStorageKey: 'favourite_project_',
    recentProjectLocalStorageKey: 'recent_project_',
    diffMaxCharLength: 100,
    projectLimit: 10,
    projectRefreshInterval: 250,
    notificationClearInterval: 20000,
    dateTimeFormat: 'DD/MM/YYYY, hh:mm:ss A',
    operation: {
        getProjects: { eventName: 'getProjectsEvent' },
        addNode: { eventName: 'addNodeEvent', raiseOperationEvent: true },
        validateDraftContent: { eventName: 'validateDraftContentEvent' },
        acceptDraftToLive: { eventName: 'acceptDraftToLiveEvent', raiseOperationEvent: true },
        updateNode: { eventName: 'updateNodeEvent', raiseOperationEvent: true },
        getBranchList: { eventName: 'getBranchListEvent' },
        createDistribution: { eventName: 'createDistributionEvent', raiseOperationEvent: true },
        createDraftWithSnapshot: { eventName: 'createDraftWithSnapshotEvent', raiseOperationEvent: true },
        createDraftWithContent: { eventName: 'createDraftWithContentEvent', raiseOperationEvent: true },
        getDistributionsForProject: { eventName: 'getDistributionsForProjectEvent' },
        getDocumentActivity: { eventName: 'getDocumentActivityEvent' },
        getDraftHistory: { eventName: 'getDraftHistoryEvent' },
        importDistribution: { eventName: 'importDistributionEvent', raiseOperationEvent: true },
        getProjectAdmin: { eventName: 'getProjectAdminEvent' },
        assignOrRemoveProjectAdmin: { eventName: 'assignOrRemoveProjectAdminEvent', raiseOperationEvent: true },
        getSystemAdmin: { eventName: 'getSystemAdminEvent' },
        assignOrRemoveSystemAdmin: { eventName: 'assignOrRemoveSystemAdminEvent', raiseOperationEvent: true },
        addTagsToNode: { eventName: 'addTagsToNodeEvent', raiseOperationEvent: true },
        getTagsForNode: { eventName: 'getTagsForNodeEvent' },
        deleteTagsFromNode: { eventName: 'deleteTagsFromNodeEvent', raiseOperationEvent: true },
        getUserDetails: { eventName: 'getUserDetailsEvent' },
        addTagGroupsToProject: { eventName: 'addTagGroupsToProjectEvent', raiseOperationEvent: true },
        getTagGroupsForProject: { eventName: 'getTagGroupsForProjectEvent' },
        deleteTagGroupsFromProject: { eventName: 'deleteTagGroupsFromProjectEvent', raiseOperationEvent: true },
        searchAssets: { eventName: 'searchAssetsEvent' },
        getAsset: { eventName: 'getAssetEvent' },
        updateAssetProperties: { eventName: 'updateAssetPropertiesEvent', raiseOperationEvent: true },
        upsertAsset: { eventName: 'upsertAssetEvent', raiseOperationEvent: true },
        getAccessExecutionMetrics: { eventName: 'getAccessExecutionMetricsEvent' },
        getCacheMetrics: { eventName: 'getCacheMetricsEvent' },
        getUserList: { eventName: 'getUserListEvent' },
        createDraft: { eventName: 'createDraftEvent', raiseOperationEvent: true },
        getPersonalUpdate: { eventName: 'getPersonalUpdateEvent' },
        getRepositoryList: { eventName: 'getRepositoryListEvent' },
        createProject: { eventName: 'createProjectEvent', handleNotification: false, raiseOperationEvent: true },
        getPublishHistory: { eventName: 'getPublishHistoryEvent' },
        getDistributionsQueuedForPublish: { eventName: 'getDistributionsQueuedForPublishEvent' },
        getNodesForLiveDraftsAfterDistributionPublish: { eventName: 'getNodesForLiveDraftsAfterDistributionPublishEvent' },
        getNodeListForPublish: { eventName: 'getNodeListForPublishEvent' },
        publishDistribution: { eventName: 'publishDistributionEvent', raiseOperationEvent: true },
        getRealtimeUpdate: { eventName: 'realtimeUpdateEvent', signalRTopic: 'GetRealtimeUpdatesResponse' },
        deleteDraft: { eventName: 'deleteDraftEvent', raiseOperationEvent: true },
        renameDraft: { eventName: 'renameDraftEvent', raiseOperationEvent: true },
        getAllTagGroupsAndTags: { eventName: 'getAllTagGroupsAndTagsEvent' },
        createTagGroup: { eventName: 'createTagGroupEvent', raiseOperationEvent: true },
        editTagGroup: { eventName: 'editTagGroupEvent', raiseOperationEvent: true },
        createTag: { eventName: 'createTagEvent', raiseOperationEvent: true },
        editTag: { eventName: 'editTagEvent', raiseOperationEvent: true },
        changeNodeLocation: { eventName: 'changeNodeLocationEvent', raiseOperationEvent: true },
        deleteNode: { eventName: 'deleteNodeEvent', raiseOperationEvent: true },
        getNodesForDistribution: { eventName: 'getNodesForDistributionEvent' },
        addTagsToMultipleNodes: { eventName: 'addTagsToMultipleNodesEvent', raiseOperationEvent: true },
        deleteTagsFromMultipleNodes: { eventName: 'deleteTagsFromMultipleNodesEvent', raiseOperationEvent: true },
        uploadUserProfilePic: { eventName: 'uploadUserProfilePicEvent', raiseOperationEvent: true },
        deleteUserProfilePic: { eventName: 'deleteUserProfilePicEvent', raiseOperationEvent: true },
        viewDraftSnapshot: { eventName: 'viewDraftSnapshotEvent' },
        getDraftsForNode: { eventName: 'getDraftsForNodeEvent' },
        md: { eventName: 'mdEvent' },
        html: { eventName: 'htmlEvent' },
        xml: { eventName: 'xmlEvent' },
        getPendingResponses: { eventName: 'getPendingResponsesEvent' },
        updateDistribution: { eventName: 'updateDistributionEvent', raiseOperationEvent: true },
    },
    assetType: {
        none: 0,
        codeSnippet: 2,
        image: 1,
        binary: 3,
        internalArticleUrl: 4
    },
    dragDropComponentViewType: {
        uploadView: 1,
        replaceView: 2
    },
    assetViewType: {
        recentAssets: 1,
        myAssets: 2,
    },
    eventStatus: {
        unknown: 0,
        wait: 1,
        success: 2,
        failure: 3,
    },
    draftSnapshotValidStatus: {
        Unknown: 0,
        Valid: 1,
        Invalid: 2,
    },
    filterType: {
        ById: 1,
        ByText: 2,
    },
    notificationType: {
        Targeted: 1,
        Broadcast: 2
    },
    confirmButtonText: {
        Create: 'Create',
        Delete: 'Delete'
    },
    roles: {
        Author: 'Author',
        ProjectAdmin: 'ProjectAdmin',
        SystemAdmin: 'SystemAdmin',
    },
    cropperSettings: {
        dynamicSizing: false,
        width: 150,
        height: 150,
        maxWidth: 150,
        maxHeight: 150,
        croppedWidth: 150,
        croppedHeight: 150,
        canvasWidth: 500,
        canvasHeight: 300,
        minWidth: 150,
        minHeight: 150,
        rounded: false,
        keepAspect: true,
        preserveSize: true,
        noFileInput: true,
        showCenterMarker: false,
        cropperDrawSettings: { strokeColor: '#00bcd4', strokeWidth: 1 }
    },
    cropPosition: {
        x: 10,
        y: 10,
        w: 150,
        h: 150,
    }
};
var actions = [
    { 'actionId': 1, 'actionName': 'Accept Draft To Live' },
    { 'actionId': 2, 'actionName': 'Create Draft' },
    { 'actionId': 3, 'actionName': 'Rename Draft' },
    { 'actionId': 4, 'actionName': 'Delete Draft' },
    { 'actionId': 5, 'actionName': 'Change Node Location' },
    { 'actionId': 6, 'actionName': 'Add Tags To Node' },
    { 'actionId': 7, 'actionName': 'Remove Tags From Node' },
    { 'actionId': 8, 'actionName': 'Update Short Title' },
    { 'actionId': 9, 'actionName': 'Update Title' },
    { 'actionId': 10, 'actionName': 'Update File Name' },
];
var assetTags = {
    assetImageStart: '<dw-image>',
    assetImageEnd: '</dw-image>',
    assetCodeStart: '<dw-code>',
    assetCodeEnd: '</dw-code>',
    assetLinkStart: '<dw-link>',
    assetLinkEnd: '</dw-link>'
};
var cmsOperation;
(function (cmsOperation) {
    cmsOperation[cmsOperation["NA"] = 0] = "NA";
    cmsOperation[cmsOperation["CreateProject"] = 1] = "CreateProject";
    cmsOperation[cmsOperation["GetProjects"] = 2] = "GetProjects";
    cmsOperation[cmsOperation["CreateDistribution"] = 4] = "CreateDistribution";
    cmsOperation[cmsOperation["CreateDraftWithDistribution"] = 5] = "CreateDraftWithDistribution";
    cmsOperation[cmsOperation["GetNodesForDistribution"] = 6] = "GetNodesForDistribution";
    cmsOperation[cmsOperation["GetProjectRepositoryBranches"] = 7] = "GetProjectRepositoryBranches";
    cmsOperation[cmsOperation["GetBranchList"] = 8] = "GetBranchList";
    cmsOperation[cmsOperation["GetRepositoryList"] = 9] = "GetRepositoryList";
    cmsOperation[cmsOperation["GetDistributionsForProject"] = 10] = "GetDistributionsForProject";
    cmsOperation[cmsOperation["EventHandlerTest"] = 10000] = "EventHandlerTest";
    cmsOperation[cmsOperation["GetDraftsForNode"] = 11] = "GetDraftsForNode";
    cmsOperation[cmsOperation["AcceptDraftToLive"] = 12] = "AcceptDraftToLive";
    cmsOperation[cmsOperation["GetDraftContentAsMarkdown"] = 13] = "GetDraftContentAsMarkdown";
    cmsOperation[cmsOperation["PeriodicSync"] = 15] = "PeriodicSync";
    cmsOperation[cmsOperation["DistributionPullPush"] = 16] = "DistributionPullPush";
    cmsOperation[cmsOperation["CreateDraft"] = 17] = "CreateDraft";
    cmsOperation[cmsOperation["AddNode"] = 18] = "AddNode";
    cmsOperation[cmsOperation["ValidateDraftContent"] = 19] = "ValidateDraftContent";
    cmsOperation[cmsOperation["GetAssets"] = 20] = "GetAssets";
    cmsOperation[cmsOperation["UpsertAsset"] = 21] = "UpsertAsset";
    cmsOperation[cmsOperation["CreateDraftPartial"] = 22] = "CreateDraftPartial";
    cmsOperation[cmsOperation["GetDraftContentAsHtml"] = 23] = "GetDraftContentAsHtml";
    cmsOperation[cmsOperation["GetAllTagGroupsAndTags"] = 24] = "GetAllTagGroupsAndTags";
    cmsOperation[cmsOperation["SyncCreateCoderDraftSnapShot"] = 25] = "SyncCreateCoderDraftSnapShot";
    cmsOperation[cmsOperation["CreateTagGroup"] = 26] = "CreateTagGroup";
    cmsOperation[cmsOperation["EditTagGroup"] = 27] = "EditTagGroup";
    cmsOperation[cmsOperation["CreateTag"] = 28] = "CreateTag";
    cmsOperation[cmsOperation["EditTag"] = 29] = "EditTag";
    cmsOperation[cmsOperation["AddTagGroupsToProject"] = 30] = "AddTagGroupsToProject";
    cmsOperation[cmsOperation["GetTagsForTagGroup"] = 31] = "GetTagsForTagGroup";
    cmsOperation[cmsOperation["GetDraftHistory"] = 33] = "GetDraftHistory";
    cmsOperation[cmsOperation["GetTagsForNode"] = 34] = "GetTagsForNode";
    cmsOperation[cmsOperation["UpdateAssetProperties"] = 35] = "UpdateAssetProperties";
    cmsOperation[cmsOperation["GetAsset"] = 36] = "GetAsset";
    cmsOperation[cmsOperation["PublishDistribution"] = 37] = "PublishDistribution";
    cmsOperation[cmsOperation["AddTagsToNode"] = 38] = "AddTagsToNode";
    cmsOperation[cmsOperation["UpdateMdTreeStructure"] = 39] = "UpdateMdTreeStructure";
    cmsOperation[cmsOperation["DeleteTagsFromNode"] = 40] = "DeleteTagsFromNode";
    cmsOperation[cmsOperation["UpdateDistribution"] = 41] = "UpdateDistribution";
    cmsOperation[cmsOperation["UpdateProject"] = 42] = "UpdateProject";
    cmsOperation[cmsOperation["UpdateNode"] = 43] = "UpdateNode";
    cmsOperation[cmsOperation["ChangeNodeLocation"] = 44] = "ChangeNodeLocation";
    cmsOperation[cmsOperation["GetTagGroupsForProject"] = 45] = "GetTagGroupsForProject";
    cmsOperation[cmsOperation["SearchAssets"] = 46] = "SearchAssets";
    cmsOperation[cmsOperation["GetTagsToDeleteFromProject"] = 47] = "GetTagsToDeleteFromProject";
    cmsOperation[cmsOperation["RenameDraft"] = 48] = "RenameDraft";
    cmsOperation[cmsOperation["DeleteTagGroupsFromProject"] = 49] = "DeleteTagGroupsFromProject";
    cmsOperation[cmsOperation["ViewDraftSnapshot"] = 50] = "ViewDraftSnapshot";
    cmsOperation[cmsOperation["CreateDraftWithSnapshot"] = 51] = "CreateDraftWithSnapshot";
    cmsOperation[cmsOperation["GetPublishQueues"] = 52] = "GetPublishQueues";
    cmsOperation[cmsOperation["GetNodesForLiveDraftsAfterDistributionPublish"] = 53] = "GetNodesForLiveDraftsAfterDistributionPublish";
    cmsOperation[cmsOperation["GetDistributionsQueuedForPublish"] = 54] = "GetDistributionsQueuedForPublish";
    cmsOperation[cmsOperation["CreateDefaultDraft"] = 55] = "CreateDefaultDraft";
    cmsOperation[cmsOperation["AcceptDraftToLivePartialForSourceSync"] = 56] = "AcceptDraftToLivePartialForSourceSync";
    cmsOperation[cmsOperation["GetUserDetails"] = 57] = "GetUserDetails";
    cmsOperation[cmsOperation["AssignOrRemoveSystemAdmin"] = 58] = "AssignOrRemoveSystemAdmin";
    cmsOperation[cmsOperation["GetSystemAdmin"] = 59] = "GetSystemAdmin";
    cmsOperation[cmsOperation["GetRolesAndPermissions"] = 60] = "GetRolesAndPermissions";
    cmsOperation[cmsOperation["DeleteDraft"] = 61] = "DeleteDraft";
    cmsOperation[cmsOperation["GetProject"] = 62] = "GetProject";
    cmsOperation[cmsOperation["AssignOrRemoveProjectAdmin"] = 63] = "AssignOrRemoveProjectAdmin";
    cmsOperation[cmsOperation["GetProjectAdmin"] = 64] = "GetProjectAdmin";
    cmsOperation[cmsOperation["DeleteNode"] = 65] = "DeleteNode";
    cmsOperation[cmsOperation["DeleteNodePartial"] = 66] = "DeleteNodePartial";
    cmsOperation[cmsOperation["GetDraftContentAsXml"] = 67] = "GetDraftContentAsXml";
    cmsOperation[cmsOperation["GetDocumentActivity"] = 68] = "GetDocumentActivity";
    cmsOperation[cmsOperation["UploadUserProfilePic"] = 69] = "UploadUserProfilePic";
    cmsOperation[cmsOperation["GetLatestSnapshotForDraft"] = 70] = "GetLatestSnapshotForDraft";
    cmsOperation[cmsOperation["DeleteUserProfilePic"] = 71] = "DeleteUserProfilePic";
    cmsOperation[cmsOperation["UpdateNodeTitle"] = 72] = "UpdateNodeTitle";
    cmsOperation[cmsOperation["CreateNewFileForDuplicateFileName"] = 73] = "CreateNewFileForDuplicateFileName";
    cmsOperation[cmsOperation["InsertRealtimeUpdate"] = 74] = "InsertRealtimeUpdate";
    cmsOperation[cmsOperation["CreateDraftWithContent"] = 75] = "CreateDraftWithContent";
    cmsOperation[cmsOperation["GetRealtimeUpdate"] = 76] = "GetRealtimeUpdate";
    cmsOperation[cmsOperation["AddTagsToMultipleNodes"] = 77] = "AddTagsToMultipleNodes";
    cmsOperation[cmsOperation["DeleteTagsFromMultipleNodes"] = 78] = "DeleteTagsFromMultipleNodes";
    cmsOperation[cmsOperation["AddSnapshotToDraft"] = 79] = "AddSnapshotToDraft";
    cmsOperation[cmsOperation["ImportDistribution"] = 80] = "ImportDistribution";
    cmsOperation[cmsOperation["ImportDistributionPartial"] = 81] = "ImportDistributionPartial";
    cmsOperation[cmsOperation["GetDistribution"] = 82] = "GetDistribution";
    cmsOperation[cmsOperation["GetExtractedLinks"] = 83] = "GetExtractedLinks";
    cmsOperation[cmsOperation["DeleteTag"] = 10001] = "DeleteTag";
    cmsOperation[cmsOperation["DeleteTagGroup"] = 10002] = "DeleteTagGroup";
    cmsOperation[cmsOperation["DeleteProject"] = 10003] = "DeleteProject";
    cmsOperation[cmsOperation["DeleteDistribution"] = 10004] = "DeleteDistribution";
})(cmsOperation || (cmsOperation = {}));
var eventStatus;
(function (eventStatus) {
    eventStatus[eventStatus["Unknown"] = 0] = "Unknown";
    eventStatus[eventStatus["Wait"] = 1] = "Wait";
    eventStatus[eventStatus["Success"] = 2] = "Success";
    eventStatus[eventStatus["Failure"] = 3] = "Failure";
})(eventStatus || (eventStatus = {}));
var entityStatus = {
    None: 0,
    Wait: 1,
    Ok: 2,
    Error: 3,
    0: 'None',
    1: 'Wait',
    2: 'Ok',
    3: 'Error',
};
var topics = {
    Dashboard: 'Topics/Dashboard',
    Project: 'Project',
    Distribution: 'Distribution',
    Node: 'Node',
    PublishQueue: 'Topics/PublishQueue',
    PublishHistory: 'Topics/PublishHistory',
    Asset: 'Asset',
    SystemAdmin: 'Topics/SystemAdmin',
};
var pageTitleList = {
    publishList: 'Unity DocWorks - Publish List',
    addProject: 'Unity DocWorks - Add Project',
    projectList: 'Unity DocWorks - Dashboard',
    createDistribution: 'Unity DocWorks - Create Distribution',
    distribution: 'Unity DocWorks - Distribution',
    manageTagGroupNodeLevel: 'Unity DocWorks - Manage Tag Groups - Node level',
    manageTagGroupProjectLevel: 'Unity DocWorks - Manage Tag Groups - Project level',
    manageTags: 'Unity DocWorks - Manage Tags',
    addDraft: 'Unity DocWorks - Add Draft',
    system: 'Unity DocWorks - System',
    tagManagementNodeLevel: 'Unity DocWorks - tag management - node level',
    addTagGroup: 'Unity DocWorks - Add Tag Group',
    errorDetail: 'Unity DocWorks - Error Detail',
    addNode: 'Unity DocWorks - Add Node',
    manageSystemAdmins: 'Unity DocWorks - Manage System Admins',
    manageProjectAdmins: 'Unity DocWorks - Manage Project Admins',
    analytics: 'Analytics',
    manageTagsForMultipleNodes: 'Unity DocWorks - Manage Tags For Multiple Nodes',
    deleteTagGroup: 'Unity DocWorks - Delete Tag group',
    deleteTag: 'Unity DocWorks - Delete Tag',
    deleteDistribution: 'Unity DocWorks - Delete Distribution',
    deleteProject: 'Unity DocWorks - Delete Project',
    developerDashboard: 'Unity DocWorks - Delete Developer-Dashboard'
};
var DraftType;
(function (DraftType) {
    DraftType[DraftType["CoderDraft"] = 1] = "CoderDraft";
    DraftType[DraftType["WorkInProgress"] = 2] = "WorkInProgress";
    DraftType[DraftType["LiveDraft"] = 3] = "LiveDraft";
})(DraftType || (DraftType = {}));
var DocumentationType;
(function (DocumentationType) {
    DocumentationType[DocumentationType["None"] = 0] = "None";
    DocumentationType[DocumentationType["KnowledgeBase"] = 1] = "KnowledgeBase";
    DocumentationType[DocumentationType["Tutorial"] = 2] = "Tutorial";
    DocumentationType[DocumentationType["Manual"] = 3] = "Manual";
    DocumentationType[DocumentationType["ScriptRef"] = 4] = "ScriptRef";
})(DocumentationType || (DocumentationType = {}));
var DiffOperation;
(function (DiffOperation) {
    DiffOperation[DiffOperation["DELETE"] = 0] = "DELETE";
    DiffOperation[DiffOperation["INSERT"] = 1] = "INSERT";
    DiffOperation[DiffOperation["EQUAL"] = 2] = "EQUAL";
})(DiffOperation || (DiffOperation = {}));
var DraftCreationType = {
    URL: '1',
    ExistingDraft: '2',
    Blank: '3',
    Templates: '4'
};
var NodeCreationType = {
    URL: '1',
    Blank: '2',
    Templates: '3',
    None: '4',
    ExistingDraft: '5'
};
var SourceControlType;
(function (SourceControlType) {
    SourceControlType[SourceControlType["GIT"] = 1] = "GIT";
    SourceControlType[SourceControlType["Mercurial"] = 2] = "Mercurial";
})(SourceControlType || (SourceControlType = {}));
var SourceControlProviderType;
(function (SourceControlProviderType) {
    SourceControlProviderType[SourceControlProviderType["GitLab"] = 1] = "GitLab";
    SourceControlProviderType[SourceControlProviderType["GitHub"] = 2] = "GitHub";
    SourceControlProviderType[SourceControlProviderType["Mercurial"] = 3] = "Mercurial";
})(SourceControlProviderType || (SourceControlProviderType = {}));
var TagGroupType = {
    OtherTagGroup: 0,
    UserTagGroup: 1,
    DateTagGroup: 2,
};
var PublishNodeOperation = {
    1: {
        title: 'Accept draft to live',
        class: 'AcceptDraftToLive',
        icon: 'pencil-box-outline'
    },
    4: {
        title: 'Delete draft',
        class: 'DeleteDraft',
        icon: 'delete-sweep'
    },
    5: {
        title: 'Change node location',
        class: 'ChangeNodeLocation',
        icon: 'file-tree'
    },
    6: {
        title: 'Add Tags To Node ',
        class: 'AddTagsToNode',
        icon: 'tag-plus'
    },
    7: {
        title: 'Delete Tags From Node',
        class: 'DeleteTagsFromNode',
        icon: 'tag-remove'
    },
    8: {
        title: 'Rename Short Title',
        class: 'RenameShortTitle',
        icon: 'pencil-circle-outline'
    },
    10: {
        title: 'Rename File Name',
        class: 'RenameFileName',
        icon: 'pencil-box-outline'
    },
    11: {
        title: 'Delete node',
        class: 'DeleteNode',
        icon: 'delete-circle'
    }
};
var MultipleNodesTaggingOperation = {
    AddTags: 0,
    RemoveTags: 1
};
var nodeStatus = {
    0: {
        title: 'published',
        class: 'published'
    },
    1: {
        title: 'Publish queue',
        class: 'publish-queue',
    },
    2: {
        title: 'in-Progress',
        class: 'in-progress'
    },
    3: {
        title: 'Version control updated',
        class: 'version-control-updated',
    },
    4: {
        title: 'waiting',
        class: 'waiting'
    },
    5: {
        title: 'not started',
        class: 'not-started'
    },
    6: {
        title: 'No Status',
        class: 'no-status',
    }
};
var localisation = {
    1: 'EN',
    2: 'JP',
    3: 'CH',
    4: 'FR',
    5: 'DE'
};


/***/ }),

/***/ "./src/app/create-distribution/create-distribution.component.html":
/*!************************************************************************!*\
  !*** ./src/app/create-distribution/create-distribution.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxFlexFill>\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>Add Distributions</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"15px\" fxFlex=\"100\">\r\n    <h3>Available Distributions</h3>\r\n    <div fxLayout=\"column\" fxLayoutGap=\"15px\" ngClass=\"distribution-chip\" slimScroll *ngIf=\"distributionsArray && distributionsArray.length>0\">\r\n\r\n      <mat-chip-list>\r\n        <mat-chip fxLayout=\"column\" fxFlex=\"150px\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between stretch\" *ngFor=\"let distribution of distributionsArray | sort: 'distributionName'\">\r\n          <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" matTooltip=\"{{distribution.distributionName}}\">\r\n            <strong ngClass=\"{{distribution.status== entityStatus.Error ?'errorEntity oneline-ellipsis':'oneline-ellipsis'}}\" fxFlex>{{distribution.distributionName}}</strong>\r\n            <mat-spinner *ngIf=\"distribution.status==entityStatus.Wait||distribution.status==entityStatus.None\" style=\"float:right;\"\r\n                         ngClass=\"tag-view-loader\"></mat-spinner>\r\n            <mat-icon *ngIf=\"distribution.status==entityStatus.Ok\" fxFlex=\"20px\" (click)=\"setSelectedDistribution(distribution)\">\r\n              <i class=\"mdi mdi-pencil mdi-18px\"></i>\r\n            </mat-icon>\r\n            <mat-icon *ngIf=\"distribution.status==entityStatus.Ok\" fxFlex=\"20px\" (click)=\"deleteDistribution(distribution)\">\r\n              <i class=\"mdi mdi-delete mdi-18px\"></i>\r\n            </mat-icon>\r\n          </div>\r\n          <small fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"5px\" matTooltip=\"{{distribution.branchName}}\">\r\n            <span>\r\n              <i class=\"mdi mdi-source-fork mdi-18px\"></i>\r\n            </span>\r\n            <i ngClass=\"oneline-ellipsis\">{{distribution.branchName}}</i>\r\n          </small>\r\n        </mat-chip>\r\n      </mat-chip-list>\r\n    </div>\r\n    <mat-divider ngClass=\"distribution-divider\"></mat-divider>\r\n    <div fxLayout=\"column\" fxLayoutGap=\"15px\">\r\n      <h3>{{selectedDistribution ? 'Update Distribution' : 'Create Distribution'}} </h3>\r\n\r\n      <form [formGroup]=\"distributionForm\" fxLayout=\"column\" fxLayoutGap=\"5px\">\r\n\r\n        <mat-form-field fxHide>\r\n          <input matInput placeholder=\"Distribution Id\" [formControl]=\"distributionId\">\r\n        </mat-form-field>\r\n\r\n        <mat-form-field>\r\n          <input maxlength=\"100\" matInput placeholder=\"Distribution Name\" required [formControl]=\"distributionName\" [readonly]=\"selectedDistribution\">\r\n          <small matSuffix>{{distributionName.value?.length || 0}}/100</small>\r\n          <mat-error *ngIf=\"distributionName.hasError('required')\">Distribution name is required</mat-error>\r\n          <mat-error *ngIf=\"distributionName.hasError('minlength')\"> Please enter at least 5 characters.</mat-error>\r\n          <mat-error *ngIf=\"distributionName.hasError('maxlength')\"> Please enter maximum of 100 characters.</mat-error>\r\n          <mat-error *ngIf=\"distributionName.hasError('whitespace')\">Leading and trailing whitespaces not allowed</mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field [fxHide]=\"project.sourceControlType==sourceControlType.Mercurial\">\r\n          <mat-select placeholder=\"Select Branch\" [required]=\"project.sourceControlType==sourceControlType.GIT\" [formControl]=\"branch\" [disabled]=\"selectedDistribution\">\r\n            <mat-option *ngFor=\"let branch of branchesArray\" value=\"{{branch.branchName}}\">{{branch.branchName}}</mat-option>\r\n          </mat-select>\r\n          <mat-error *ngIf=\"branch.hasError('required')\">Branch is required</mat-error>\r\n          <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isBranchDataLoadInProgress\"></mat-progress-bar>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field [fxHide]=\"project.sourceControlType==sourceControlType.GIT\">\r\n          <input maxlength=\"100\" matInput placeholder=\"Branch\" [required]=\"project.sourceControlType==sourceControlType.Mercurial\" [formControl]=\"mercurialBranch\" [readonly]=\"selectedDistribution\">\r\n          <mat-error *ngIf=\"mercurialBranch.hasError('required')\">Branch is required</mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field>\r\n          <input maxlength=\"100\" matInput placeholder=\"TOC Path\" [formControl]=\"tocPath\" (keyup)=\"checkValidTocPath(tocPath.value)\" [readonly]=\"selectedDistribution\">\r\n          <small matSuffix>{{tocPath.value?.length || 0}}/100</small>\r\n          <mat-error *ngIf=\"tocPath.hasError('maxlength')\"> Please enter maximum of 100 characters.</mat-error>\r\n          <mat-error *ngIf=\"tocPath.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n        </mat-form-field>\r\n        <mat-error *ngIf=\"!isValidToc\">invalid TOC Path</mat-error>\r\n\r\n        <mat-form-field>\r\n          <input maxlength=\"1000\" matInput placeholder=\"Description\" [formControl]=\"description\">\r\n          <small matSuffix>{{description.value?.length || 0}}/1000</small>\r\n          <mat-error *ngIf=\"description.hasError('maxlength')\"> Please enter maximum of 1000 characters.</mat-error>\r\n          <mat-error *ngIf=\"description.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n        </mat-form-field>\r\n\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"10px\">\r\n          <button *ngIf=\"!selectedDistribution\" mat-raised-button color=\"primary\" (click)=\"createDistribution();distributionForm.reset()\" [disabled]=\"(!distributionForm.valid || isBranchDataLoadInProgress || isDistributionDataLoadInProgress||!isValidToc)\">Create Distribution</button>\r\n\r\n          <button *ngIf=\"selectedDistribution\" mat-raised-button color=\"primary\" (click)=\"updateDistribution();distributionForm.reset()\" [disabled]=\"(!distributionForm.valid || isBranchDataLoadInProgress || isDistributionDataLoadInProgress||!isValidToc)\">Update Distribution</button>\r\n\r\n          <button *ngIf=\"selectedDistribution\" mat-raised-button color=\"primary\" (click)=\"cancelUpdate();distributionForm.reset()\">Cancel</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </mat-dialog-content>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/create-distribution/create-distribution.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/create-distribution/create-distribution.component.ts ***!
  \**********************************************************************/
/*! exports provided: CreateDistributionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateDistributionComponent", function() { return CreateDistributionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../distribution/distribution.service */ "./src/app/distribution/distribution.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/whitespace-validator */ "./src/app/common/whitespace-validator.ts");
/* harmony import */ var _delete_distribution_confirmation_dialog_delete_distribution_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../delete-distribution-confirmation-dialog/delete-distribution-confirmation-dialog.component */ "./src/app/delete-distribution-confirmation-dialog/delete-distribution-confirmation-dialog.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};










var CreateDistributionComponent = (function (_super) {
    __extends(CreateDistributionComponent, _super);
    function CreateDistributionComponent(distributionService, router, dialog, injector, formBuilder, data, createDistributionDialogRef) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_6__["pageTitleList"].createDistribution }) || this;
        _this.distributionService = distributionService;
        _this.router = router;
        _this.dialog = dialog;
        _this.injector = injector;
        _this.formBuilder = formBuilder;
        _this.data = data;
        _this.createDistributionDialogRef = createDistributionDialogRef;
        _this.sourceControlType = _constants__WEBPACK_IMPORTED_MODULE_6__["SourceControlType"];
        _this.entityStatus = _constants__WEBPACK_IMPORTED_MODULE_6__["entityStatus"];
        _this.distributionId = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]('');
        _this.distributionName = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_8__["WhiteSpaceValidator"]]);
        _this.branch = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]('');
        _this.mercurialBranch = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]('');
        _this.description = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].maxLength(1000), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_8__["WhiteSpaceValidator"]]);
        _this.tocPath = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_8__["WhiteSpaceValidator"]]);
        _this.isValidToc = true;
        _this.project = data.selectedProject;
        _this.distributionsArray = data.distributions;
        _this.createDistributionForm();
        _this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_6__["topics"].Distribution, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_6__["topics"].Distribution, eventName: undefined };
        return _this;
    }
    CreateDistributionComponent.prototype.ngOnInit = function () {
        if (this.project.sourceControlType === this.sourceControlType.GIT) {
            this.getProjectBranches();
            this.isBranchDataLoadInProgress = true;
        }
    };
    CreateDistributionComponent.prototype.getProjectBranches = function () {
        var _this = this;
        var serviceResponse;
        serviceResponse = this.distributionService.getProjectBranches(this.project._id);
        if (serviceResponse.data && serviceResponse.data.length >= 0) {
            this.setProjectBranchList({ branches: serviceResponse.data, projectId: this.project._id });
        }
        serviceResponse.responseObservable.toPromise().then(function (response) {
            var responseId = response.json().responseId;
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].operation.getBranchList });
        });
    };
    CreateDistributionComponent.prototype.createDistributionForm = function () {
        this.distributionForm = this.formBuilder.group({
            distributionId: this.distributionId,
            distributionName: this.distributionName,
            branch: this.branch,
            description: this.description,
            tocPath: this.tocPath,
            mercurialBranch: this.mercurialBranch
        });
    };
    CreateDistributionComponent.prototype.getBranchListEvent = function (notification) {
        var branches = notification.data.content ? notification.data.content.branches : [];
        this.setProjectBranchList(branches);
    };
    CreateDistributionComponent.prototype.setProjectBranchList = function (data) {
        this.isBranchDataLoadInProgress = false;
        this.branchesArray = data;
    };
    CreateDistributionComponent.prototype.resetDistributionForm = function () {
        this.distributionForm.reset();
    };
    CreateDistributionComponent.prototype.createDistribution = function () {
        var _this = this;
        var value = {
            projectId: this.project._id,
            branchName: this.project.sourceControlType === this.sourceControlType.GIT ? this.distributionForm.value.branch : this.distributionForm.value.mercurialBranch,
            distributionName: this.distributionForm.value.distributionName,
            description: this.distributionForm.value.description,
            tocPath: this.distributionForm.value.tocPath
        };
        this.distributionService.createDistribution(value).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].operation.createDistribution });
            var url = '/project/' + _this.project._id + '/distribution/{{distributionId}}';
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_6__["cmsOperation"].CreateDistribution, _constants__WEBPACK_IMPORTED_MODULE_6__["eventStatus"].Wait, { distributionName: value.distributionName, projectName: _this.project.projectName }, url);
            _this.addOperationEvent(operation);
            _this.createDistributionDialogRef.close();
            _this.router.navigate(['dashboard']);
        });
    };
    CreateDistributionComponent.prototype.checkValidTocPath = function (tocPath) {
        if (tocPath && tocPath.length > 0) {
            if (tocPath.charAt(0) === '.' || tocPath.charAt(0) === '/' || tocPath.slice(-1) === '/') {
                this.isValidToc = false;
            }
            else {
                this.isValidToc = true;
            }
        }
        else {
            this.isValidToc = true;
        }
    };
    CreateDistributionComponent.prototype.deleteDistribution = function (distribution) {
        this.dialog.open(_delete_distribution_confirmation_dialog_delete_distribution_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_9__["DeleteDistributionConfirmationDialogComponent"], { data: distribution, width: '700px', height: '300px' });
    };
    CreateDistributionComponent.prototype.setSelectedDistribution = function (distribution) {
        this.selectedDistribution = distribution;
        this.distributionForm.setValue({
            distributionId: distribution.distributionId,
            distributionName: distribution.distributionName,
            branch: distribution.branchName ? distribution.branchName : '',
            description: distribution.description,
            tocPath: distribution.tocPath,
            mercurialBranch: distribution.branchName ? distribution.branchName : ''
        });
    };
    CreateDistributionComponent.prototype.cancelUpdate = function () {
        this.selectedDistribution = undefined;
    };
    CreateDistributionComponent.prototype.updateDistribution = function () {
        var _this = this;
        var value = {
            distributionId: this.distributionForm.value.distributionId,
            branchName: this.project.sourceControlType === this.sourceControlType.GIT ? this.distributionForm.value.branch : this.distributionForm.value.mercurialBranch,
            distributionName: this.distributionForm.value.distributionName,
            description: this.distributionForm.value.description,
            tocPath: this.distributionForm.value.tocPath
        };
        this.distributionService.updateDistribution(value).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].operation.updateDistribution });
            var url = '/project/' + _this.project._id + '/distribution/{{distributionId}}';
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_6__["cmsOperation"].UpdateDistribution, _constants__WEBPACK_IMPORTED_MODULE_6__["eventStatus"].Wait, { distributionName: value.distributionName, projectName: _this.project.projectName }, url);
            _this.addOperationEvent(operation);
            _this.createDistributionDialogRef.close();
            _this.router.navigate(['dashboard']);
        });
    };
    CreateDistributionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-create-distribution',
            template: __webpack_require__(/*! ./create-distribution.component.html */ "./src/app/create-distribution/create-distribution.component.html"),
        }),
        __param(5, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()), __param(5, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_distribution_distribution_service__WEBPACK_IMPORTED_MODULE_2__["DistributionService"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"], _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"], Object, _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"]])
    ], CreateDistributionComponent);
    return CreateDistributionComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_7__["BaseComponent"]));



/***/ }),

/***/ "./src/app/create-draft-from-snapshot/create-draft-from-snapshot.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/create-draft-from-snapshot/create-draft-from-snapshot.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>Create Draft </h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n    <form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" [formGroup]=\"draftForm\">\r\n      <mat-form-field fxFlexFill fxFlexOffset=\"10px\">\r\n        <input matInput placeholder=\"Draft Name\" [formControl]=\"draftName\" (blur)=\"checkDuplicateName()\" (keyup)=\"checkDuplicateName()\">\r\n        <small matSuffix>{{draftName.value?.length || 0}}/100</small>\r\n        <mat-error *ngIf=\"draftName.hasError('required')\">Draft Name is required</mat-error>\r\n        <mat-error *ngIf=\"draftName.hasError('minlength')\">Please enter at least 5 characters.</mat-error>\r\n        <mat-error *ngIf=\"draftName.hasError('maxlength')\">Please enter maximum of 100 characters</mat-error>\r\n        <mat-error *ngIf=\"draftName.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n\r\n      </mat-form-field>\r\n      <mat-error *ngIf=\"!isValidDraftName\">Duplicate Draft Name </mat-error>\r\n    </form>\r\n    <mat-error [fxHide]=\"data.content && data.content.length>0 && data.isMergedDraft\">\r\n      You can't create a blank draft.\r\n    </mat-error>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions fxFlexFill fxLayoutAlign=\"end center\">\r\n    <div fxLayout=\"row\" fxFlex fxLayoutAlign=\"end center\">\r\n      <button *ngIf=\"!data.isMergedDraft\" [fxHide]=\"!isOperationAllowed([cmsOperations.CreateDraftWithSnapshot])\" mat-raised-button\r\n        color=\"primary\" [disabled]=\"!isValidDraftName || !draftForm.valid\" (click)=\"createDraftFromSnapshot();\">\r\n        Create Draft\r\n      </button>\r\n\r\n      <button *ngIf=\"data.isMergedDraft\" [fxHide]=\"!isOperationAllowed([cmsOperations.CreateDraftWithSnapshot])\" mat-raised-button\r\n        color=\"primary\" [disabled]=\"!(data.content && data.content.length>0) || (!isValidDraftName || !draftForm.valid)\" (click)=\"createDraftUsingMergeContent();\">\r\n        Create Draft\r\n      </button>\r\n    </div>\r\n  </mat-dialog-actions>\r\n</div>"

/***/ }),

/***/ "./src/app/create-draft-from-snapshot/create-draft-from-snapshot.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/create-draft-from-snapshot/create-draft-from-snapshot.component.ts ***!
  \************************************************************************************/
/*! exports provided: CreateDraftFromSnapshotComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateDraftFromSnapshotComponent", function() { return CreateDraftFromSnapshotComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../new-draft/draft.service */ "./src/app/new-draft/draft.service.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/whitespace-validator */ "./src/app/common/whitespace-validator.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_8__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var CreateDraftFromSnapshotComponent = (function (_super) {
    __extends(CreateDraftFromSnapshotComponent, _super);
    function CreateDraftFromSnapshotComponent(injector, formBuilder, createDraftFromSnapshotDialogRef, draftService, data) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.formBuilder = formBuilder;
        _this.createDraftFromSnapshotDialogRef = createDraftFromSnapshotDialogRef;
        _this.draftService = draftService;
        _this.data = data;
        _this.draftName = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__["WhiteSpaceValidator"]]);
        _this.draftArray = [];
        _this.isValidDraftName = true;
        _this.createDraftForm();
        _this.draftArray = data.nodeDrafts;
        return _this;
    }
    CreateDraftFromSnapshotComponent.prototype.createDraftForm = function () {
        this.draftForm = this.formBuilder.group({
            draftName: this.draftName,
        });
    };
    CreateDraftFromSnapshotComponent.prototype.createDraftFromSnapshot = function () {
        var _this = this;
        var draft = {
            nodeId: this.data.nodeId,
            targetDraftName: this.draftName.value,
            targetDraftType: _constants__WEBPACK_IMPORTED_MODULE_6__["DraftType"].WorkInProgress,
            snapshotId: this.data.snapshotId
        };
        this.draftService.createDraftFromSnapshot(draft).then(function (responseId) {
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_6__["cmsOperation"].CreateDraftWithSnapshot, _constants__WEBPACK_IMPORTED_MODULE_6__["eventStatus"].Wait, { draftName: draft.targetDraftName });
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].operation.createDraftWithSnapshot });
            _this.addOperationEvent(operation);
            _this.createDraftFromSnapshotDialogRef.close(true);
        });
    };
    CreateDraftFromSnapshotComponent.prototype.createDraftUsingMergeContent = function () {
        var _this = this;
        var draft = {
            targetNodeId: this.data.nodeId,
            targetDraftName: this.draftName.value,
            targetDraftType: _constants__WEBPACK_IMPORTED_MODULE_6__["DraftType"].WorkInProgress,
            DraftContent: this.data.content
        };
        this.draftService.createDraftUsingMergeContent(draft).then(function (responseId) {
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_6__["cmsOperation"].CreateDraftWithContent, _constants__WEBPACK_IMPORTED_MODULE_6__["eventStatus"].Wait, { draftName: draft.targetDraftName });
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].operation.createDraftWithContent });
            _this.addOperationEvent(operation);
            _this.createDraftFromSnapshotDialogRef.close(true);
        });
    };
    CreateDraftFromSnapshotComponent.prototype.checkDuplicateName = function () {
        var draftName = this.draftName.value;
        var foundDraft = underscore__WEBPACK_IMPORTED_MODULE_8__["find"](this.draftArray, function (draft) {
            return draft.draftName.toLowerCase() === draftName.toLowerCase();
        }.bind(this));
        this.isValidDraftName = foundDraft ? false : true;
    };
    CreateDraftFromSnapshotComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-create-draft-from-snapshot',
            template: __webpack_require__(/*! ./create-draft-from-snapshot.component.html */ "./src/app/create-draft-from-snapshot/create-draft-from-snapshot.component.html")
        }),
        __param(4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"], _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"],
            _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_4__["DraftService"], Object])
    ], CreateDraftFromSnapshotComponent);
    return CreateDraftFromSnapshotComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/app/create-tag-group/create-tag-group.component.html":
/*!******************************************************************!*\
  !*** ./src/app/create-tag-group/create-tag-group.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>{{selectedTagGroup && selectedTagGroup.tagGroupId?'Edit Tag Group':'Create Tag Group'}}</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <form [formGroup]=\"tagGroupForm\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div fxLayout=\"row\" fxLayoutGap=\"30px\">\r\n        <div fxLayout=\"column\">\r\n          <mat-form-field fxHide>\r\n            <input matInput placeholder=\"Tag Group Id\" [formControl]=\"tagGroupId\">\r\n          </mat-form-field>\r\n          <mat-form-field fxFlexOffset=\"5px\">\r\n            <input matInput placeholder=\"Tag Group Name\" maxlength=\"100\" required [formControl]=\"tagGroupName\" (keyup)=\"checkValidName()\">\r\n            <small matSuffix>{{tagGroupName.value?.length || 0}}/100</small>\r\n            <mat-error *ngIf=\"tagGroupName.hasError('required')\">Tag group name is required</mat-error>\r\n            <mat-error *ngIf=\"tagGroupName.hasError('minlength')\">Please enter at least 5 characters</mat-error>\r\n            <mat-error *ngIf=\"tagGroupName.hasError('maxlength')\">Please enter maximum of 100 characters</mat-error>\r\n            <mat-error *ngIf=\"tagGroupName.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n          </mat-form-field>\r\n          <mat-error *ngIf=\"!isValidTagGroup\">Invalid Tag Group Name</mat-error>\r\n          <section fxLayout=\"row\" fxLayoutGap=\"3%\" fxLayoutWrap fxLayoutAlign=\"start center\">\r\n            <div fxLayout=\"column\" fxFlex=\"47%\">\r\n              <mat-checkbox [formControl]=\"limitToOne\" color=\"primary\" fxFlexOffset=\"15px\">Limit to one</mat-checkbox>\r\n            </div>\r\n            <div fxLayout=\"column\" fxFlex=\"47%\">\r\n              <mat-checkbox [formControl]=\"childNodesInherit\" color=\"primary\" fxFlexOffset=\"15px\">Child nodes inherit</mat-checkbox>\r\n            </div>\r\n            <div fxLayout=\"column\" fxFlex=\"47%\">\r\n              <mat-checkbox [formControl]=\"displayGroupName\" color=\"primary\" fxFlexOffset=\"25px\">Display group name</mat-checkbox>\r\n            </div>\r\n            <div fxLayout=\"column\" fxFlex=\"47%\">\r\n              <mat-checkbox [formControl]=\"publicTag\" color=\"primary\" fxFlexOffset=\"25px\">Display on published page</mat-checkbox>\r\n            </div>\r\n            <div fxLayout=\"column\" fxFlex=\"47%\">\r\n              <mat-checkbox [formControl]=\"publish\" color=\"primary\" fxFlexOffset=\"25px\">Include in published meta</mat-checkbox>\r\n            </div>\r\n            <div fxLayout=\"column\" fxFlex=\"47%\">\r\n              <mat-checkbox [disabled]=\"selectedTagGroup\" [formControl]=\"userTagGroup\" color=\"primary\" fxFlexOffset=\"20px\">User tag group</mat-checkbox>\r\n            </div>\r\n          </section>\r\n        </div>\r\n        <div ngClass=\"mb-20 mt-20\" fxLayout=\"column\">\r\n          <p>Select Color</p>\r\n          <p-colorPicker [formControl]=\"colour\" inline=\"true\"></p-colorPicker>\r\n          <p fxLayout=\"row\" fxLayoutAlign=\"start center\">Selcted Color:\r\n            <span ngClass=\"color-picker-value\" [ngStyle]=\"{'background-color': colour.value?colour.value:'#ff0000'}\"></span>{{colour.value?colour.value:'#ff0000'}}</p>\r\n        </div>\r\n      </div>\r\n      <div fxLayout=\"column\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"5px\" fxFlexOffset=\"10px\">\r\n          <button [fxHide]=\"!isOperationAllowed([cmsOperations.CreateTagGroup])\" *ngIf=\"!selectedTagGroup\" mat-raised-button color=\"primary\"\r\n            [disabled]=\"!(isValidTagGroup&&tagGroupForm.valid)\" (click)=\"addTagGroup(); tagGroupForm.reset();\">\r\n            CREATE\r\n          </button>\r\n          <button [fxHide]=\"!isOperationAllowed([cmsOperations.EditTagGroup])\" *ngIf=\"selectedTagGroup\" mat-raised-button color=\"primary\"\r\n            [disabled]=\"!(isValidTagGroup&&tagGroupForm.valid)\" (click)=\"editTagGroup(); tagGroupForm.reset();\">\r\n            UPDATE\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n    </mat-dialog-content>\r\n  </form>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/create-tag-group/create-tag-group.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/create-tag-group/create-tag-group.component.ts ***!
  \****************************************************************/
/*! exports provided: CreateTagGroupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateTagGroupComponent", function() { return CreateTagGroupComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/whitespace-validator */ "./src/app/common/whitespace-validator.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var CreateTagGroupComponent = (function (_super) {
    __extends(CreateTagGroupComponent, _super);
    function CreateTagGroupComponent(tagCacheService, formBuilder, dialogRef, data, injector) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_5__["pageTitleList"].addTagGroup }) || this;
        _this.tagCacheService = tagCacheService;
        _this.formBuilder = formBuilder;
        _this.dialogRef = dialogRef;
        _this.data = data;
        _this.injector = injector;
        _this.tagGroupName = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_6__["WhiteSpaceValidator"]]);
        _this.colour = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.tagGroupId = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.limitToOne = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](false);
        _this.displayGroupName = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](false);
        _this.publicTag = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](false);
        _this.publish = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](false);
        _this.childNodesInherit = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](false);
        _this.userTagGroup = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](false);
        _this.isValidTagGroup = true;
        _this.tagGroupType = _constants__WEBPACK_IMPORTED_MODULE_5__["TagGroupType"];
        _this.createAddTagGroupForm();
        _this.selectedTagGroup = data;
        return _this;
    }
    CreateTagGroupComponent.prototype.ngOnInit = function () {
        if (this.selectedTagGroup) {
            this.setFormGroupValue();
        }
    };
    CreateTagGroupComponent.prototype.addTagGroup = function () {
        var _this = this;
        var tagGroup = this.tagGroupForm.value;
        tagGroup.colour = tagGroup.colour ? tagGroup.colour : '#ff0000';
        tagGroup.tagGroupType = tagGroup.userTagGroup ? this.tagGroupType.UserTagGroup : this.tagGroupType.OtherTagGroup;
        this.tagCacheService.postTagGroup(tagGroup).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.createTagGroup });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_7__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_5__["cmsOperation"].CreateTagGroup, _constants__WEBPACK_IMPORTED_MODULE_5__["eventStatus"].Wait, { tagGroupName: tagGroup.tagGroupName });
            _this.addOperationEvent(operation);
        });
        this.dialogRef.close();
    };
    CreateTagGroupComponent.prototype.createTagGroupEvent = function () {
        this.emitLocalEvent({ eventName: 'getTagGroupList', value: undefined });
    };
    CreateTagGroupComponent.prototype.editTagGroup = function () {
        var _this = this;
        var tagGroup = this.tagGroupForm.value;
        tagGroup.tagGroupType = tagGroup.userTagGroup ? this.tagGroupType.UserTagGroup : this.tagGroupType.OtherTagGroup;
        this.tagCacheService.editTagGroup(tagGroup).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.editTagGroup });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_7__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_5__["cmsOperation"].EditTagGroup, _constants__WEBPACK_IMPORTED_MODULE_5__["eventStatus"].Wait, { tagGroupName: tagGroup.tagGroupName });
            _this.addOperationEvent(operation);
        });
        this.dialogRef.close();
    };
    CreateTagGroupComponent.prototype.editTagGroupEvent = function () {
        this.emitLocalEvent({ eventName: 'getTagGroupList', value: undefined });
    };
    CreateTagGroupComponent.prototype.checkValidName = function () {
        if (this.tagCacheService.tagGroupNameExists(this.tagGroupForm.value)) {
            this.isValidTagGroup = false;
        }
        else {
            this.isValidTagGroup = true;
        }
    };
    CreateTagGroupComponent.prototype.setFormGroupValue = function () {
        this.tagGroupForm.setValue({
            tagGroupId: this.selectedTagGroup.tagGroupId,
            tagGroupName: this.selectedTagGroup.tagGroupName,
            colour: this.selectedTagGroup.colour,
            limitToOne: this.selectedTagGroup.limitToOne,
            childNodesInherit: this.selectedTagGroup.childNodesInherit,
            displayGroupName: this.selectedTagGroup.displayGroupName,
            publicTag: this.selectedTagGroup.public,
            publish: this.selectedTagGroup.publish,
            userTagGroup: this.selectedTagGroup.tagGroupType === this.tagGroupType.UserTagGroup
        });
    };
    CreateTagGroupComponent.prototype.createAddTagGroupForm = function () {
        this.tagGroupForm = this.formBuilder.group({
            tagGroupId: this.tagGroupId,
            tagGroupName: this.tagGroupName,
            colour: this.colour,
            limitToOne: this.limitToOne,
            childNodesInherit: this.childNodesInherit,
            displayGroupName: this.displayGroupName,
            publicTag: this.publicTag,
            publish: this.publish,
            userTagGroup: this.userTagGroup
        });
    };
    CreateTagGroupComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-create-tag-group',
            template: __webpack_require__(/*! ./create-tag-group.component.html */ "./src/app/create-tag-group/create-tag-group.component.html"),
        }),
        __param(3, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_3__["TagCacheService"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"], _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"]])
    ], CreateTagGroupComponent);
    return CreateTagGroupComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_4__["BaseComponent"]));



/***/ }),

/***/ "./src/app/dam-drag-and-drop/dam-drag-and-drop.component.html":
/*!********************************************************************!*\
  !*** ./src/app/dam-drag-and-drop/dam-drag-and-drop.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxFlexFill>\r\n  <div id=\"dam-dragdrop\" class=\"media-images-wrapper\" ngClass=\"{{viewType===dragDropComponentViewType.uploadView?'thumbnail-view':(assetData.assetType===constantAssetType.codeSnippet?'code-block-preview':'thumbnail-preview')}}\"\r\n    fxLayout=\"column\" fxFlex=\"100\" (drop)=\"(isDataLoading ||isAssetUploading)?'':drop($event)\" (dragenter)=\"(isDataLoading ||isAssetUploading)?'':dragEnter($event)\"\r\n    (dragleave)=\"(isDataLoading ||isAssetUploading)?'':dragLeave($event)\" (dragover)=\"(isDataLoading ||isAssetUploading)?'':dragOver($event)\"\r\n    [class]=\"dropUploadAssetClass\">\r\n    <div *ngIf=\"isAssetAdded\" fxLayoutAlign=\"center center\">New Asset's added please refresh the page.</div>\r\n    <div ngClass=\"image-drag-overlay\" fxLayout=\"column\" fxLayoutAlign=\"end center\">\r\n      <i class=\"mdi mdi-cloud-upload mdi-36px\"></i>\r\n      <button mat-raised-button color=\"primary\">Drop File Here to Upload</button>\r\n    </div>\r\n\r\n    <div fxLayout=\"row\" appInfiniteScroll (scrolldown)=\"scrolldown(true)\" (scrollup)=\"scrolldown(false)\" ngClass=\"media-images-scroll\"\r\n      fxLayoutWrap fxLayoutAlign=\"start start\" slimScroll fxFlexFill>\r\n      <div ngClass=\"media-images\" fxLayout=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"flex-start stretch\" [class]=\"asset.assetId===selectedAssetId?'active':''\"\r\n        *ngFor=\"let asset of (viewType===dragDropComponentViewType.replaceView?[]:assetData)\" (click)=\"(selectedAssetId != asset.assetId?getAssetDetail(asset):'');selectedAssetId = asset.assetId;\">\r\n        <div ngClass=\"media-image\" fxLayoutAlign=\"center center\">\r\n          <mat-icon fxFlex=\"80px\" *ngIf=\"assetType===constantAssetType.codeSnippet\">\r\n            <i class=\"mdi mdi-file-xml mdi-80\"></i>\r\n          </mat-icon>\r\n          <img *ngIf=\"assetType===constantAssetType.image\" src=\"{{asset.assetContent}}\">\r\n        </div>\r\n        <span ngClass=\"file-name\" fxFlex=\"20px\" fxHide class=\"oneline-ellipsis\" title=\"{{asset.fileName}}\">{{asset.fileName}}</span>\r\n      </div>\r\n\r\n      <div *ngIf=\"viewType===dragDropComponentViewType.replaceView\" ngClass=\"{{assetData.assetType===constantAssetType.image?'media-images':'media-code'}}\"\r\n        fxLayout=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"flex-start stretch\">\r\n        <div ngClass=\"media-image\" fxLayoutAlign=\"center center\" *ngIf=\"assetData.assetType===constantAssetType.image\">\r\n          <img src=\"{{assetData.assetContent}}\">\r\n        </div>\r\n        <div ngClass=\"media-image code-wrapper\" *ngIf=\"assetData.assetType===constantAssetType.codeSnippet\">\r\n          <code ngNonBindable [innerHTML]=\"formatCodeContent(assetData.assetContent) | sanitizeHtml\">\r\n              </code>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isDataLoading||isAssetUploading\"></mat-progress-bar>\r\n  <div ngClass=\"image-upload-info\" fxLayout=\"column\" fxFlex=\"60px\" fxLayoutAlign=\"start stretch\">\r\n\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex>\r\n        <p fxFlexOffset=\"20px\">\r\n          <span>*</span>\r\n          <em>Drag and drop files above</em>\r\n        </p>\r\n        <span fxFlexOffset=\"20px\">or</span>\r\n        <button mat-raised-button ngClass=\"secondary-btn\" fxFlexOffset=\"20px\" (click)=\"(isDataLoading ||isAssetUploading)?'':fileInput.click()\"\r\n          ng-disabled=\"(isDataLoading ||isAssetUploading)\">\r\n          <span>{{viewType==dragDropComponentViewType.uploadView?'Upload':'Replace'}}</span>\r\n          <i class=\"mdi mdi-18px mdi-upload\" *ngIf=\"viewType===dragDropComponentViewType.uploadView\"></i>\r\n          <i class=\"mdi mdi-18px mdi-refresh\" *ngIf=\"viewType!==dragDropComponentViewType.uploadView\"></i>\r\n          <input #fileInput type=\"file\" (change)=\"onFileInput($event)\" style=\"display:none;\" />\r\n        </button>\r\n      </div>\r\n      <div fxLayoutAlign=\"end stretch\">\r\n        <mat-error fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"5px\" *ngIf=\"uploadErrorMessage\">\r\n          <i class=\"mdi mdi-information mdi-18px\"></i>\r\n          <span>{{uploadErrorMessage}}</span>\r\n        </mat-error>\r\n        <em *ngIf=\"isAssetUploading\">Uploading</em>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>"

/***/ }),

/***/ "./src/app/dam-drag-and-drop/dam-drag-and-drop.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/dam-drag-and-drop/dam-drag-and-drop.component.ts ***!
  \******************************************************************/
/*! exports provided: DamDragAndDropComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DamDragAndDropComponent", function() { return DamDragAndDropComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var rxjs_Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/Observable */ "./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _replace_asset_confirmation_replace_asset_confirmation_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../replace-asset-confirmation/replace-asset-confirmation.component */ "./src/app/replace-asset-confirmation/replace-asset-confirmation.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var DamDragAndDropComponent = (function () {
    function DamDragAndDropComponent(dialog) {
        this.dialog = dialog;
        this.dropUploadAssetClass = '';
        this.maxFileSize = _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].assetMaxFileSize;
        this.constantAssetType = _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].assetType;
        this.dragDropComponentViewType = _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].dragDropComponentViewType;
        this.onFileSelect = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.getAsset = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onScroll = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.dragEnteredElements = [];
    }
    DamDragAndDropComponent.prototype.ngOnInit = function () {
    };
    DamDragAndDropComponent.prototype.dragEnter = function (evt) {
        this.dragEnteredElements.push(evt.target);
        this.dropUploadAssetClass = 'dropping';
        evt.preventDefault();
    };
    DamDragAndDropComponent.prototype.dragLeave = function (evt) {
        this.dragEnteredElements = underscore__WEBPACK_IMPORTED_MODULE_3__["without"](this.dragEnteredElements, evt.target);
        if (this.dragEnteredElements.length === 0) {
            this.dragEnteredElements = [];
            this.dropUploadAssetClass = '';
        }
        evt.preventDefault();
    };
    DamDragAndDropComponent.prototype.dragOver = function (evt) {
        this.dropUploadAssetClass = 'dropping';
        evt.preventDefault();
    };
    DamDragAndDropComponent.prototype.onFileInput = function (evt) {
        this.dropUploadAssetClass = '';
        var files = evt.currentTarget.files;
        this.showConfirmationDialog(files, this.assetData.assetId);
    };
    DamDragAndDropComponent.prototype.showConfirmationDialog = function (files, assetId) {
        var _this = this;
        if (assetId) {
            var dialogRef = this.dialog.open(_replace_asset_confirmation_replace_asset_confirmation_component__WEBPACK_IMPORTED_MODULE_6__["ReplaceAssetConfirmationComponent"], {
                width: '400px',
            });
            dialogRef.afterClosed().subscribe(function (result) {
                if (result) {
                    _this.checkFileValidation(files);
                }
            });
        }
        else {
            if (this.viewType === this.dragDropComponentViewType.replaceView && !assetId) {
                this.uploadErrorMessage = 'Please select a asset to replace.';
            }
            else {
                this.checkFileValidation(files);
            }
        }
    };
    DamDragAndDropComponent.prototype.checkFileValidation = function (files) {
        this.uploadErrorMessage = this.validateFile(files);
        if (!this.uploadErrorMessage) {
            this.ConvertFileToBase64AndUpload(files[0]);
        }
    };
    DamDragAndDropComponent.prototype.validateFile = function (files) {
        var returnMessage;
        if (files && files.length > 0) {
            if (files.length > 1) {
                returnMessage = 'Only 1 file allowed';
            }
            else {
                var fileName = files[0].name ? files[0].name.toLowerCase() : '';
                if (this.validateFileExtension(fileName)) {
                    returnMessage = this.validateFileExtension(fileName);
                }
                else if (files[0]['size'] > this.maxFileSize) {
                    returnMessage = 'Max ' + this.maxFileSize / 1024 / 1024 + 'MB size allowed';
                }
            }
        }
        else {
            returnMessage = 'Select atleast 1 file.';
        }
        return returnMessage;
    };
    DamDragAndDropComponent.prototype.validateFileExtension = function (filename) {
        if (this.assetType === _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].assetType.image) {
            if (!_constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].allowedImageExtensions.exec(filename)) {
                return 'Only .jpeg/.jpg/.png/.gif format allowed.';
            }
        }
        else if (this.assetType === _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].assetType.codeSnippet) {
            if (!_constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].allowedCodeExtensions.exec(filename)) {
                return 'Only .txt/.cs format allowed.';
            }
        }
        return '';
    };
    DamDragAndDropComponent.prototype.drop = function (evt) {
        evt.stopPropagation();
        evt.preventDefault();
        this.dragEnteredElements = [];
        this.dropUploadAssetClass = '';
        var files = evt.dataTransfer.files;
        this.showConfirmationDialog(files, this.assetData.assetId);
    };
    DamDragAndDropComponent.prototype.ConvertFileToBase64AndUpload = function (asset) {
        var _this = this;
        var observableFile = rxjs_Observable__WEBPACK_IMPORTED_MODULE_2__["Observable"].create(function (observer) {
            var reader = new FileReader();
            reader.onloadend = function () {
                observer.next(reader.result);
                observer.complete();
            };
            reader.onerror = function (err) {
                observer.error(err);
            };
            reader.onabort = function () {
                observer.error('aborted');
            };
            if (_this.assetType === _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].assetType.image) {
                reader.readAsDataURL(asset);
            }
            else if (_this.assetType === _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].assetType.codeSnippet) {
                reader.readAsText(asset);
            }
        });
        observableFile.subscribe(function (data) {
            var value = {
                assetType: _this.assetType,
                fileName: asset.name.substring(0, asset.name.lastIndexOf('.')),
                fileSize: asset.size,
                assetContent: data,
                assetId: _this.viewType === _this.dragDropComponentViewType.replaceView ? _this.assetData.assetId : undefined
            };
            _this.onFileSelect.emit(value);
        });
    };
    DamDragAndDropComponent.prototype.getAssetDetail = function (asset) {
        this.getAsset.emit(asset);
    };
    DamDragAndDropComponent.prototype.scrolldown = function (value) {
        if (this.viewType === _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].dragDropComponentViewType.uploadView) {
            this.onScroll.emit(value);
        }
    };
    DamDragAndDropComponent.prototype.formatCodeContent = function (assetContent) {
        return assetContent.split(' ').join('&nbsp;').replace(/(?:\r\n|\r|\n)/g, '<br />');
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DamDragAndDropComponent.prototype, "assetData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DamDragAndDropComponent.prototype, "isDataLoading", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DamDragAndDropComponent.prototype, "onFileSelect", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DamDragAndDropComponent.prototype, "getAsset", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], DamDragAndDropComponent.prototype, "viewType", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DamDragAndDropComponent.prototype, "assetType", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DamDragAndDropComponent.prototype, "selectedAssetId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DamDragAndDropComponent.prototype, "isAssetUploading", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], DamDragAndDropComponent.prototype, "isAssetAdded", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('myInput'),
        __metadata("design:type", Object)
    ], DamDragAndDropComponent.prototype, "fileInput", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DamDragAndDropComponent.prototype, "onScroll", void 0);
    DamDragAndDropComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-dam-drag-and-drop',
            template: __webpack_require__(/*! ./dam-drag-and-drop.component.html */ "./src/app/dam-drag-and-drop/dam-drag-and-drop.component.html"),
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_5__["MatDialog"]])
    ], DamDragAndDropComponent);
    return DamDragAndDropComponent;
}());



/***/ }),

/***/ "./src/app/dashboard/cacheResolver.ts":
/*!********************************************!*\
  !*** ./src/app/dashboard/cacheResolver.ts ***!
  \********************************************/
/*! exports provided: CacheResolver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CacheResolver", function() { return CacheResolver; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var CacheResolver = (function () {
    function CacheResolver(tagCacheService, router) {
        this.tagCacheService = tagCacheService;
        this.router = router;
    }
    CacheResolver.prototype.resolve = function (route, state) {
        if (!this.tagCacheService.pendingResponseId) {
            this.tagCacheService.requestTagGroups().then(function (responseId) {
                return responseId;
            });
        }
        else {
            return null;
        }
    };
    CacheResolver = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_2__["TagCacheService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], CacheResolver);
    return CacheResolver;
}());



/***/ }),

/***/ "./src/app/dashboard/dashboard.component.html":
/*!****************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout.lt-md=\"column\" fxLayout.lt-xl=\"row\" ngClass=\"dashboard-wrapper\">\r\n  <div fxFlex.lt-md=\"100%\" fxFlex=\"70%\" fxFlex.md=\"62%\" ngClass=\"dashboard-left\">\r\n    <app-project-list></app-project-list>\r\n  </div>\r\n\r\n  <div fxFlex.lt-md=\"100%\" fxFlex=\"30%\" fxFlex.md=\"38%\" fxLayout=\"column\" fxLayoutGap='15px'>\r\n    <div fxLayout=\"column\" fxLayoutGap=\"15px\" ngClass=\"dashboard-right\">\r\n      <mat-list fxLayout=\"column\">\r\n        <app-realtime-updates></app-realtime-updates>\r\n      </mat-list>\r\n      <mat-list fxLayout=\"column\" ngClass=\"recently-view-documents\">\r\n        <app-recently-viewed-document></app-recently-viewed-document>\r\n      </mat-list>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/dashboard/dashboard.component.ts":
/*!**************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.ts ***!
  \**************************************************/
/*! exports provided: DashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardComponent", function() { return DashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var DashboardComponent = (function () {
    function DashboardComponent() {
    }
    DashboardComponent.prototype.ngOnInit = function () {
    };
    DashboardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-dashboard',
            template: __webpack_require__(/*! ./dashboard.component.html */ "./src/app/dashboard/dashboard.component.html"),
        })
    ], DashboardComponent);
    return DashboardComponent;
}());



/***/ }),

/***/ "./src/app/delete-distribution-confirmation-dialog/delete-distribution-confirmation-dialog.component.html":
/*!****************************************************************************************************************!*\
  !*** ./src/app/delete-distribution-confirmation-dialog/delete-distribution-confirmation-dialog.component.html ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\">\r\n  Delete Distribution -- {{distribution.distributionName}}\r\n</mat-toolbar>\r\n\r\n  this page loads all the nodes under this distribution.\r\n\r\n<div fxLayout=\"column\">\r\n  <div>Do you want to delete the Distribution</div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"5px\" fxFlexOffset=\"10px\">\r\n    <button mat-raised-button color=\"primary\" (click)=\"deleteDistribution()\">\r\n      Confirm\r\n    </button>\r\n    <button mat-raised-button color=\"primary\" (click)=\"cancelDelete()\">\r\n      Cancel\r\n    </button>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/delete-distribution-confirmation-dialog/delete-distribution-confirmation-dialog.component.ts":
/*!**************************************************************************************************************!*\
  !*** ./src/app/delete-distribution-confirmation-dialog/delete-distribution-confirmation-dialog.component.ts ***!
  \**************************************************************************************************************/
/*! exports provided: DeleteDistributionConfirmationDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteDistributionConfirmationDialogComponent", function() { return DeleteDistributionConfirmationDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../distribution/distribution.service */ "./src/app/distribution/distribution.service.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var DeleteDistributionConfirmationDialogComponent = (function (_super) {
    __extends(DeleteDistributionConfirmationDialogComponent, _super);
    function DeleteDistributionConfirmationDialogComponent(dialogRef, distributionService, data, injector) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_3__["pageTitleList"].deleteDistribution }) || this;
        _this.dialogRef = dialogRef;
        _this.distributionService = distributionService;
        _this.data = data;
        _this.injector = injector;
        _this.distribution = data;
        return _this;
    }
    DeleteDistributionConfirmationDialogComponent.prototype.ngOnInit = function () {
    };
    DeleteDistributionConfirmationDialogComponent.prototype.deleteDistribution = function () {
        var _this = this;
        this.distributionService.deleteDistribution(this.distribution.distributionId).then(function (responseId) {
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_3__["cmsOperation"].DeleteDistribution, _constants__WEBPACK_IMPORTED_MODULE_3__["eventStatus"].Wait, { distributionName: _this.distribution.distributionName });
            _this.addOperationEvent(operation);
            _this.dialogRef.close();
        });
    };
    DeleteDistributionConfirmationDialogComponent.prototype.cancelDelete = function () {
        this.dialogRef.close();
    };
    DeleteDistributionConfirmationDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-delete-distribution-confirmation-dialog',
            template: __webpack_require__(/*! ./delete-distribution-confirmation-dialog.component.html */ "./src/app/delete-distribution-confirmation-dialog/delete-distribution-confirmation-dialog.component.html"),
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_4__["DistributionService"], Object, _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"]])
    ], DeleteDistributionConfirmationDialogComponent);
    return DeleteDistributionConfirmationDialogComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_2__["BaseComponent"]));



/***/ }),

/***/ "./src/app/delete-project-confirmation-dialog/delete-project-confirmation-dialog.component.html":
/*!******************************************************************************************************!*\
  !*** ./src/app/delete-project-confirmation-dialog/delete-project-confirmation-dialog.component.html ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\">\r\n  Delete Distribution -- {{project.projectName}}\r\n</mat-toolbar>\r\n\r\n  this page loads all the distributions under this project.\r\n\r\n<div fxLayout=\"column\">\r\n  <div>Do you want to delete the Project</div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"5px\" fxFlexOffset=\"10px\">\r\n    <button mat-raised-button color=\"primary\" (click)=\"deleteProject()\">\r\n      Confirm\r\n    </button>\r\n    <button mat-raised-button color=\"primary\" (click)=\"cancelDelete()\">\r\n      Cancel\r\n    </button>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/delete-project-confirmation-dialog/delete-project-confirmation-dialog.component.ts":
/*!****************************************************************************************************!*\
  !*** ./src/app/delete-project-confirmation-dialog/delete-project-confirmation-dialog.component.ts ***!
  \****************************************************************************************************/
/*! exports provided: DeleteProjectConfirmationDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteProjectConfirmationDialogComponent", function() { return DeleteProjectConfirmationDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var DeleteProjectConfirmationDialogComponent = (function (_super) {
    __extends(DeleteProjectConfirmationDialogComponent, _super);
    function DeleteProjectConfirmationDialogComponent(dialogRef, projectService, data, injector) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_3__["pageTitleList"].deleteProject }) || this;
        _this.dialogRef = dialogRef;
        _this.projectService = projectService;
        _this.data = data;
        _this.injector = injector;
        _this.project = data;
        return _this;
    }
    DeleteProjectConfirmationDialogComponent.prototype.ngOnInit = function () {
    };
    DeleteProjectConfirmationDialogComponent.prototype.deleteProject = function () {
        var _this = this;
        this.projectService.deleteProject(this.project._id).then(function (responseId) {
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_4__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_3__["cmsOperation"].DeleteProject, _constants__WEBPACK_IMPORTED_MODULE_3__["eventStatus"].Wait, { distributionName: _this.project.projectName });
            _this.addOperationEvent(operation);
            _this.dialogRef.close();
        });
    };
    DeleteProjectConfirmationDialogComponent.prototype.cancelDelete = function () {
        this.dialogRef.close();
    };
    DeleteProjectConfirmationDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-delete-project-confirmation-dialog',
            template: __webpack_require__(/*! ./delete-project-confirmation-dialog.component.html */ "./src/app/delete-project-confirmation-dialog/delete-project-confirmation-dialog.component.html"),
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], _project_project_service__WEBPACK_IMPORTED_MODULE_5__["ProjectService"], Object, _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"]])
    ], DeleteProjectConfirmationDialogComponent);
    return DeleteProjectConfirmationDialogComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_2__["BaseComponent"]));



/***/ }),

/***/ "./src/app/delete-tag-confirmation-dialog/delete-tag-confirmation-dialog.component.html":
/*!**********************************************************************************************!*\
  !*** ./src/app/delete-tag-confirmation-dialog/delete-tag-confirmation-dialog.component.html ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\">\r\n  Delete Tag -- {{tag.tagName}}\r\n</mat-toolbar>\r\n\r\n  this page loads all the dependency nodes for which the tag is assigned.\r\n\r\n<div fxLayout=\"column\">\r\n  <div>Do you want to delete the Tag</div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"5px\" fxFlexOffset=\"10px\">\r\n    <button mat-raised-button color=\"primary\" (click)=\"deleteTag()\">\r\n      Confirm\r\n    </button>\r\n    <button mat-raised-button color=\"primary\" (click)=\"cancelDelete()\">\r\n      Cancel\r\n    </button>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/delete-tag-confirmation-dialog/delete-tag-confirmation-dialog.component.ts":
/*!********************************************************************************************!*\
  !*** ./src/app/delete-tag-confirmation-dialog/delete-tag-confirmation-dialog.component.ts ***!
  \********************************************************************************************/
/*! exports provided: DeleteTagConfirmationDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteTagConfirmationDialogComponent", function() { return DeleteTagConfirmationDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var DeleteTagConfirmationDialogComponent = (function (_super) {
    __extends(DeleteTagConfirmationDialogComponent, _super);
    function DeleteTagConfirmationDialogComponent(dialogRef, tagCacheService, data, injector) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_3__["pageTitleList"].deleteTag }) || this;
        _this.dialogRef = dialogRef;
        _this.tagCacheService = tagCacheService;
        _this.data = data;
        _this.injector = injector;
        _this.tag = data;
        return _this;
    }
    DeleteTagConfirmationDialogComponent.prototype.ngOnInit = function () {
    };
    DeleteTagConfirmationDialogComponent.prototype.deleteTag = function () {
        this.tagCacheService.deleteTag(this.tag);
        this.dialogRef.close();
    };
    DeleteTagConfirmationDialogComponent.prototype.cancelDelete = function () {
        this.dialogRef.close();
    };
    DeleteTagConfirmationDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-delete-tag-confirmation-dialog',
            template: __webpack_require__(/*! ./delete-tag-confirmation-dialog.component.html */ "./src/app/delete-tag-confirmation-dialog/delete-tag-confirmation-dialog.component.html"),
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__["TagCacheService"], Object, _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"]])
    ], DeleteTagConfirmationDialogComponent);
    return DeleteTagConfirmationDialogComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_2__["BaseComponent"]));



/***/ }),

/***/ "./src/app/delete-tag-group-confirmation-dialog/delete-tag-group-confirmation-dialog.component.html":
/*!**********************************************************************************************************!*\
  !*** ./src/app/delete-tag-group-confirmation-dialog/delete-tag-group-confirmation-dialog.component.html ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\">\r\nDelete Tag Group -- {{tagGroup.tagGroupName}}\r\n</mat-toolbar>\r\n\r\n  this page loads all the dependency projects and distributions for which the tag group is assigned.\r\n\r\n  <div fxLayout=\"column\">\r\n    <div>Do you want to delete the Tag Group</div>\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"5px\" fxFlexOffset=\"10px\">\r\n    <button mat-raised-button color=\"primary\" (click)=\"deleteTagGroup()\">\r\n      Confirm\r\n    </button>\r\n    <button mat-raised-button color=\"primary\" (click)=\"cancelDelete()\">\r\n      Cancel\r\n    </button>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/delete-tag-group-confirmation-dialog/delete-tag-group-confirmation-dialog.component.ts":
/*!********************************************************************************************************!*\
  !*** ./src/app/delete-tag-group-confirmation-dialog/delete-tag-group-confirmation-dialog.component.ts ***!
  \********************************************************************************************************/
/*! exports provided: DeleteTagGroupConfirmationDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteTagGroupConfirmationDialogComponent", function() { return DeleteTagGroupConfirmationDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var DeleteTagGroupConfirmationDialogComponent = (function (_super) {
    __extends(DeleteTagGroupConfirmationDialogComponent, _super);
    function DeleteTagGroupConfirmationDialogComponent(dialogRef, tagCacheService, data, injector) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_3__["pageTitleList"].deleteTagGroup }) || this;
        _this.dialogRef = dialogRef;
        _this.tagCacheService = tagCacheService;
        _this.data = data;
        _this.injector = injector;
        _this.tagGroup = data;
        return _this;
    }
    DeleteTagGroupConfirmationDialogComponent.prototype.ngOnInit = function () {
    };
    DeleteTagGroupConfirmationDialogComponent.prototype.deleteTagGroup = function () {
        this.tagCacheService.deleteTagGroup(this.tagGroup);
        this.dialogRef.close();
    };
    DeleteTagGroupConfirmationDialogComponent.prototype.cancelDelete = function () {
        this.dialogRef.close();
    };
    DeleteTagGroupConfirmationDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-delete-tag-group-confirmation-dialog',
            template: __webpack_require__(/*! ./delete-tag-group-confirmation-dialog.component.html */ "./src/app/delete-tag-group-confirmation-dialog/delete-tag-group-confirmation-dialog.component.html")
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__["TagCacheService"], Object, _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"]])
    ], DeleteTagGroupConfirmationDialogComponent);
    return DeleteTagGroupConfirmationDialogComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_2__["BaseComponent"]));



/***/ }),

/***/ "./src/app/developer-dashboard/developer-dashboard.component.html":
/*!************************************************************************!*\
  !*** ./src/app/developer-dashboard/developer-dashboard.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"developer-dashboard-wrapper\">\r\n  <div fxLayout=\"row\" fxFlex=\"100\">\r\n    <div ngClass=\"developer-dashboard-left\" fxFlex=\"55%\" fxLayout=\"column\">\r\n      <div ngClass=\"developer-dashboard-left-header\" fxLayout=\"column\" fxLayoutGap=\"10px\" fxFlex=\"100px\">\r\n        <h1 ngClass=\"developer-dashboard-left-header-title\">Developer Dashboard</h1>\r\n        <form [formGroup]=\"developerDashboardForm\" fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <mat-form-field fxFlex=\"50%\">\r\n            <mat-select placeholder=\"Project\" [formControl]=\"project\" (change)=\"getDistributionList(project.value._id)\">\r\n              <mat-option *ngFor=\"let project of projectList\" [value]=\"project\"> {{ project.projectName }}</mat-option>\r\n            </mat-select>\r\n            <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isProjectsLoading\"></mat-progress-bar>\r\n          </mat-form-field>\r\n          <mat-form-field fxFlex=\"50%\">\r\n            <mat-select placeholder=\"Distribution\" [formControl]=\"distribution\" (change)=\"getNodes(distribution.value)\">\r\n              <mat-option *ngFor=\"let distribution of distributionList\" [value]=\"distribution.distributionId\"> {{ distribution.distributionName }}</mat-option>\r\n            </mat-select>\r\n            <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isDistributionsLoading\"></mat-progress-bar>\r\n          </mat-form-field>\r\n        </form>\r\n      </div>\r\n      <div ngClass=\"developer-dashboard-left-body-wrapper\" fxLayout=\"column\" fxFlex=\"100\">\r\n        <div ngClass=\"developer-dashboard-left-body-header\" fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n          <span fxFlex fxFlexOffset=\"10px\" ngClass=\"custom-form-field\" fxLayoutAlign=\"space-between center\">\r\n            <input type=\"search\" fxFlex [(ngModel)]=\"searchText\" (ngModelChange)=\"searchTree()\" placeholder=\"Search Documents...\" />\r\n            <i class=\"mdi mdi-magnify mdi-24px\"></i>\r\n          </span>\r\n          <span ngClass=\"cursor-pointer\" (click)=\"filterNodesDialog()\" fxFlex=\"20px\" fxFlexOffset=\"10px\">\r\n            <i fxFlex class=\"mdi mdi-tune mdi-24px\"></i>\r\n          </span>\r\n          <mat-checkbox [(ngModel)]=\"nodesWithStatus\" color=\"primary\" fxFlexOffset=\"20px\" (ngModelChange)=\"nodesWithStatusChange()\">Nodes with status</mat-checkbox>\r\n          <mat-slide-toggle [(ngModel)]=\"localisationStatus\" color=\"primary\">\r\n            Localisation status\r\n          </mat-slide-toggle>\r\n          <mat-slide-toggle [(ngModel)]=\"viewAsToc\" color=\"primary\" (ngModelChange)=\"viewAsTocChange()\">\r\n            View as Toc\r\n          </mat-slide-toggle>\r\n        </div>\r\n        <div ngClass=\"developer-dashboard-left-body\" fxFlex=\"100\" fxLayout=\"row\" fxLayoutAlign=\"space-between end\">\r\n\r\n          <p-tree [value]=\"filteredNodes\" fxLayout=\"row\" selectionMode=\"single\" [(selection)]=\"selectedNode\" (onNodeSelect)=\"nodeSelect()\" fxFlexFill>\r\n            <ng-template let-node pTemplate=\"default\" width=\"100%\">\r\n              <span ngClass=\"{{selectedNodeId==node.nodeId ? 'bold' : ''}}\">{{node.label}}</span>\r\n              <div ngClass=\"node-status-info-wrapper\" *ngFor=\"let local of node.localisationStatus\">\r\n                <span *ngIf=\"local.local===1||localisationStatus\" ngClass=\"node-status-{{nodeStatus[local.status].class}}\">{{localisation[local.local]}}</span>\r\n                <span ngClass=\"node-status-progress-info\" *ngIf=\"(local.local===1||localisationStatus)&&local.completed\">{{local.completed}}%</span>\r\n              </div>\r\n            </ng-template>\r\n          </p-tree>\r\n          <div fxLayout=\"column\" fxLayoutAlign=\"end\" fxLayoutGap=\"5px\">\r\n            <div fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n              <span ngClass=\"node-status-{{nodeStatus[0].class}}\"></span>\r\n              <span>published</span>\r\n            </div>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n              <span ngClass=\"node-status-{{nodeStatus[1].class}}\"></span>\r\n              <span>Publish queue</span>\r\n            </div>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n              <span ngClass=\"node-status-{{nodeStatus[2].class}}\"></span>\r\n              <span>in-Progress</span>\r\n            </div>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n              <span ngClass=\"node-status-{{nodeStatus[3].class}}\"></span>\r\n              <span>Version control updated</span>\r\n            </div>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n              <span ngClass=\"node-status-{{nodeStatus[4].class}}\"></span>\r\n              <span>waiting</span>\r\n            </div>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n              <span ngClass=\"node-status-{{nodeStatus[5].class}}\"></span>\r\n              <span>not started</span>\r\n            </div>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n              <span ngClass=\"node-status-{{nodeStatus[6].class}}\"></span>\r\n              <span>No Status</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/developer-dashboard/developer-dashboard.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/developer-dashboard/developer-dashboard.component.ts ***!
  \**********************************************************************/
/*! exports provided: DeveloperDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeveloperDashboardComponent", function() { return DeveloperDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../distribution/distribution.service */ "./src/app/distribution/distribution.service.ts");
/* harmony import */ var _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../new-draft/draft.service */ "./src/app/new-draft/draft.service.ts");
/* harmony import */ var _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../treeview/treeview.service */ "./src/app/treeview/treeview.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
/* harmony import */ var _tag_groups_tag_groups_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tag-groups/tag-groups.component */ "./src/app/tag-groups/tag-groups.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _staticNodeList__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./staticNodeList */ "./src/app/developer-dashboard/staticNodeList.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _common_storage_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../common/storage.service */ "./src/app/common/storage.service.ts");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var DeveloperDashboardComponent = (function (_super) {
    __extends(DeveloperDashboardComponent, _super);
    function DeveloperDashboardComponent(injector, formBuilder, tagCacheService, storageService, dialog) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_1__["pageTitleList"].developerDashboard }) || this;
        _this.injector = injector;
        _this.formBuilder = formBuilder;
        _this.tagCacheService = tagCacheService;
        _this.storageService = storageService;
        _this.dialog = dialog;
        _this.nodeStatus = _constants__WEBPACK_IMPORTED_MODULE_1__["nodeStatus"];
        _this.localisation = _constants__WEBPACK_IMPORTED_MODULE_1__["localisation"];
        _this.isProjectsLoading = false;
        _this.isDistributionsLoading = false;
        _this.isNodesLoading = false;
        _this.filterTree = false;
        _this.project = new _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormControl"]('');
        _this.distribution = new _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormControl"]('');
        _this.nodesWithStatus = false;
        _this.localisationStatus = false;
        _this.isExpanded = true;
        _this.clonedNodes = undefined;
        _this.viewAsToc = false;
        _this.searchText = '';
        _this.filteredNodes = undefined;
        _this.selectedTags = [];
        _this.selectedTagGroups = [];
        _this.createDashboardForm();
        return _this;
    }
    DeveloperDashboardComponent.prototype.ngOnInit = function () {
        this.subscribeForLocalEventEmitter();
        this.isProjectsLoading = true;
        this.getProjects();
    };
    DeveloperDashboardComponent.prototype.refreshProjects = function (data) {
        this.isProjectsLoading = false;
        this.projectList = data.value;
    };
    DeveloperDashboardComponent.prototype.createDashboardForm = function () {
        this.developerDashboardForm = this.formBuilder.group({
            project: this.project,
            distribution: this.distribution,
        });
    };
    DeveloperDashboardComponent.prototype.updateDistributionList = function (value) {
        this.tagGroups = this.tagCacheService.getTagGroupsForIds(this.project.value.tagGroups);
        this.distributionList = [];
        this.nodeList = [];
        this.distribution.setValue(undefined, { onlySelf: true });
        this.selectedNode = undefined;
        this.isDistributionsLoading = true;
        this.getDistributionList(this.project.value._id);
    };
    DeveloperDashboardComponent.prototype.refreshDistributions = function (data) {
        if (data.value.projectId === this.project.value._id) {
            this.isDistributionsLoading = false;
            this.distributionList = data.value.distributions;
            this.getNodedata();
        }
    };
    DeveloperDashboardComponent.prototype.refreshNodes = function (data) {
        this.nodeList = _staticNodeList__WEBPACK_IMPORTED_MODULE_10__["nodeList"];
        this.filterNodes();
    };
    DeveloperDashboardComponent.prototype.getNodedata = function () {
        if (!this.distribution.value) {
            return;
        }
        this.isNodesLoading = true;
        this.nodeList = undefined;
        this.selectedNode = undefined;
        this.getNodes(this.distribution.value);
    };
    DeveloperDashboardComponent.prototype.filterNodes = function () {
        this.clonedNodes = JSON.parse(JSON.stringify(this.nodeList));
        this.nodesForSelectedTagGroups = this.filterNodesBySelectedTagGroups(this.clonedNodes);
        this.nodesForSelectedTagGroups = this.populateSelectedtags(this.nodesForSelectedTagGroups);
        if (this.viewAsToc) {
            this.nodesForSelectedTagGroups = new _common_utils__WEBPACK_IMPORTED_MODULE_7__["utils"]().listToTree(this.nodesForSelectedTagGroups);
        }
        this.nodesForSelectedTagGroups = this.treeViewService.convertToPrimeNgTree(this.nodesForSelectedTagGroups, 'fa-folder-open', 'fa-folder', 'fa-file-word-o', true);
        this.searchTree();
    };
    DeveloperDashboardComponent.prototype.searchTree = function () {
        var Nodes = JSON.parse(JSON.stringify(this.nodesForSelectedTagGroups));
        this.filteredNodes = new _common_utils__WEBPACK_IMPORTED_MODULE_7__["utils"]().searchTree(Nodes, this.searchText, true);
    };
    DeveloperDashboardComponent.prototype.populateSelectedtags = function (treeNodes) {
        return underscore__WEBPACK_IMPORTED_MODULE_6__["each"](treeNodes, function (treeNode) {
            treeNode.tagGroups = underscore__WEBPACK_IMPORTED_MODULE_6__["filter"](JSON.parse(JSON.stringify(this.selectedTagGroups)), function (tagGroup) {
                tagGroup.tags = this.getFilteredTags(tagGroup.tags, treeNode.tags);
                return tagGroup;
            }.bind(this));
        }.bind(this));
    };
    DeveloperDashboardComponent.prototype.filterNodesBySelectedTagGroups = function (nodes) {
        return underscore__WEBPACK_IMPORTED_MODULE_6__["filter"](nodes, function (treeNode) {
            treeNode.styleClass = 'visible';
            underscore__WEBPACK_IMPORTED_MODULE_6__["each"](this.selectedTags, function (tagGroup) {
                if (tagGroup.tagIds.length > 0 && underscore__WEBPACK_IMPORTED_MODULE_6__["intersection"](tagGroup.tagIds, treeNode.tags).length < 1) {
                    treeNode.styleClass = 'inVisible';
                }
            });
            return treeNode;
        }.bind(this));
    };
    DeveloperDashboardComponent.prototype.nodeSelect = function () {
    };
    DeveloperDashboardComponent.prototype.filterNodesDialog = function () {
        this.dialog.open(_tag_groups_tag_groups_component__WEBPACK_IMPORTED_MODULE_8__["TagGroupsComponent"], { data: { tagGroups: this.tagGroups, filteredTags: this.selectedTags, operationType: 'TreeFilter' }, width: '500px' });
    };
    DeveloperDashboardComponent.prototype.selectTagGroupsDialog = function () {
        this.dialog.open(_tag_groups_tag_groups_component__WEBPACK_IMPORTED_MODULE_8__["TagGroupsComponent"], { data: { tagGroups: this.tagGroups, operationType: 'PreferredTagGroups' }, width: '500px' });
    };
    DeveloperDashboardComponent.prototype.viewAsTocChange = function () {
        this.filterNodes();
    };
    DeveloperDashboardComponent.prototype.TreeFilter = function (data) {
        this.selectedTags = data.value.tagGroups;
        this.filterNodes();
    };
    DeveloperDashboardComponent.prototype.PreferredTagGroups = function (data) {
        this.selectedTagGroups = this.tagCacheService.getTagGroupsForIds(data.value.tagGroupIds);
        this.storageService.write('PreferredTagGroupIds', data.value.tagGroupIds);
        this.filterNodes();
    };
    DeveloperDashboardComponent.prototype.nodesWithStatusChange = function () {
    };
    DeveloperDashboardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-developer-dashboard',
            template: __webpack_require__(/*! ./developer-dashboard.component.html */ "./src/app/developer-dashboard/developer-dashboard.component.html"),
            providers: [_distribution_distribution_service__WEBPACK_IMPORTED_MODULE_2__["DistributionService"], _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_3__["DraftService"], _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_4__["TreeViewService"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"],
            _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_11__["TagCacheService"],
            _common_storage_service__WEBPACK_IMPORTED_MODULE_12__["StorageService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_9__["MatDialog"]])
    ], DeveloperDashboardComponent);
    return DeveloperDashboardComponent;
}(_operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_13__["OperationBaseComponent"]));



/***/ }),

/***/ "./src/app/developer-dashboard/staticNodeList.ts":
/*!*******************************************************!*\
  !*** ./src/app/developer-dashboard/staticNodeList.ts ***!
  \*******************************************************/
/*! exports provided: nodeList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nodeList", function() { return nodeList; });
var nodeList = [
    {
        'nodeId': '5ab8cd346c4da614e0c6ab28',
        'parentId': null,
        'shortTitle': 'UnityManual',
        'title': 'UnityManual',
        'distributionId': null,
        'fileName': 'UnityManual.md',
        'actualFileName': null,
        'tags': [
            '5aba32a1534b5025c4269de8'
        ],
        'status': 0,
        'numberOfDraftsAvailable': 3,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 2, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ab8cd346c4da614e0c6ab29',
        'parentId': '5ab8cd346c4da614e0c6ab28',
        'shortTitle': 'UnityManual',
        'title': 'UnityManual',
        'distributionId': null,
        'fileName': 'UnityManual.md',
        'actualFileName': null,
        'tags': [],
        'status': 0,
        'numberOfDraftsAvailable': 2,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 3, 'completed': 44 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ab8cd346c4da614e0c6ab2a',
        'parentId': '5ab8cd346c4da614e0c6ab29',
        'shortTitle': 'ManualVersionszaa',
        'title': 'ManualVersionszaa',
        'distributionId': null,
        'fileName': 'ManualVersions.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad',
            '5aba329c534b5025c4269de7',
            '5ab3db3e39217811488d3cc7',
            '5aba32a7534b5025c4269de9',
            '5ac711f3de05c940a8afed4c',
            '5ad4724d16b53206ccf2ad87',
            '5ad0846fc5fa461714a641e0'
        ],
        'status': 0,
        'numberOfDraftsAvailable': 17,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 4 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ab8cd346c4da614e0c6ab2b',
        'parentId': '5ab8cd346c4da614e0c6ab29',
        'shortTitle': 'Switching between Unity versions',
        'title': 'Switching between Unity versions',
        'distributionId': null,
        'fileName': 'SwitchingDocumentationVersions.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad'
        ],
        'status': 1,
        'numberOfDraftsAvailable': 5,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 1 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ab8cd346c4da614e0c6ab2c',
        'parentId': '5ab8cd346c4da614e0c6ab29',
        'shortTitle': 'OfflineDocumentation',
        'title': 'OfflineDocumentation',
        'distributionId': null,
        'fileName': 'OfflineDocumentation.md',
        'actualFileName': null,
        'tags': [
            '5ab8a9b36c4da614e0c6ab04'
        ],
        'status': 1,
        'numberOfDraftsAvailable': 2,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
        ]
    },
    {
        'nodeId': '5ab8cd346c4da614e0c6ab2d',
        'parentId': '5ab8cd346c4da614e0c6ab29',
        'shortTitle': 'WhatsNew56',
        'title': 'WhatsNew56',
        'distributionId': null,
        'fileName': 'WhatsNew56.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad',
            '5ab3db3539217811488d3cc6',
            '5ac711f3de05c940a8afed4c',
            '5ac7051dde05c940a8afecfb',
            '5abb72dde49de92d40212f5d'
        ],
        'status': 3,
        'numberOfDraftsAvailable': 6,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ab8cd346c4da614e0c6ab2e',
        'parentId': '5ab8cd346c4da614e0c6ab29',
        'shortTitle': 'Leave Feedback',
        'title': 'Leave Feedback',
        'distributionId': null,
        'fileName': 'LeaveFeedback.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad',
            '5ab8a9b36c4da614e0c6ab04',
            '5abb72dde49de92d40212f5d'
        ],
        'status': 1,
        'numberOfDraftsAvailable': 3,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 3, 'status': 3, 'completed': 33 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ab8cd346c4da614e0c6ab2f',
        'parentId': '5ab8cd346c4da614e0c6ab28',
        'shortTitle': 'InstallingUnity',
        'title': 'InstallingUnity',
        'distributionId': null,
        'fileName': 'InstallingUnity.md',
        'actualFileName': null,
        'tags': [],
        'status': 2,
        'numberOfDraftsAvailable': 2,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 4, 'status': 3, 'completed': 66 },
            { 'local': 3, 'status': 1 },
            { 'local': 5, 'status': 1 }
        ]
    },
    {
        'nodeId': '5ab8cd346c4da614e0c6ab30',
        'parentId': '5ab8cd346c4da614e0c6ab2f',
        'shortTitle': 'Deploying Unity Offline',
        'title': 'Deploying Unity Offline',
        'distributionId': null,
        'fileName': 'DeployingUnityOffline.md',
        'actualFileName': null,
        'tags': [
            '5ab39e6039217811488d3cc1',
            '5aba329c534b5025c4269de7',
            '5aba32a1534b5025c4269de8',
            '5abb72dde49de92d40212f5d',
            '5acf30381b5eb3145854c32e',
            '5ad4724d16b53206ccf2ad87'
        ],
        'status': 4,
        'numberOfDraftsAvailable': 2,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5abe0729a77e7c18c4e0374c',
        'parentId': '5ab8cd346c4da614e0c6ab2e',
        'shortTitle': 'node1',
        'title': 'node1',
        'distributionId': null,
        'fileName': 'node1.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad'
        ],
        'status': 4,
        'numberOfDraftsAvailable': 1,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ac333954e350128989ee9ef',
        'parentId': '5ab8cd346c4da614e0c6ab2b',
        'shortTitle': 'node1243',
        'title': 'node1243',
        'distributionId': null,
        'fileName': 'node1243.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad'
        ],
        'status': 0,
        'numberOfDraftsAvailable': 1,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ac3349e4e350128989ee9f4',
        'parentId': '5ab8cd346c4da614e0c6ab2b',
        'shortTitle': 'node2',
        'title': 'node2',
        'distributionId': null,
        'fileName': 'node2.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad'
        ],
        'status': 0,
        'numberOfDraftsAvailable': 1,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ac335bd4e350128989ee9f9',
        'parentId': '5ab8cd346c4da614e0c6ab2c',
        'shortTitle': 'Node124',
        'title': 'Node124',
        'distributionId': null,
        'fileName': 'Node124.md',
        'actualFileName': null,
        'tags': [],
        'status': 2,
        'numberOfDraftsAvailable': 0,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ac6055316217d36407a1700',
        'parentId': '5ab8cd346c4da614e0c6ab29',
        'shortTitle': 'btestShortTitle',
        'title': 'btestShortTitle',
        'distributionId': null,
        'fileName': 'btestShortTitle.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad',
            '5ab8a9b36c4da614e0c6ab04',
            '5abb72dde49de92d40212f5d'
        ],
        'status': 2,
        'numberOfDraftsAvailable': 1,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ac6076616217d36407a1709',
        'parentId': '5ab8cd346c4da614e0c6ab29',
        'shortTitle': 'btestst1',
        'title': 'btestst1',
        'distributionId': null,
        'fileName': 'btestst1.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad',
            '5ab8a9b36c4da614e0c6ab04',
            '5abb72dde49de92d40212f5d'
        ],
        'status': 3,
        'numberOfDraftsAvailable': 1,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ac60d9116217d36407a1755',
        'parentId': '5ab8cd346c4da614e0c6ab29',
        'shortTitle': 'btest001ST',
        'title': 'btest001ST',
        'distributionId': null,
        'fileName': 'btest001ST.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad',
            '5aba329c534b5025c4269de7',
            '5ab8a9b36c4da614e0c6ab04',
            '5abb72dde49de92d40212f5d'
        ],
        'status': 3,
        'numberOfDraftsAvailable': 1,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5acb0599de05c940a8afef1c',
        'parentId': '5ac6076616217d36407a1709',
        'shortTitle': 'node123',
        'title': 'Node1',
        'distributionId': null,
        'fileName': 'node123.md',
        'actualFileName': null,
        'tags': [],
        'status': 4,
        'numberOfDraftsAvailable': 0,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5acb06b2de05c940a8afef20',
        'parentId': '5ac6055316217d36407a1700',
        'shortTitle': 'node1',
        'title': 'node1234',
        'distributionId': null,
        'fileName': 'node1.md',
        'actualFileName': null,
        'tags': [],
        'status': 3,
        'numberOfDraftsAvailable': 0,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5acb0a5ede05c940a8afef24',
        'parentId': '5ab8cd346c4da614e0c6ab29',
        'shortTitle': 'test1',
        'title': 'OStest1',
        'distributionId': null,
        'fileName': 'test1.md',
        'actualFileName': null,
        'tags': [],
        'status': 2,
        'numberOfDraftsAvailable': 0,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5acb15c0de05c940a8afef45',
        'parentId': '5ab8cd346c4da614e0c6ab28',
        'shortTitle': 'sdfsdfsfsf',
        'title': 'sdfsdfsf',
        'distributionId': null,
        'fileName': 'sdfsdfsfsf.md',
        'actualFileName': null,
        'tags': [],
        'status': 1,
        'numberOfDraftsAvailable': 0,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5acb167ede05c940a8afef4b',
        'parentId': '5ab8cd346c4da614e0c6ab29',
        'shortTitle': 'sdfsdfsdfsdf',
        'title': 'sdfsfdsfsfsddf',
        'distributionId': null,
        'fileName': 'sdfsdfsdfsdf.md',
        'actualFileName': null,
        'tags': [],
        'status': 1,
        'numberOfDraftsAvailable': 0,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5acb176dde05c940a8afef53',
        'parentId': '5ab8cd346c4da614e0c6ab28',
        'shortTitle': 'testwqe',
        'title': 'test 1234',
        'distributionId': null,
        'fileName': 'testwqe.md',
        'actualFileName': null,
        'tags': [],
        'status': 2,
        'numberOfDraftsAvailable': 0,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5acb46783a172931f42e00a9',
        'parentId': '5acb176dde05c940a8afef53',
        'shortTitle': 'test1',
        'title': 'TestNode1234',
        'distributionId': null,
        'fileName': 'test1.md',
        'actualFileName': null,
        'tags': [],
        'status': 3,
        'numberOfDraftsAvailable': 0,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5acb5e393a172931f42e00ee',
        'parentId': '5acb176dde05c940a8afef53',
        'shortTitle': 'UTest',
        'title': 'URLTest',
        'distributionId': null,
        'fileName': 'UTest.md',
        'actualFileName': null,
        'tags': [
            '5ab359b01ee214483cd91fad'
        ],
        'status': 1,
        'numberOfDraftsAvailable': 1,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5acc465e8bf52a3380a09f43',
        'parentId': '5acb0a5ede05c940a8afef24',
        'shortTitle': 'node1',
        'title': 'node1234',
        'distributionId': null,
        'fileName': 'node1.md',
        'actualFileName': null,
        'tags': [],
        'status': 1,
        'numberOfDraftsAvailable': 0,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    },
    {
        'nodeId': '5ad5ee8bf2e19c218c715934',
        'parentId': '5ab8cd346c4da614e0c6ab2d',
        'shortTitle': 'node1',
        'title': 'node1234',
        'distributionId': null,
        'fileName': 'node1_1.md',
        'actualFileName': null,
        'tags': [],
        'status': 0,
        'numberOfDraftsAvailable': 0,
        'isNodeDeleted': false,
        'nodeOrderIndex': 0,
        'localisationStatus': [
            { 'local': 1, 'status': 1 },
            { 'local': 2, 'status': 3, 'completed': 33 },
            { 'local': 3, 'status': 4 },
            { 'local': 4, 'status': 2 },
            { 'local': 5, 'status': 5 }
        ]
    }
];


/***/ }),

/***/ "./src/app/directives/custom-tooltip.directive.ts":
/*!********************************************************!*\
  !*** ./src/app/directives/custom-tooltip.directive.ts ***!
  \********************************************************/
/*! exports provided: CustomTooltipDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CustomTooltipDirective", function() { return CustomTooltipDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var CustomTooltipDirective = (function () {
    function CustomTooltipDirective(element) {
        this.element = element;
        this.nativeElement = this.element.nativeElement;
    }
    CustomTooltipDirective.prototype.ngOnInit = function () {
        this.nativeElement.classList.add('custom-tooltip-parent');
        this.nativeElement.children[0].addEventListener('mouseover', function () {
            this.parentElement.children[1].style.display = 'block !important';
        });
    };
    CustomTooltipDirective = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[appCustomTooltip]'
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]])
    ], CustomTooltipDirective);
    return CustomTooltipDirective;
}());



/***/ }),

/***/ "./src/app/directives/infinite-scroll.directive.ts":
/*!*********************************************************!*\
  !*** ./src/app/directives/infinite-scroll.directive.ts ***!
  \*********************************************************/
/*! exports provided: InfiniteScrollDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfiniteScrollDirective", function() { return InfiniteScrollDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var InfiniteScrollDirective = (function () {
    function InfiniteScrollDirective(el) {
        this.el = el;
        this.scrolldown = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.scrollup = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    InfiniteScrollDirective.prototype.onScrollDown = function (evt) {
        var element = this.el.nativeElement;
        if (element.scrollTop === 0) {
            this.scrollup.emit();
        }
        else {
            var atBottom = element.scrollHeight - element.scrollTop === element.clientHeight;
            if (atBottom) {
                this.scrolldown.emit();
            }
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], InfiniteScrollDirective.prototype, "scrolldown", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], InfiniteScrollDirective.prototype, "scrollup", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"])('scroll', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], InfiniteScrollDirective.prototype, "onScrollDown", null);
    InfiniteScrollDirective = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[appInfiniteScroll]'
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]])
    ], InfiniteScrollDirective);
    return InfiniteScrollDirective;
}());



/***/ }),

/***/ "./src/app/distribution/distribution.component.html":
/*!**********************************************************!*\
  !*** ./src/app/distribution/distribution.component.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-sidenav-container [class]=\"isNodeSelected ? '': 'authoring-side-nav-wrapper'\" fxLayout=\"column\" fxFlexFill>\r\n  <mat-sidenav fxLayout=\"column\" #sidenav opened=\"true\" fixedInViewport=\"true\" ngClass=\"tree-sidenav-wrapper tree-wrapper\"\r\n    fxFlex=\"calc(100% - 59px)\" fxLayoutAlign=\"start stretch\">\r\n    <div fxLayout=\"column\" ngClass=\"tree-header\" fxLayoutGap=\"10px\" fxFlex=\"115px\">\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <h3>{{selectedProject?selectedProject.projectName:''}}</h3>\r\n        <span (click)=\"closeSideNav()\" ngClass=\"cursor-pointer\">\r\n          <i class=\"mdi mdi-menu mdi-24px\"></i>\r\n        </span>\r\n      </div>\r\n      <div fxLayout=\"row\">\r\n        <form fxFlex [formGroup]=\"distributionsForm\" *ngIf=\"selectedProject.typeOfContent !== documentationType.KnowledgeBase\">\r\n          <mat-form-field fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\">\r\n            <mat-select placeholder=\"Distribution\" [formControl]=\"distribution\" (change)=\"onDistributionChange()\" fxFlex>\r\n              <mat-option ngClass=\"{{distribution.status== entityStatus.Error ?'errorEntity':''}}\" *ngFor=\"let distribution of distributions | sort: 'distributionName'\"\r\n                [value]=\"distribution.distributionId\" [disabled]=\"distribution.status!=entityStatus.Ok\">\r\n                {{distribution.distributionName}}\r\n                <mat-spinner *ngIf=\"distribution.status==entityStatus.Wait||distribution.status==entityStatus.None\" style=\"float:right;\"\r\n                  ngClass=\"tag-view-loader\"></mat-spinner>\r\n              </mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <mat-progress-bar mode=\"indeterminate\" *ngIf=\"!distributions\"></mat-progress-bar>\r\n        </form>\r\n        <div fxFlex=\"33px\">\r\n          <a [mat-menu-trigger-for]=\"menu\" (click)=\"$event.stopPropagation()\" ngClass=\"cursor-pointer mt-20\" fxFlexOffset=\"10px\" fxLayoutAlign=\"end\">\r\n            <i class=\"mdi mdi-settings mdi-24px\"></i>\r\n          </a>\r\n          <mat-menu #menu=\"matMenu\" [overlapTrigger]=\"false\" xPosition=\"before\" class=\"arrowtop\">\r\n            <button mat-menu-item (click)=\"importDistribution()\">Import Distribution</button>\r\n            <button mat-menu-item (click)=\"batchMerge()\">Batch Merge</button>\r\n          </mat-menu>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"calc(100% - 115px)\">\r\n      <app-treeview fxFlexFill *ngIf=\"isDistributionsLoaded\" (nodeClick)=\"sidenav.close()\"></app-treeview>\r\n    </div>\r\n  </mat-sidenav>\r\n\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxFlexFill fxLayoutGap=\"15px\">\r\n    <div fxFlex=\"3%\" fxLayout=\"column\" ngClass=\"sidenav-toggle\">\r\n      <div (click)=\"sidenav.open()\" fxFlexOffset=\"10px\" fxLayoutAlign=\"center start\" ngClass=\"cursor-pointer\">\r\n        <i class=\"mdi mdi-menu mdi-24px\"></i>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"97%\" fxFlexFill ngClass=\"authoring-tabview-wrapper\">\r\n      <router-outlet></router-outlet>\r\n    </div>\r\n  </div>\r\n</mat-sidenav-container>\r\n<div ngClass=\"node-click-arrow\" *ngIf=\"!isNodeSelected\">\r\n  <img src=\"../../assets/img/slectNode_guideline_2.png\">\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/distribution/distribution.component.ts":
/*!********************************************************!*\
  !*** ./src/app/distribution/distribution.component.ts ***!
  \********************************************************/
/*! exports provided: DistributionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DistributionComponent", function() { return DistributionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _distribution_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./distribution.service */ "./src/app/distribution/distribution.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
/* harmony import */ var _import_distribution_import_distribution_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../import-distribution/import-distribution.component */ "./src/app/import-distribution/import-distribution.component.ts");
/* harmony import */ var _import_distribution_import_distribution_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../import-distribution/import-distribution.service */ "./src/app/import-distribution/import-distribution.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var DistributionComponent = (function (_super) {
    __extends(DistributionComponent, _super);
    function DistributionComponent(route, distributionService, projectService, injector, router, formBuilder, dialog, importDistributionService) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_6__["pageTitleList"].distribution }) || this;
        _this.route = route;
        _this.distributionService = distributionService;
        _this.projectService = projectService;
        _this.injector = injector;
        _this.router = router;
        _this.formBuilder = formBuilder;
        _this.dialog = dialog;
        _this.importDistributionService = importDistributionService;
        _this.distribution = new _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormControl"]('');
        _this.isNodeSelected = true;
        _this.selectedProject = {};
        _this.documentationType = _constants__WEBPACK_IMPORTED_MODULE_6__["DocumentationType"];
        _this.isDistributionsLoaded = false;
        _this.entityStatus = _constants__WEBPACK_IMPORTED_MODULE_6__["entityStatus"];
        _this.distributionsForm = _this.formBuilder.group({
            distribution: _this.distribution
        });
        return _this;
    }
    DistributionComponent.prototype.ngOnInit = function () {
        this.subscribeForRouteParams();
    };
    DistributionComponent.prototype.subscribeForRouteParams = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.projectId = _this.projectService.getSelectedProjectId();
            _this.distributionId = params.distributionId;
            _this.distributionService.setDistrubutionIdToCache(_this.distributionId);
            _this.selectedProject = _this.projectService.getSelectedProject();
            _this.distribution.setValue(params.distributionId, { onlySelf: true });
        });
    };
    DistributionComponent.prototype.refreshDistributions = function (data) {
        if (data.value.projectId === this.projectService.getSelectedProjectId()) {
            this.distributions = (data && data.value && data.value.distributions) ? data.value.distributions : [];
            this.isDistributionsLoaded = true;
        }
    };
    DistributionComponent.prototype.nodeSelectedEvent = function (data) {
        this.isNodeSelected = data.value ? true : false;
        if (this.isNodeSelected) {
            this.sidenav.close();
        }
        else {
            this.sidenav.open();
        }
    };
    DistributionComponent.prototype.onDistributionChange = function () {
        var link = ['/project', this.projectId, 'distribution', this.distributionsForm.value.distribution];
        this.router.navigate(link);
    };
    DistributionComponent.prototype.closeSideNav = function () {
        if (this.isNodeSelected) {
            this.sidenav.close();
        }
        else {
            return;
        }
    };
    DistributionComponent.prototype.importDistribution = function () {
        this.dialog.open(_import_distribution_import_distribution_component__WEBPACK_IMPORTED_MODULE_8__["ImportDistributionComponent"], { data: { isBatchMerge: false }, width: '100%' });
    };
    DistributionComponent.prototype.batchMerge = function () {
        var _this = this;
        var dialogRef = this.dialog.open(_import_distribution_import_distribution_component__WEBPACK_IMPORTED_MODULE_8__["ImportDistributionComponent"], { data: { isBatchMerge: true }, width: '100%' });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.importDistributionService.values = result.values;
                _this.importDistributionService.matchedNodes = result.matchedNodes;
                _this.router.navigate(['/batch-merge']);
            }
        });
    };
    DistributionComponent.prototype.ngOnDestroy = function () {
        this.unsubscribe();
        this.cleanUp();
        this.userService.removeRole(_constants__WEBPACK_IMPORTED_MODULE_6__["applicationConstants"].roles.ProjectAdmin);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sidenav'),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatSidenav"])
    ], DistributionComponent.prototype, "sidenav", void 0);
    DistributionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-project-distribution-view',
            template: __webpack_require__(/*! ./distribution.component.html */ "./src/app/distribution/distribution.component.html"),
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _distribution_service__WEBPACK_IMPORTED_MODULE_2__["DistributionService"], _project_project_service__WEBPACK_IMPORTED_MODULE_7__["ProjectService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"], _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialog"], _import_distribution_import_distribution_service__WEBPACK_IMPORTED_MODULE_9__["ImportDistributionService"]])
    ], DistributionComponent);
    return DistributionComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_5__["BaseComponent"]));



/***/ }),

/***/ "./src/app/distribution/distribution.service.ts":
/*!******************************************************!*\
  !*** ./src/app/distribution/distribution.service.ts ***!
  \******************************************************/
/*! exports provided: DistributionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DistributionService", function() { return DistributionService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/authoring-cache.service */ "./src/app/common/authoring-cache.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DistributionService = (function () {
    function DistributionService(httpService, injector, authoringCacheService) {
        this.httpService = httpService;
        this.injector = injector;
        this.authoringCacheService = authoringCacheService;
    }
    DistributionService.prototype.getDistributions = function (projectId) {
        return {
            data: this.authoringCacheService.getDistributions(projectId),
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Projects/' + projectId + '/distributions')
        };
    };
    DistributionService.prototype.getProjectBranches = function (projectId) {
        return {
            data: this.authoringCacheService.getBranches(projectId),
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Projects/' + projectId + '/Branches')
        };
    };
    DistributionService.prototype.createDistribution = function (value) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Distributions', value).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    DistributionService.prototype.getDistributionsFromCache = function (projectId) {
        return this.authoringCacheService.getDistributions(projectId);
    };
    DistributionService.prototype.setDistrubutionIdToCache = function (distributionId) {
        this.authoringCacheService.selectedDistributionId = distributionId;
    };
    DistributionService.prototype.getDistributionIdFromCache = function () {
        return this.authoringCacheService.selectedDistributionId;
    };
    DistributionService.prototype.getSelectedDistributionFromCache = function () {
        return this.authoringCacheService.getSelectedDistribution();
    };
    DistributionService.prototype.setDistributions = function (projectId, value) {
        this.authoringCacheService.setDistributions(projectId, value);
    };
    DistributionService.prototype.setBranches = function (projectId, value) {
        this.authoringCacheService.setBranches(projectId, value);
    };
    DistributionService.prototype.updateDistribution = function (value) {
        return this.httpService.put(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Distributions', value)
            .toPromise()
            .then(function (response) {
            return response.json().responseId;
        });
    };
    DistributionService.prototype.deleteDistribution = function (value) {
        return this.httpService.delete(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Distributions/' + value.distributionId)
            .toPromise()
            .then(function (response) {
            return response.json().responseId;
        });
    };
    DistributionService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"],
            _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_3__["AuthoringCacheService"]])
    ], DistributionService);
    return DistributionService;
}());



/***/ }),

/***/ "./src/app/document-activity/document-activity.component.html":
/*!********************************************************************!*\
  !*** ./src/app/document-activity/document-activity.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxLayoutGap=\"10px\" fxFlexFill>\r\n  <mat-toolbar color=\"primary\" fxFlex=\"50px\">\r\n    <h3 fxFlex>Node History</h3>\r\n    <span (click)=\"closeSideNav()\" ngClass=\"cursor-pointer\">\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </span>\r\n  </mat-toolbar>\r\n  <div fxFlex=\"33px\">\r\n    <mat-tab-group>\r\n      <mat-tab label=\"Activity\"></mat-tab>\r\n      <mat-tab label=\"History\"></mat-tab>\r\n    </mat-tab-group>\r\n  </div>\r\n  <div ngClass=\"node-history-sidenav-body\" fxLayout=\"column\" fxLayoutGap=\"10px\" fxFlex>\r\n    <form [formGroup]=\"searchForm\" fxLayout=\"column\" fxLayoutGap=\"10px\" fxFlex=\"100px\">\r\n      <div ngClass=\"node-history-filter\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"10px\" fxFlex=\"50px\">\r\n        <mat-form-field ngClass=\"custom-input-field custom-select-field\" fxFlex>\r\n          <mat-select placeholder=\"All Users\" ngClass=\"\" [formControl]=\"users\">\r\n            <mat-option>All Users</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-form-field ngClass=\"custom-input-field custom-select-field\" fxFlex>\r\n          <mat-select placeholder=\"Actions\" [formControl]=\"Actions\" multiple>\r\n            <mat-option *ngFor=\"let action of actionList\" [value]=\"action.actionId\">{{action.actionName}}</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-form-field ngClass=\"custom-date-field\" fxFlex>\r\n          <input matInput [matDatepicker]=\"picker\" placeholder=\"Choose a date\" [formControl]=\"searchDate\">\r\n          <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n          <mat-datepicker #picker></mat-datepicker>\r\n        </mat-form-field>\r\n      </div>\r\n      <div ngClass=\"custom-mat-input-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start start\" fxFlex=\"40px\">\r\n        <input type=\"search\" ngClass=\"form-control\" placeholder=\"Search\" fxFlex [formControl]=\"searchText\">\r\n        <i class=\"mat-suffix mdi mdi-magnify mdi-24px\" (click)=\"resetDocumentActivity()\"></i>\r\n      </div>\r\n    </form>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start stretch\" *ngIf=\"isDocumentActivityInProgress\">\r\n      <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n    </div>\r\n    <div ngClass=\"node-history-details\" fxLayout=\"column\" appInfiniteScroll height=\"100\" (scrolldown)=\"onScrollDown()\" \r\n      fxFlexFill slimScroll [fxHide]=\"!(documentActivityList && documentActivityList.length>0)\">\r\n      <mat-list fxFlexFill fxLayout=\"column\" fxLayoutGap=\"15px\">\r\n        <mat-list-item *ngFor=\"let activity of documentActivityList\">\r\n          <mat-icon mat-list-icon></mat-icon>\r\n          <h4 mat-line>\r\n            <strong>{{activity.createdDate | relativeDate}}</strong>\r\n          </h4>\r\n          <div mat-line [innerHTML]=\"activity.activityString  |sanitizeHtml\"></div>\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/document-activity/document-activity.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/document-activity/document-activity.component.ts ***!
  \******************************************************************/
/*! exports provided: DocumentActivityComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentActivityComponent", function() { return DocumentActivityComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _document_activity_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./document-activity.service */ "./src/app/document-activity/document-activity.service.ts");
/* harmony import */ var _common_template_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/template.service */ "./src/app/common/template.service.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../treeview/treeview.service */ "./src/app/treeview/treeview.service.ts");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var DocumentActivityComponent = (function (_super) {
    __extends(DocumentActivityComponent, _super);
    function DocumentActivityComponent(formBuilder, injector, treeviewService, documentActivityService, templateService) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.formBuilder = formBuilder;
        _this.injector = injector;
        _this.treeviewService = treeviewService;
        _this.documentActivityService = documentActivityService;
        _this.templateService = templateService;
        _this.actionList = _constants__WEBPACK_IMPORTED_MODULE_2__["actions"];
        _this.documentActivityList = [];
        _this.pageNumber = 1;
        _this.pageSize = _environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].pageSize;
        _this.searchText = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.Actions = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.searchDate = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.users = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.createSearchForm();
        return _this;
    }
    DocumentActivityComponent.prototype.ngOnInit = function () {
        this.selectedNodeId = this.treeviewService.getSelectedNodeId();
    };
    DocumentActivityComponent.prototype.subscribeUpdates = function () {
        this.unsubscribeUpdates();
        this.subscriptionEpoc = Math.round(new Date().getTime() / 1000);
        this.notificationService.subscribeTopicWithQuery('DocumentActivity_' + this.selectedNodeId.toString(), 'updatedTimeInEpoch', '>', this.subscriptionEpoc, 'documentActivityEvent');
    };
    DocumentActivityComponent.prototype.unsubscribeUpdates = function () {
        if (this.subscriptionEpoc) {
            this.notificationService.unsubscribeTopic({ subscriptionTopic: this.subscriptionEpoc, eventName: 'documentActivityEvent' });
        }
    };
    DocumentActivityComponent.prototype.documentActivityEvent = function (notification) {
        var isTop = notification.isTop;
        if (isTop) {
            this.subscribeUpdates();
            underscore__WEBPACK_IMPORTED_MODULE_7__["each"](notification.data, function (value) {
                this.constructTemplateData([value.documentActivityContent], isTop);
            }.bind(this));
        }
    };
    DocumentActivityComponent.prototype.constructTemplateData = function (documentActivityList, isTopRecord) {
        var totalRecordCount = documentActivityList ? documentActivityList.length : 0;
        underscore__WEBPACK_IMPORTED_MODULE_7__["each"](documentActivityList, function (activity, index) {
            var templateId = 'documentActivity.' + activity.documentOperation.toString();
            var replaceableText;
            if (templateId) {
                if (activity.resourceType && this.templateService[activity.resourceType + 'Resolver']) {
                    replaceableText = this.templateService[activity.resourceType + 'Resolver'](activity.resourceChange);
                }
                var data = activity.resourceChange ? activity.resourceChange : {};
                data.userName = activity.userName;
                data[activity.resourceType.toLowerCase()] = replaceableText;
                activity.activityString = this.templateService.getTemplateString(templateId, data);
                if (isTopRecord) {
                    this.documentActivityList.push(activity);
                }
                else {
                    this.documentActivityList.push(activity);
                    this.lastRecordId = (index + 1) === totalRecordCount ? activity.documentActivityId : this.lastRecordId;
                }
            }
        }.bind(this));
        var documentActivities = underscore__WEBPACK_IMPORTED_MODULE_7__["uniq"](this.documentActivityList, false, function (value) { return value.createdDate; });
        this.documentActivityList = new _common_utils__WEBPACK_IMPORTED_MODULE_9__["utils"]().clone(documentActivities);
    };
    DocumentActivityComponent.prototype.nodeSelectedEvent = function (data) {
        if (this.selectedNodeId !== data.value) {
            this.selectedNodeId = data.value;
            this.documentActivityList = [];
            this.resetDocumentActivity();
        }
    };
    DocumentActivityComponent.prototype.closeSideNav = function () {
        this.emitLocalEvent({ eventName: 'toggleDocumentHistorySideNav', value: false });
    };
    DocumentActivityComponent.prototype.getDocumentActivityList = function () {
        var _this = this;
        this.isDocumentActivityInProgress = true;
        var searchDate = this.searchDate.value ? this.searchDate.value.toLocaleDateString() : '';
        this.documentActivityService.getDocumentActivity(this.selectedNodeId, this.pageSize, this.pageNumber, this.searchText.value, this.Actions.value.toString(), this.users.value.toString(), searchDate).then(function (responseId) {
            _this.subscribeForResponse({
                subscriptionTopic: responseId,
                operation: _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].operation.getDocumentActivity
            });
        });
    };
    DocumentActivityComponent.prototype.getDocumentActivityEvent = function (notification) {
        this.isDocumentActivityInProgress = false;
        this.constructTemplateData(notification.data.content.documentActivityList, false);
    };
    DocumentActivityComponent.prototype.onScrollDown = function () {
        this.getDocumentActivityList();
    };
    DocumentActivityComponent.prototype.resetDocumentActivity = function () {
        this.pageNumber = 1;
        this.documentActivityList = [];
        this.getDocumentActivityList();
        this.subscribeUpdates();
    };
    DocumentActivityComponent.prototype.createSearchForm = function () {
        this.searchForm = this.formBuilder.group({
            searchText: this.searchText,
            users: this.users,
            actions: this.Actions,
            searchDate: this.searchDate
        });
    };
    DocumentActivityComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-document-activity',
            template: __webpack_require__(/*! ./document-activity.component.html */ "./src/app/document-activity/document-activity.component.html"),
            providers: [_document_activity_service__WEBPACK_IMPORTED_MODULE_4__["DocumentActivityService"], _common_template_service__WEBPACK_IMPORTED_MODULE_5__["TemplateService"]]
        }),
        __metadata("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_8__["TreeViewService"],
            _document_activity_service__WEBPACK_IMPORTED_MODULE_4__["DocumentActivityService"], _common_template_service__WEBPACK_IMPORTED_MODULE_5__["TemplateService"]])
    ], DocumentActivityComponent);
    return DocumentActivityComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_6__["BaseComponent"]));



/***/ }),

/***/ "./src/app/document-activity/document-activity.service.ts":
/*!****************************************************************!*\
  !*** ./src/app/document-activity/document-activity.service.ts ***!
  \****************************************************************/
/*! exports provided: DocumentActivityService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentActivityService", function() { return DocumentActivityService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var DocumentActivityService = (function () {
    function DocumentActivityService(httpService) {
        this.httpService = httpService;
    }
    DocumentActivityService.prototype.getDocumentActivity = function (nodeId, pageSize, pageNumber, searchText, actions, users, searchDate) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/Nodes/' + nodeId + '/GetDocumentActivity?pageSize=' + pageSize + '&pageNumber=' + pageNumber + '&searchText=' + searchText + '&Actions=' + actions + '&createdDate=' + searchDate).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    DocumentActivityService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"]])
    ], DocumentActivityService);
    return DocumentActivityService;
}());



/***/ }),

/***/ "./src/app/draft-history/draft-history.component.html":
/*!************************************************************!*\
  !*** ./src/app/draft-history/draft-history.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"draft-history-wrapper\">\r\n  <mat-accordion fxLayout=\"row\" fxLayoutAlign=\"start end\">\r\n    <mat-expansion-panel [expanded]=\"true\" fxFlexFill fxLayout=\"column\">\r\n      <mat-expansion-panel-header fxFlex=\"80px\">\r\n        <mat-panel-title fxFlex>\r\n          <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\" fxFlex>\r\n            <div fxFlex fxLayout=\"column\">\r\n              <small ngClass=\"primary-text-color\">Filter By Date &amp; Time:</small>\r\n              <mat-form-field floatPlaceholder=\"never\" ngClass=\"custom-input-field custom-select-field\" matTooltip=\"Coming soon!\">\r\n                <mat-select placeholder=\"04/01/2018, 12:45pm to 12/01/2018, 10:45pm\" disabled>\r\n                  <mat-option>04/01/2018, 12:45pm to 12/01/2018, 10:45pm</mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n            </div>\r\n            <div fxFlex fxLayout=\"column\">\r\n              <small ngClass=\"primary-text-color\">Filter By</small>\r\n              <div fxLayout=\"row\" fxLayoutGap=\"15px\">\r\n                <section fxLayout=\"row\" fxLayoutGap=\"3%\" fxLayoutAlign=\"start center\">\r\n                  <div fxLayout=\"column\" fxFlex=\"80px\">\r\n                    <mat-checkbox color=\"primary\" disabled matTooltip=\"Coming soon!\">Valid</mat-checkbox>\r\n                  </div>\r\n                  <div fxLayout=\"column\" fxFlex=\"80px\">\r\n                    <mat-checkbox color=\"primary\" disabled matTooltip=\"Coming soon!\">Invalid</mat-checkbox>\r\n                  </div>\r\n                </section>\r\n                <button mat-raised-button color=\"primary\" disabled matTooltip=\"Coming soon!\">Filter</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-panel-title>\r\n      </mat-expansion-panel-header>\r\n    </mat-expansion-panel>\r\n  </mat-accordion>\r\n  <div ngClass=\"draft-history-loader\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" *ngIf=\"isDraftHistoryInProgress\">\r\n    <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n  </div>\r\n  <div ngClass=\"draft-history-container\" fxFlexFill>\r\n    <div [fxHide]=\"!isNewSnapShotCreated\" fxLayoutAlign=\"center center\">\r\n      <span (click)=\"onScrollUp()\" class=\"cursor-pointer\">New Snapshot Added, Click to refresh</span>\r\n    </div>\r\n    <div ngClass=\"draft-history\" appInfiniteScroll (scrolldown)=\"onScrollDown()\" fxFlexFill slimScroll\r\n      [fxHide]=\"!(draftHistoryList && draftHistoryList.length>0)\">\r\n      <mat-list ngClass=\"{{draft.isValid===2 ?'invalid-draft':'valid-draft'}}\" fxLayout=\"row\" fxLayoutAlign=\"start start\" *ngFor=\"let draft of draftHistoryList\"\r\n        style=\"width:98%;\">\r\n        <mat-icon>\r\n          <i class=\"mdi mdi-check-circle-outline mdi-24px\"></i>\r\n        </mat-icon>\r\n        <mat-list-item fxFlex fxLayoutGap=\"2px\" class=\"draft-history-content\">\r\n          <div class=\"left-view\">\r\n            <div class=\"profile-avatar\">\r\n              <div class=\"profile-short-name\" *ngIf=\"!draft.profilePicUrl\">\r\n                {{getProfileShortName(draft)}}\r\n              </div>\r\n              <img *ngIf=\"draft.profilePicUrl\" src=\"{{draft.profilePicUrl}}\" ngClass=\"img-responsive w-100\">\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"right-view\" fxLayoutGap=\"5px\">\r\n            <h4 mat-line class=\"h-date\">\r\n              <span>\r\n                <span class=\"name\">{{draft.firstName}} {{draft.lastName}} </span> {{draft.createdOn | relativeDate}}</span>\r\n            </h4>\r\n            <div class=\"diff-content\" [innerHTML]=\"returnDiffHtml(draft.diff) |sanitizeHtml\">\r\n            </div>\r\n          </div>\r\n          <div ngClass=\"draft-extend-icons\" fxLayout=\"row\" fxLayoutGap=\"1px\">\r\n            <i class=\"mdi mdi-compare mdi-18px\" title=\"coming soon\"></i>\r\n            <i class=\"mdi mdi-file mdi-18px\" title=\"Create Draft\" [fxHide]=\"!isOperationAllowed([cmsOperations.CreateDraftWithSnapshot])\"\r\n              (click)=\"openCreateDraftDialog(draft)\"></i>\r\n            <i class=\"mdi mdi-history mdi-18px\" title=\"coming soon\"></i>\r\n            <i class=\"mdi mdi-arrow-expand mdi-18px\" title=\"View Draft\" [fxHide]=\"!isOperationAllowed([cmsOperations.ViewDraftSnapshot])\"\r\n              (click)=\"openViewDraftDialog(draft)\"></i>\r\n          </div>\r\n        </mat-list-item>\r\n      </mat-list>\r\n      <!-- <label ngClass=\"history-period\">04-Jan-18</label> -->\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/draft-history/draft-history.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/draft-history/draft-history.component.ts ***!
  \**********************************************************/
/*! exports provided: DraftHistoryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DraftHistoryComponent", function() { return DraftHistoryComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../new-draft/draft.service */ "./src/app/new-draft/draft.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _create_draft_from_snapshot_create_draft_from_snapshot_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../create-draft-from-snapshot/create-draft-from-snapshot.component */ "./src/app/create-draft-from-snapshot/create-draft-from-snapshot.component.ts");
/* harmony import */ var _view_draft_view_draft_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../view-draft/view-draft.component */ "./src/app/view-draft/view-draft.component.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var DraftHistoryComponent = (function (_super) {
    __extends(DraftHistoryComponent, _super);
    function DraftHistoryComponent(injector, draftService, dialog) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.draftService = draftService;
        _this.dialog = dialog;
        _this.pageNumber = 1;
        _this.pageSize = _environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].pageSize;
        _this.draftHistoryList = [];
        return _this;
    }
    DraftHistoryComponent.prototype.ngOnChanges = function (changes) {
        if (changes['selectedDraftId']) {
            this.isNewSnapShotCreated = false;
            this.unsubscribe();
            this.topic = { subscriptionTopic: 'Draft/' + this.selectedDraftId, value: this.align + 'Draft/' + this.selectedDraftId, eventName: 'validateDraftContentEvent' };
            this.subscribeTopic();
            this.pageNumber = 1;
            this.draftHistoryList = [];
            this.getDraftHistoryList();
        }
    };
    DraftHistoryComponent.prototype.getDraftHistoryList = function () {
        var _this = this;
        this.isNewSnapShotCreated = false;
        if (!this.isDraftHistoryInProgress) {
            this.isDraftHistoryInProgress = true;
            this.draftService.getDraftHistory(this.selectedDraftId, this.pageSize, this.pageNumber).then(function (responseId) {
                _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_8__["applicationConstants"].operation.getDraftHistory });
            });
        }
    };
    DraftHistoryComponent.prototype.onScrollDown = function () {
        this.getDraftHistoryList();
    };
    DraftHistoryComponent.prototype.onScrollUp = function () {
        this.isNewSnapShotCreated = false;
        this.pageNumber = 1;
        this.draftHistoryList = [];
        this.getDraftHistoryList();
    };
    DraftHistoryComponent.prototype.getDraftHistoryEvent = function (notification) {
        this.isDraftHistoryInProgress = false;
        this.isNewSnapShotCreated = false;
        if (notification.data.content.draftHistory && notification.data.content.draftHistory.length > 0) {
            this.pageNumber++;
            if (!this.draftHistoryList && this.draftHistoryList.length > 0) {
                underscore__WEBPACK_IMPORTED_MODULE_7__["each"](notification.data.content.draftHistory, function (draftSnapshot) {
                    this.draftHistoryList.push(draftSnapshot);
                }.bind(this));
            }
            else {
                this.draftHistoryList = notification.data.content.draftHistory;
            }
        }
    };
    DraftHistoryComponent.prototype.validateDraftContentEvent = function (notification) {
        if (notification.data && notification.data.content) {
            return;
        }
        else {
            this.isNewSnapShotCreated = true;
        }
    };
    DraftHistoryComponent.prototype.returnDiffHtml = function (content) {
        var htmlContent = '';
        if (content) {
            var diffContentArray = JSON.parse(content);
            underscore__WEBPACK_IMPORTED_MODULE_7__["each"](diffContentArray, function (diff) {
                var tempContent = '';
                diff.text = diff.text ? diff.text.split(' ').join('&nbsp;').replace(/(?:\r\n|\r|\n)/g, '<br />') : '';
                switch (diff.operation) {
                    case _constants__WEBPACK_IMPORTED_MODULE_8__["DiffOperation"].DELETE:
                        tempContent += '<span class="diff-delete">' + diff.text + '</span>';
                        break;
                    case _constants__WEBPACK_IMPORTED_MODULE_8__["DiffOperation"].EQUAL:
                        tempContent += '<span class="diff-equal">' + (diff.text.length > _constants__WEBPACK_IMPORTED_MODULE_8__["applicationConstants"].diffMaxCharLength ? diff.text.substring(0, _constants__WEBPACK_IMPORTED_MODULE_8__["applicationConstants"].diffMaxCharLength) + '<br>... <br>' : diff.text) + '</span>';
                        break;
                    case _constants__WEBPACK_IMPORTED_MODULE_8__["DiffOperation"].INSERT:
                        tempContent += '<span class="diff-insert">' + diff.text + '</span>';
                        break;
                }
                htmlContent += tempContent;
            });
        }
        return htmlContent;
    };
    DraftHistoryComponent.prototype.openCreateDraftDialog = function (value) {
        this.dialog.open(_create_draft_from_snapshot_create_draft_from_snapshot_component__WEBPACK_IMPORTED_MODULE_5__["CreateDraftFromSnapshotComponent"], { data: { nodeId: this.selectedNodeId, draftId: this.selectedDraftId, snapshotId: value.snapshotId, nodeDrafts: this.nodeDrafts }, width: '360px' });
    };
    DraftHistoryComponent.prototype.openViewDraftDialog = function (value) {
        this.dialog.open(_view_draft_view_draft_component__WEBPACK_IMPORTED_MODULE_6__["ViewDraftComponent"], { data: { snapshotId: value.snapshotId }, width: '560px', minHeight: '200px' });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DraftHistoryComponent.prototype, "selectedNodeId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DraftHistoryComponent.prototype, "selectedDraftId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DraftHistoryComponent.prototype, "nodeDrafts", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DraftHistoryComponent.prototype, "align", void 0);
    DraftHistoryComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-draft-history',
            template: __webpack_require__(/*! ./draft-history.component.html */ "./src/app/draft-history/draft-history.component.html"),
            providers: [_new_draft_draft_service__WEBPACK_IMPORTED_MODULE_2__["DraftService"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_2__["DraftService"], _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatDialog"]])
    ], DraftHistoryComponent);
    return DraftHistoryComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/app/error-detail/error-detail.component.html":
/*!**********************************************************!*\
  !*** ./src/app/error-detail/error-detail.component.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h3>An error has occured, please send the following to an administrator</h3>\r\n<div style=\"width:80%;margin: 5px auto;\">\r\n<pre>\r\n    <code>{{responseData|json}}\r\n    </code>\r\n</pre>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/error-detail/error-detail.component.ts":
/*!********************************************************!*\
  !*** ./src/app/error-detail/error-detail.component.ts ***!
  \********************************************************/
/*! exports provided: ErrorDetailComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorDetailComponent", function() { return ErrorDetailComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ErrorDetailComponent = (function (_super) {
    __extends(ErrorDetailComponent, _super);
    function ErrorDetailComponent(injector, route, httpService) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_3__["pageTitleList"].errorDetail }) || this;
        _this.injector = injector;
        _this.route = route;
        _this.httpService = httpService;
        return _this;
    }
    ErrorDetailComponent.prototype.ngOnInit = function () {
        this.subscribeForRouteParams();
    };
    ErrorDetailComponent.prototype.subscribeForRouteParams = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.getResponse(params.responseId);
        });
    };
    ErrorDetailComponent.prototype.getResponse = function (responseId) {
        var _this = this;
        this.httpService.getResponse(responseId).then(function (response) {
            _this.responseData = response.json();
        });
    };
    ErrorDetailComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-error-detail',
            template: __webpack_require__(/*! ./error-detail.component.html */ "./src/app/error-detail/error-detail.component.html"),
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _common_http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"]])
    ], ErrorDetailComponent);
    return ErrorDetailComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_4__["BaseComponent"]));



/***/ }),

/***/ "./src/app/footer/footer.component.html":
/*!**********************************************!*\
  !*** ./src/app/footer/footer.component.html ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<footer class=\"footer-wrapper\" fxLayout=\"row\">\r\n  <div class=\"container-fluid\" fxLayout=\"column\" fxFlex=\"100\">\r\n    <ul fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"center center\" fxFlex=\"50px\">\r\n      <li>Copyright &copy; 2017 Unity Technologies</li>\r\n      <li><a href=\"https://unity3d.com/legal\">Legal</a></li>\r\n      <li><a href=\"https://unity3d.com/legal/privacy-policy\">Privacy Policy</a></li>\r\n      <li><a href=\"https://unity3d.com/legal/cookie-policy#cookies\">Cookies</a></li>\r\n      <li><a href=\"#\">Terms of Services</a></li>\r\n    </ul>\r\n  </div>\r\n</footer> \r\n"

/***/ }),

/***/ "./src/app/footer/footer.component.ts":
/*!********************************************!*\
  !*** ./src/app/footer/footer.component.ts ***!
  \********************************************/
/*! exports provided: FooterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FooterComponent", function() { return FooterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var FooterComponent = (function () {
    function FooterComponent() {
    }
    FooterComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-footer',
            template: __webpack_require__(/*! ./footer.component.html */ "./src/app/footer/footer.component.html"),
        }),
        __metadata("design:paramtypes", [])
    ], FooterComponent);
    return FooterComponent;
}());



/***/ }),

/***/ "./src/app/gdoc-error-log/gdoc-error-log.component.html":
/*!**************************************************************!*\
  !*** ./src/app/gdoc-error-log/gdoc-error-log.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"validation-error-dialog\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>Error Log</h3>\r\n    <button mat-button mat-dialog-close><i class=\"mdi mdi-close mdi-24px\"></i></button>\r\n  </mat-toolbar>\r\n  <div fxLayout=\"column\" fxLayoutGap=\"1px\">\r\n    <div ngClass=\"oneline-ellipsis error\" *ngFor=\"let asset of failedAssets\"><i class=\"mdi mdi-close-circle mdi-18px\"></i>asset \"{{asset.assetId}}\" is invalid</div>\r\n   \r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/gdoc-error-log/gdoc-error-log.component.ts":
/*!************************************************************!*\
  !*** ./src/app/gdoc-error-log/gdoc-error-log.component.ts ***!
  \************************************************************/
/*! exports provided: GDocErrorLogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GDocErrorLogComponent", function() { return GDocErrorLogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var GDocErrorLogComponent = (function () {
    function GDocErrorLogComponent(data) {
        this.data = data;
        this.failedAssets = data;
    }
    GDocErrorLogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-gdoc-error-log',
            template: __webpack_require__(/*! ./gdoc-error-log.component.html */ "./src/app/gdoc-error-log/gdoc-error-log.component.html"),
        }),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [Object])
    ], GDocErrorLogComponent);
    return GDocErrorLogComponent;
}());



/***/ }),

/***/ "./src/app/glossary-home/glossary-home.component.html":
/*!************************************************************!*\
  !*** ./src/app/glossary-home/glossary-home.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"glossary-wrapper\" fxFlex fxLayout=\"row\"  fxFlexOffset=\"50px\">\r\n  <div ngClass=\"content-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"15px\" fxFlex>\r\n    <mat-list fxLayout=\"column\" fxFlex=\"100\" fxLayoutAlign=\"start stretch\">\r\n      <div ngClass=\"content-title\">\r\n        <mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n          <div fxFlex=\"150px\">\r\n            <mat-form-field ngClass=\"custom-input-field custom-select-field\" floatPlaceholder=\"never\">\r\n              <mat-select placeholder=\"Filter by\">\r\n                <mat-option *ngFor=\"let glossaryFilter of glossaryFilters\" value=\"glossaryFilter\">\r\n                  {{ glossaryFilter }}\r\n                </mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n          </div>\r\n          <div ngClass=\"inner-page-search-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"end\" fxFlex fxFlexOffset=\"30px\">\r\n            <div fxFlex fxLayoutAlign=\"stretch center\" fxFlexOffset=\"10px\">\r\n              <input type=\"Search\" ngClass=\"form-control\" [(ngModel)]=\"searchString\" placeholder=\"Type to Search\" fxFlex>\r\n            </div>\r\n          </div>\r\n          <div fxLayoutAlign=\"end\" fxFlexOffset=\"20px\">\r\n            <button mat-raised-button color=\"primary\" (click)=\"addGlossaryDialog()\"><i class=\"mdi mdi-plus\"></i> ADD GLOSSARY</button>\r\n          </div>\r\n        </mat-toolbar>\r\n      </div>\r\n      <h3 matSubheader fxLayout=\"row\" fxLayoutAlign=\"center center\" fxFlex=\"50px\">\r\n        <span fxFlex=\"20%\" fxLayoutAlign=\"center\">Term</span>\r\n        <span fxFlex=\"20%\" fxLayoutAlign=\"center\">Type</span>\r\n        <span fxFlex=\"15%\" fxLayoutAlign=\"center\">Pages in use</span>\r\n        <span fxFlex=\"20%\" fxLayoutAlign=\"center\">Tags</span>\r\n        <span fxFlex=\"18%\" fxLayoutAlign=\"center\">Last updated by </span>\r\n        <div fxFlex=\"7%\" fxLayoutAlign=\"center\">&nbsp;</div>\r\n      </h3>\r\n      <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n        <div slimScroll style=\"height: 40vh\">\r\n          <div *ngFor=\"let value of glossaryList\">\r\n            <mat-list-item>\r\n              <div fxLayout=\"row\" fxFlex fxLayoutAlign=\"start center\">\r\n                <span fxFlex=\"20%\" fxLayoutAlign=\"center\">{{value.term}}</span>\r\n                <span fxFlex=\"20%\" fxLayoutAlign=\"center\">{{value.type}}</span>\r\n                <span fxFlex=\"15%\" fxLayoutAlign=\"center\">{{value.pagesInUse}}</span>\r\n                <span fxFlex=\"20%\" fxLayoutAlign=\"center\">\r\n                  <mat-chip-list>\r\n                    <mat-chip [ngStyle]=\"{'background-color': value.tags[0].color}\">{{value.tags[0].tagName}}</mat-chip>\r\n                    <div ngClass=\"more-glossary-tags-wrapper\">\r\n                      <mat-chip ngClass=\"more-glossary-tags\">+{{value.tags.length-1}}</mat-chip>\r\n                      <div ngClass=\"dropdown-more-glossary-tags\">\r\n                        <div slimScroll ngClass=\"dropdown-more-glossary-tags-scroll\">\r\n                          <div *ngFor=\"let tag of value.tags|slice:1\"><mat-chip [ngStyle]=\"{'background-color': tag.color}\">{{tag.tagName}}</mat-chip></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </mat-chip-list>\r\n                </span>\r\n                <span fxFlex=\"18%\" fxLayoutAlign=\"center\"><strong>{{value.lastupdatedbyname}}</strong> <small>({{value.lastupdatedbydate}})</small></span>\r\n                <span fxFlex=\"7%\" fxLayout=\"row\" fxLayoutAlign=\"center center\" fxLayoutGap=\"10px\">\r\n                  <mat-icon fxLayoutAlign=\"center\">\r\n                    <i class=\"mdi mdi-open-in-new mdi-24px cursor-pointer\"></i>\r\n                  </mat-icon>\r\n                  <mat-icon fxLayoutAlign=\"center\">\r\n                    <i class=\"mdi mdi-dots-vertical mdi-24px cursor-pointer\" [matMenuTriggerFor]=\"manageEditTagsNterms\"></i>\r\n                  </mat-icon>\r\n                  <mat-menu #manageEditTagsNterms=\"matMenu\">\r\n                    <button mat-menu-item>Edit Term</button>\r\n                    <button mat-menu-item>Manage Tags</button>\r\n                    <button mat-menu-item>Delete Term</button>\r\n                  </mat-menu>\r\n                </span>\r\n              </div>\r\n            </mat-list-item>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-list>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/glossary-home/glossary-home.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/glossary-home/glossary-home.component.ts ***!
  \**********************************************************/
/*! exports provided: GlossaryHomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GlossaryHomeComponent", function() { return GlossaryHomeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _add_glossary_add_glossary_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../add-glossary/add-glossary.component */ "./src/app/add-glossary/add-glossary.component.ts");
/* harmony import */ var _staticGlossarydata__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./staticGlossarydata */ "./src/app/glossary-home/staticGlossarydata.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var GlossaryHomeComponent = (function () {
    function GlossaryHomeComponent(dialog) {
        this.dialog = dialog;
        this.searchString = '';
        this.glossaryFilters = ['Filter 1', 'Filter 2', 'Filter 3', 'Filter 4', 'Filter 5'];
    }
    GlossaryHomeComponent.prototype.addGlossaryDialog = function () {
        var dialogRef = this.dialog.open(_add_glossary_add_glossary_component__WEBPACK_IMPORTED_MODULE_2__["AddGlossaryComponent"], {
            width: '40vw'
        });
    };
    GlossaryHomeComponent.prototype.ngOnInit = function () {
        this.glossaryList = _staticGlossarydata__WEBPACK_IMPORTED_MODULE_3__["glossaryData"];
    };
    GlossaryHomeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-glossary-home',
            template: __webpack_require__(/*! ./glossary-home.component.html */ "./src/app/glossary-home/glossary-home.component.html")
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]])
    ], GlossaryHomeComponent);
    return GlossaryHomeComponent;
}());



/***/ }),

/***/ "./src/app/glossary-home/staticGlossarydata.ts":
/*!*****************************************************!*\
  !*** ./src/app/glossary-home/staticGlossarydata.ts ***!
  \*****************************************************/
/*! exports provided: glossaryData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "glossaryData", function() { return glossaryData; });
var glossaryData = [
    {
        term: 'Plotform', type: 'Workshop-specific', pagesInUse: '50', lastupdatedbyname: 'Markus', lastupdatedbydate: '05/Feb/2018',
        tags: [{ tagName: 'tag0', color: 'yellow' },
            { tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
        ]
    },
    {
        term: 'Ground', type: 'Workshop-specific', pagesInUse: '22', lastupdatedbyname: 'Catherine', lastupdatedbydate: '05/Mar/2018',
        tags: [{ tagName: 'tag0', color: 'grey' },
            { tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
        ]
    },
    {
        term: 'Pipe_MAT', type: 'Workshop-specific', pagesInUse: '150', lastupdatedbyname: 'Ben P', lastupdatedbydate: '05/Apr/2018',
        tags: [{ tagName: 'tag0', color: 'green' },
            { tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
        ]
    },
    {
        term: 'Plotform_Diffuse', type: 'Workshop-specific', pagesInUse: '250', lastupdatedbyname: 'Dan W', lastupdatedbydate: '05/Apr/2018',
        tags: [{ tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
        ]
    },
    {
        term: 'Player', type: 'Workshop-specific', pagesInUse: '450', lastupdatedbyname: 'Ambuj K', lastupdatedbydate: '05/Apr/2018',
        tags: [{ tagName: 'tag0', color: 'red' },
            { tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
        ]
    },
    {
        term: 'Player_Fall', type: 'Workshop-specific', pagesInUse: '20', lastupdatedbyname: 'Lance Z', lastupdatedbydate: '05/Apr/2018',
        tags: [{ tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
        ]
    },
    {
        term: 'Start', type: 'Workshop-specific', pagesInUse: '22', lastupdatedbyname: 'Mark D', lastupdatedbydate: '05/Apr/2018',
        tags: [{ tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
        ]
    },
    {
        term: 'Slide', type: 'Workshop-specific', pagesInUse: '34', lastupdatedbyname: 'Ben P', lastupdatedbydate: '05/Apr/2018',
        tags: [{ tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
            { tagName: 'tag7', color: 'green' },
            { tagName: 'tag8', color: 'grey' },
            { tagName: 'tag9', color: 'silver' },
            { tagName: 'tag10', color: 'yellow' },
        ]
    },
    {
        term: 'Jump', type: 'Workshop-specific', pagesInUse: '222', lastupdatedbyname: 'Dan W', lastupdatedbydate: '05/May/2018',
        tags: [{ tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
        ]
    },
    {
        term: 'Grounded', type: 'Workshop-specific', pagesInUse: '454', lastupdatedbyname: 'Markus', lastupdatedbydate: '05/May/2018',
        tags: [{ tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
        ]
    },
    {
        term: 'Plotform', type: 'Workshop-specific', pagesInUse: '50', lastupdatedbyname: 'Markus', lastupdatedbydate: '05/Feb/2018',
        tags: [{ tagName: 'tag1', color: 'blue' },
            { tagName: 'tag2', color: 'red' },
            { tagName: 'tag3', color: 'green' },
            { tagName: 'tag4', color: 'grey' },
            { tagName: 'tag5', color: 'silver' },
            { tagName: 'tag6', color: 'yellow' },
        ]
    },
];


/***/ }),

/***/ "./src/app/header/header.component.html":
/*!**********************************************!*\
  !*** ./src/app/header/header.component.html ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"header-wrapper\" fxLayout=\"column\" class=\"docworksDarkTheme\">\r\n  <mat-card color=\"basic\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"50px\" fxFlex=\"59px\">\r\n    <a class=\"brand-logo\" title=\"Home\" href=\"/hc/en-us\" fxFlex=\"245px\" fxLayout=\"row\" fxLayoutAlign=\"flex-start center\" fxLayoutGap=\"5%\">\r\n      <span>\r\n        <img src=\"../assets/img/unity-logo-white.png\" alt=\"Logo\" class=\"logo\">\r\n      </span>\r\n      <span class=\"mat-h1\">DocWorks</span>\r\n    </a>\r\n    <div fxLayout=\"row\" fxFlex>\r\n      <nav mat-tab-nav-bar fxFlex>\r\n        <a mat-tab-link *ngFor=\"let link of navLinks\" [routerLink]=\"link.path\" routerLinkActive #rla=\"routerLinkActive\" [active]=\"rla.isActive\">\r\n          {{link.label}} </a>\r\n      </nav>\r\n      <div fxFlex=\"255px\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"5px\">\r\n        <div fxFlex=\"40px\" ngClass=\"notification-wrapper dropdown-wrapper\" fxLayoutAlign=\"center center\">\r\n          <button mat-icon-button (click)=\"openSideNav()\">\r\n            <mat-chip ngClass=\"notification cursor-pointer\" color=\"warn\" selected=\"true\" (click)=\"openSideNav()\" *ngIf=\"unReadOperationCount && unReadOperationCount>0\">{{unReadOperationCount}}</mat-chip>\r\n            <mat-icon>\r\n              <i class=\"mdi mdi-bell mdi-24px\"></i>\r\n            </mat-icon>\r\n          </button>\r\n        </div>\r\n        <div fxFlex=\"200px\" fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n          <span ngClass=\"oneline-ellipsis text-right\" fxFlex fxFlexOffset=\"15px\" matTooltip=\"{{getFirstName()}}\">{{getFirstName()}}</span>\r\n          <button [matMenuTriggerFor]=\"profileAvatar\" mat-fab ngClass=\"profile-avatar\" fxFlexOffset=\"20px\">\r\n            <div class=\"profile-short-name\" *ngIf=\"!userProfile.profilePicUrl\">\r\n              {{userProfile.profileShortName}}\r\n            </div>\r\n            <img *ngIf=\"userProfile.profilePicUrl\" src=\"{{userProfile.profilePicUrl}}\" ngClass=\"img-responsive w-100\">\r\n          </button>\r\n          <mat-menu #profileAvatar=\"matMenu\" [overlapTrigger]=\"false\" class=\"update-profile\" yPosition=\"below\" xPosition=\"after\">\r\n            <div ngClass=\"update-profile-image\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"15px\">\r\n              <div fxFlex=\"110px\" ngClass=\"profile-image\">\r\n                <div class=\"profile-short-name\" *ngIf=\"!userProfile.profilePicUrl\">\r\n               <p>{{userProfile.profileShortName}}  </p> \r\n                </div>\r\n                <img *ngIf=\"userProfile.profilePicUrl\" src=\"{{userProfile.profilePicUrl}}\" ngClass=\"img-responsive\">\r\n                <i class=\"mdi mdi-delete mdi-18px delete-picture\" *ngIf=\"userProfile.profilePicUrl\" (click)=\"removeUserProfilePic()\"></i>\r\n              </div>\r\n              <div fxLayout=\"column\" fxLayoutGap=\"10px\" fxFlex fxLayoutAlign=\"start stretch\">\r\n                <h3>\r\n                  <strong>{{userProfile.firstName}} {{userProfile.lastName}}</strong>\r\n                </h3>\r\n                <a href=\"mailto:{{userProfile.userPrincipalName}}\" title=\"{{userProfile.userPrincipalName}}\" class=\"oneline-ellipsis\"> {{userProfile.userPrincipalName}}</a>\r\n                <div>\r\n                  <button mat-raised-button color=\"primary\" (click)=\"updateProfilePic()\">Update Picture</button>\r\n                </div>\r\n                <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isUpdateInProgress\"></mat-progress-bar>\r\n              </div>\r\n            </div>\r\n          </mat-menu>\r\n\r\n          <button mat-icon-button fxFlexAlign=\"start center\" fxFlexOffset=\"20px\">\r\n            <mat-icon matTooltip=\"Logout\" (click)=\"logout()\">\r\n              <i class=\"mdi mdi-power mdi-24px\"></i>\r\n            </mat-icon>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-card>\r\n</div>"

/***/ }),

/***/ "./src/app/header/header.component.ts":
/*!********************************************!*\
  !*** ./src/app/header/header.component.ts ***!
  \********************************************/
/*! exports provided: HeaderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderComponent", function() { return HeaderComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_user_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _operation_status_operation_status_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../operation-status/operation-status.service */ "./src/app/operation-status/operation-status.service.ts");
/* harmony import */ var _common_authorization_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/authorization.service */ "./src/app/common/authorization.service.ts");
/* harmony import */ var _update_profile_picture_update_profile_picture_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../update-profile-picture/update-profile-picture.component */ "./src/app/update-profile-picture/update-profile-picture.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _update_profile_picture_profile_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../update-profile-picture/profile.service */ "./src/app/update-profile-picture/profile.service.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var HeaderComponent = (function (_super) {
    __extends(HeaderComponent, _super);
    function HeaderComponent(injector, userService, router, authorizationService, operationStatusService, dialog, profileService) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.userService = userService;
        _this.router = router;
        _this.authorizationService = authorizationService;
        _this.operationStatusService = operationStatusService;
        _this.dialog = dialog;
        _this.profileService = profileService;
        _this.navLinks = [
            { label: 'Authoring', path: '/dashboard' },
            { label: 'Publishing', path: '/publish-home' },
            { label: 'Media', path: '/media' },
            { label: 'System', path: '/system' },
            { label: 'Analytics', path: '/analytics' },
            { label: 'Glossary', path: '/glossary-home' },
            { label: 'Developer-Dashboard', path: '/developer-dashboard' }
        ];
        _this.subscribeToOperationEvent();
        return _this;
    }
    HeaderComponent.prototype.ngOnInit = function () {
        this.userProfile = this.userService.getProfile();
    };
    HeaderComponent.prototype.subscribeToOperationEvent = function () {
        var _this = this;
        this.localEventEmitterService.operationEvent.subscribe(function (data) {
            var eventName = data.eventName;
            if (eventName && _this[eventName]) {
                _this[eventName](data.value);
            }
        });
    };
    HeaderComponent.prototype.operationStatusUpdateEvent = function (operations) {
        this.unReadOperationCount = this.operationStatusService.getUnreadOperationCount();
    };
    HeaderComponent.prototype.getFirstName = function () {
        return this.userService.user.profile.firstName;
    };
    HeaderComponent.prototype.openSideNav = function () {
        this.operationStatusService.markOperationAsRead();
        this.emitLocalEvent({ eventName: 'openNotificationSideNav', value: true });
    };
    HeaderComponent.prototype.logout = function () {
        this.userService.logOut();
        this.router.navigate(['/login']);
        this.authorizationService.cmsOperationRolesMapping = undefined;
    };
    HeaderComponent.prototype.updateProfilePic = function () {
        var _this = this;
        var dialogRef = this.dialog.open(_update_profile_picture_update_profile_picture_component__WEBPACK_IMPORTED_MODULE_5__["UpdateProfilePictureComponent"], { width: '530px' });
        dialogRef.afterClosed().subscribe(function (responseId) {
            if (responseId) {
                _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_10__["applicationConstants"].operation.uploadUserProfilePic });
                var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_9__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_10__["cmsOperation"].UploadUserProfilePic, _constants__WEBPACK_IMPORTED_MODULE_10__["eventStatus"].Wait, {});
                _this.addOperationEvent(operation);
            }
        });
    };
    HeaderComponent.prototype.removeUserProfilePic = function () {
        var _this = this;
        this.isUpdateInProgress = true;
        this.profileService.removeUserProfilePic().then(function (responseId) {
            _this.isUpdateInProgress = false;
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_10__["applicationConstants"].operation.deleteUserProfilePic });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_9__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_10__["cmsOperation"].UploadUserProfilePic, _constants__WEBPACK_IMPORTED_MODULE_10__["eventStatus"].Wait, {});
            _this.addOperationEvent(operation);
        }, function (error) {
            _this.isUpdateInProgress = false;
            console.log(error);
        });
    };
    HeaderComponent.prototype.deleteUserProfilePicEvent = function (notification) {
        this.userService.setUserProfilePic(undefined);
    };
    HeaderComponent.prototype.uploadUserProfilePicEvent = function (notification) {
        var userProfilePic = notification.data.content.profilePicUrl;
        this.userService.setUserProfilePic(userProfilePic);
    };
    HeaderComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-header',
            template: __webpack_require__(/*! ./header.component.html */ "./src/app/header/header.component.html"),
            providers: [_update_profile_picture_profile_service__WEBPACK_IMPORTED_MODULE_8__["ProfileService"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_user_service__WEBPACK_IMPORTED_MODULE_1__["UserService"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _common_authorization_service__WEBPACK_IMPORTED_MODULE_4__["AuthorizationService"],
            _operation_status_operation_status_service__WEBPACK_IMPORTED_MODULE_3__["OperationStatusService"], _angular_material__WEBPACK_IMPORTED_MODULE_6__["MatDialog"], _update_profile_picture_profile_service__WEBPACK_IMPORTED_MODULE_8__["ProfileService"]])
    ], HeaderComponent);
    return HeaderComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_7__["BaseComponent"]));



/***/ }),

/***/ "./src/app/import-distribution-treeview/import-distribution-treeview.component.html":
/*!******************************************************************************************!*\
  !*** ./src/app/import-distribution-treeview/import-distribution-treeview.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"row\" fxLayoutGap=\"2%\" fxFlexFill>\r\n  <div fxFlex=\"49\" fxLayout=\"column\" fxFlexFill>\r\n    <div class=\"distribution-treeview-filter-wrapper\" fxLayout=\"column\" fxFlexFill>\r\n      <h3 fxFlex=\"25px\">Import To</h3>\r\n      <form [formGroup]=\"sourceTreeViewFilterForm\" fxLayout=\"column\" fxFlex=\"100\">\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <mat-form-field>\r\n            <mat-select placeholder=\"Select Project\" [formControl]=\"sourceProject\" (change)=\"getDistributions(true)\">\r\n              <mat-option *ngFor=\"let item of projectList | sort: 'projectName'\" [value]=\"item._id\"> {{ item.projectName }}</mat-option>\r\n            </mat-select>\r\n            <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isProjectLoading\"></mat-progress-bar>\r\n          </mat-form-field>\r\n          <mat-form-field>\r\n            <mat-select placeholder=\"Select Distribution\" [formControl]=\"sourceDistribution\" (change)=\"requestTree(true)\">\r\n              <mat-option *ngFor=\"let item of sourceDistributionList | sort: 'distributionName'\" [value]=\"item.distributionId\"> {{ item.distributionName }}</mat-option>\r\n            </mat-select>\r\n            <mat-progress-bar mode=\"indeterminate\" *ngIf=\"sourceIsDistributionLoading\"></mat-progress-bar>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"tree-search\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex=\"40px\">\r\n          <span ngClass=\"custom-form-field\" fxLayoutAlign=\"space-between center\" fxFlex=\"100%\">\r\n            <input type=\"search\" [formControl]=\"sourceSearchText\" fxFlex=\"100%\" (keyup)=\"searchTree(true)\" placeholder=\"Search\" />\r\n            <i class=\"mdi mdi-magnify mdi-24px cursor-pointer\"></i>\r\n          </span>\r\n          <span ngClass=\"cursor-pointer\" (click)=\"(sourceProject.value && sourceDistribution.value)?filterNodesDialog(true):''\" fxFlex=\"20px\"\r\n            fxFlexOffset=\"10px\">\r\n            <i fxFlex class=\"mdi mdi-tune mdi-24px\"></i>\r\n          </span>\r\n          <mat-checkbox *ngIf=\"(destinationProject.value && destinationDistribution.value)\" fxFlexOffset=\"10px\" [(ngModel)]=\"isAllSelected\"\r\n            [ngModelOptions]=\"{standalone: true}\" (change)=\"checkUncheckAllNodes(isAllSelected)\" class=\"node-checkbox\"></mat-checkbox>\r\n        </div>\r\n        <mat-progress-bar mode=\"indeterminate\" *ngIf=\"sourceIsTreeViewLoading\"></mat-progress-bar>\r\n        <div fxLayout=\"column\" fxFlex=\"100\" ngClass=\"{{(sourceProject.value && sourceDistribution.value)?'':'treeview-border'}}\">\r\n          <div *ngIf=\"!(sourceProject.value && sourceDistribution.value)\" fxLayout=\"row\" fxLayoutAlign=\"center center\" fxFlexFill>\r\n            <h4> Select Project & Distribution above</h4>\r\n          </div>\r\n          <div class=\"horizontial-scroll\" [fxHide]=\"!(sourceProject.value && sourceDistribution.value)\" slimScroll fxLayout=\"row\" fxLayoutAlign=\"flex-start start\"\r\n            fxFlexFill>\r\n            <p-tree fxFlexFill #sourceDistributionTree [value]=\"sourceFilteredNodes\" [fxHide]=\"sourceFilteredNodes.length<=0\" droppableNodes=\"true\"\r\n              (onNodeDrop)=\"onDropNode($event)\">\r\n              <ng-template let-node pTemplate=\"default\" width=\"100%\">\r\n                <span>{{node.label}} </span>\r\n                <mat-checkbox [(ngModel)]=\"node.isChecked\" [ngModelOptions]=\"{standalone: true}\" *ngIf=\"!node.manuallyMatched && (destinationProject.value && destinationDistribution.value)\"\r\n                  (click)=\"node.isChecked=!node.isChecked; findMatchedNode(node)\" class=\"node-checkbox\" ngClass=\"{{node.isChecked ? (node.isMatched||node.manuallyMatched?'checkbox-node-matched':'checkbox-node-notmatched'):''}}\">\r\n                  <b>{{node.isChecked ? (node.manuallyMatched?'Manually Matched': (node.isMatched?'Match Found':'Match Not Found')):''}}</b>\r\n                </mat-checkbox>\r\n              </ng-template>\r\n            </p-tree>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <div fxFlex=\"49\" fxLayout=\"column\" fxFlexFill>\r\n    <div class=\"distribution-treeview-filter-wrapper\" fxLayout=\"column\" fxFlexFill>\r\n      <h3 fxFlex=\"25px\">Import From</h3>\r\n      <form [formGroup]=\"destinationTreeViewFilterForm\" fxLayout=\"column\" fxFlex=\"100\">\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n          <mat-form-field>\r\n            <mat-select placeholder=\"Select Project\" [formControl]=\"destinationProject\" (change)=\"getDistributions(false)\">\r\n              <mat-option *ngFor=\"let item of projectList | sort: 'projectName'\" [value]=\"item._id\"> {{ item.projectName }}</mat-option>\r\n            </mat-select>\r\n            <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isProjectLoading\"></mat-progress-bar>\r\n          </mat-form-field>\r\n          <mat-form-field>\r\n            <mat-select placeholder=\"Select Distribution\" [formControl]=\"destinationDistribution\" (change)=\"requestTree(false)\">\r\n              <mat-option *ngFor=\"let item of destinationDistributionList | sort: 'distributionName'\" [value]=\"item.distributionId\"> {{ item.distributionName }}</mat-option>\r\n            </mat-select>\r\n            <mat-progress-bar mode=\"indeterminate\" *ngIf=\"destinationIsDistributionLoading\"></mat-progress-bar>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"tree-search\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex=\"40px\">\r\n          <span ngClass=\"custom-form-field\" fxLayoutAlign=\"space-between center\" fxFlex=\"100%\">\r\n            <input type=\"search\" [formControl]=\"destinationSearchText\" fxFlex=\"100%\" (keyup)=\"searchTree(false)\" placeholder=\"Search\"\r\n            />\r\n            <i class=\"mdi mdi-magnify mdi-24px cursor-pointer\"></i>\r\n          </span>\r\n          <span ngClass=\"cursor-pointer\" (click)=\"(destinationProject.value && destinationDistribution.value)?filterNodesDialog(false):''\"\r\n            fxFlex=\"20px\" fxFlexOffset=\"10px\">\r\n            <i fxFlex class=\"mdi mdi-tune mdi-24px\"></i>\r\n          </span>\r\n        </div>\r\n        <mat-progress-bar mode=\"indeterminate\" *ngIf=\"destinationIsTreeViewLoading\"></mat-progress-bar>\r\n        <div fxLayout=\"column\" fxFlex=\"100\" ngClass=\"{{(destinationProject.value && destinationDistribution.value)?'':'treeview-border'}}\">\r\n          <div *ngIf=\"!(destinationProject.value && destinationDistribution.value)\" fxLayout=\"row\" fxLayoutAlign=\"center center\" fxFlexFill>\r\n            <h4> Select Project & Distribution above</h4>\r\n          </div>\r\n          <div [fxHide]=\"!(destinationProject.value && destinationDistribution.value)\" slimScroll fxLayout=\"row\" fxLayoutAlign=\"flex-start start\"\r\n            fxFlexFill>\r\n            <p-tree class=\"horizontial-scroll\" fxFlexFill #destinationDistributionTree [value]=\"destinationFilteredNodes\" [fxHide]=\"destinationFilteredNodes.length<=0\"\r\n              draggableNodes=\"true\" fxFlex=\"100\">\r\n              <ng-template let-node pTemplate=\"default\" width=\"100%\">\r\n                <span>{{node.label}} </span>\r\n                <span *ngIf=\"node.isMatched || node.manuallyMatched\" class=\"node-matched\">\r\n                  <i class=\"mdi mdi-checkbox-marked-circle\"></i>\r\n                  {{node.isMatched?'Matched':(node.manuallyMatched?'Manually Matched':'')}}\r\n                </span>\r\n              </ng-template>\r\n            </p-tree>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/import-distribution-treeview/import-distribution-treeview.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/import-distribution-treeview/import-distribution-treeview.component.ts ***!
  \****************************************************************************************/
/*! exports provided: ImportDistributionTreeviewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImportDistributionTreeviewComponent", function() { return ImportDistributionTreeviewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primeng/primeng */ "./node_modules/primeng/primeng.js");
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(primeng_primeng__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _tag_groups_tag_groups_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tag-groups/tag-groups.component */ "./src/app/tag-groups/tag-groups.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ImportDistributionTreeviewComponent = (function (_super) {
    __extends(ImportDistributionTreeviewComponent, _super);
    function ImportDistributionTreeviewComponent(injector, formBuilder, tagCacheService, dialog) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.formBuilder = formBuilder;
        _this.tagCacheService = tagCacheService;
        _this.dialog = dialog;
        _this.sourceProject = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.sourceDistribution = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.sourceSearchText = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.destinationProject = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.destinationDistribution = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.destinationSearchText = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.projectList = [];
        _this.sourceNodeList = [];
        _this.sourceFlatNodes = [];
        _this.sourceDistributionList = [];
        _this.sourceFilteredNodes = [];
        _this.destinationNodeList = [];
        _this.destinationFlatNodes = [];
        _this.destinationDistributionList = [];
        _this.destinationFilteredNodes = [];
        _this.matchedNodes = [];
        _this.sourceSelectedTags = [];
        _this.destinationSelectedTags = [];
        _this.isAllSelected = false;
        _this.createTreeViewFilterForms();
        return _this;
    }
    ImportDistributionTreeviewComponent.prototype.ngOnInit = function () {
        this.isProjectLoading = true;
        this.sourceProject.setValue(this.projectService.getSelectedProjectId(), { onlySelf: true });
        this.getProjects();
        this.getDistributions(true);
        this.sourceDistribution.setValue(this.distributionService.getDistributionIdFromCache(), { onlySelf: true });
        this.requestTree(true);
    };
    ImportDistributionTreeviewComponent.prototype.refreshProjects = function (data) {
        this.isProjectLoading = false;
        this.projectList = data.value;
    };
    ImportDistributionTreeviewComponent.prototype.createTreeViewFilterForms = function () {
        this.sourceTreeViewFilterForm = this.formBuilder.group({
            sourceProject: this.sourceProject,
            sourceDistribution: this.sourceDistribution,
            sourceSearchText: this.sourceSearchText
        });
        this.destinationTreeViewFilterForm = this.formBuilder.group({
            destinationProject: this.destinationProject,
            destinationDistribution: this.destinationDistribution,
            destinationSearchText: this.destinationSearchText
        });
    };
    ImportDistributionTreeviewComponent.prototype.getDistributions = function (isSource) {
        this.matchedNodes = [];
        var projectId;
        if (isSource) {
            this.sourceIsDistributionLoading = true;
            this.sourceNodeList = [];
            this.sourceDistributionList = [];
            this.sourceDistribution.setValue('', { onlySelf: true });
            this.sourceFilteredNodes = [];
            projectId = this.sourceProject.value;
        }
        else {
            this.destinationIsDistributionLoading = true;
            this.destinationNodeList = [];
            this.destinationDistributionList = [];
            this.destinationDistribution.setValue('', { onlySelf: true });
            this.destinationFilteredNodes = [];
            projectId = this.destinationProject.value;
        }
        this.getDistributionList(projectId);
        this.emitMatchedData();
    };
    ImportDistributionTreeviewComponent.prototype.refreshDistributions = function (data) {
        if (data.value.projectId === this.sourceProject.value) {
            this.sourceDistributionList = (data && data.value.distributions) ? data.value.distributions : [];
            this.sourceIsDistributionLoading = false;
        }
        if (data.value.projectId === this.destinationProject.value) {
            this.destinationDistributionList = (data && data.value.distributions) ? data.value.distributions : [];
            this.destinationIsDistributionLoading = false;
        }
    };
    ImportDistributionTreeviewComponent.prototype.requestTree = function (isSource) {
        this.matchedNodes = [];
        var distributionId;
        if (isSource) {
            this.sourceIsTreeViewLoading = true;
            this.sourceNodeList = [];
            this.sourceFilteredNodes = [];
            distributionId = this.sourceDistribution.value;
        }
        else {
            this.destinationIsTreeViewLoading = true;
            this.destinationNodeList = [];
            this.destinationFilteredNodes = [];
            distributionId = this.destinationDistribution.value;
        }
        this.getNodes(distributionId);
        this.emitMatchedData();
    };
    ImportDistributionTreeviewComponent.prototype.refreshNodes = function (data) {
        if (data.value.distributionId === this.sourceDistribution.value) {
            this.sourceIsTreeViewLoading = false;
            this.sourceFlatNodes = data.value.nodeList;
        }
        if (data.value.distributionId === this.destinationDistribution.value) {
            this.destinationIsTreeViewLoading = false;
            this.destinationFlatNodes = data.value.nodeList;
        }
        this.matchedNodes = [];
        this.destinationNodeList = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().convertAndResetPrimeNgTree(new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().listToTree(this.destinationFlatNodes), 'fa-folder-open', 'fa-folder', 'fa-file-word-o', true);
        this.sourceNodeList = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().convertAndResetPrimeNgTree(new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().listToTree(this.sourceFlatNodes), 'fa-folder-open', 'fa-folder', 'fa-file-word-o', true);
        this.refreshSourceDestinationTree();
    };
    ImportDistributionTreeviewComponent.prototype.onDropNode = function ($event) {
        this.matchNodeManually($event.dragNode, $event.dropNode);
    };
    ImportDistributionTreeviewComponent.prototype.removePreviousMatchedNode = function (sourceNode) {
        var oldNode = underscore__WEBPACK_IMPORTED_MODULE_4__["find"](this.matchedNodes, function (node) {
            return node.sourceNode.nodeId === sourceNode.nodeId;
        });
        if (oldNode) {
            var previousNode = oldNode.destinationNode;
            new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.sourceNodeList, 'nodeId', previousNode.nodeId, 'manuallyMatched', false);
            new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.sourceNodeList, 'nodeId', previousNode.nodeId, 'isMatched', false);
            new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.sourceNodeList, 'nodeId', previousNode.nodeId, 'isChecked', false);
        }
    };
    ImportDistributionTreeviewComponent.prototype.matchNodeManually = function (sourceNode, destinationNode) {
        if (!sourceNode.manuallyMatched) {
            this.removePreviousMatchedNode(sourceNode);
            this.matchedNodes = underscore__WEBPACK_IMPORTED_MODULE_4__["filter"](this.matchedNodes, function (node) {
                return node.sourceNode.nodeId !== sourceNode.nodeId;
            });
            this.matchedNodes = underscore__WEBPACK_IMPORTED_MODULE_4__["filter"](this.matchedNodes, function (node) {
                return (node.destinationNode ? node.destinationNode.nodeId : '') !== destinationNode.nodeId;
            });
        }
        var sourceNodeHierarchyList = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().findNodeHierarchy(destinationNode.nodeId, this.sourceFlatNodes);
        var destinationNodeHierarchyList = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().findNodeHierarchy(sourceNode.nodeId, this.destinationFlatNodes);
        sourceNode.sourcePathTitle = underscore__WEBPACK_IMPORTED_MODULE_4__["pluck"](sourceNodeHierarchyList, 'shortTitle');
        destinationNode.destinationPathTitle = underscore__WEBPACK_IMPORTED_MODULE_4__["pluck"](destinationNodeHierarchyList, 'shortTitle');
        this.addRemoveNodeFromTree(sourceNode, destinationNode);
        this.matchedNodes.push({ sourceNode: sourceNode, destinationNode: destinationNode, manuallyMatched: true });
        new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.sourceNodeList, 'nodeId', destinationNode.nodeId, 'manuallyMatched', true);
        new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.destinationNodeList, 'nodeId', sourceNode.nodeId, 'manuallyMatched', true);
        new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.sourceNodeList, 'nodeId', destinationNode.nodeId, 'isMatched', false);
        new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.destinationNodeList, 'nodeId', sourceNode.nodeId, 'isMatched', false);
        new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.sourceNodeList, 'nodeId', destinationNode.nodeId, 'isChecked', true);
        new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.destinationNodeList, 'nodeId', sourceNode.nodeId, 'isChecked', true);
        this.emitMatchedData();
        this.refreshSourceDestinationTree();
    };
    ImportDistributionTreeviewComponent.prototype.addRemoveNodeFromTree = function (sourceNode, destinationNode) {
        sourceNode.isDragDropNode = true;
        destinationNode.isDragDropNode = true;
        new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().addRemoveNodeFromTree(this.sourceNodeList, sourceNode, destinationNode.nodeId, false);
        new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().addRemoveNodeFromTree(this.destinationNodeList, sourceNode, sourceNode.parentId, true);
    };
    ImportDistributionTreeviewComponent.prototype.findMatchedNode = function (node) {
        var sourceNodeHierarchyList = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().findNodeHierarchy(node.nodeId, this.sourceFlatNodes);
        node.destinationPathTitle = underscore__WEBPACK_IMPORTED_MODULE_4__["pluck"](sourceNodeHierarchyList, 'shortTitle');
        var destinationNode = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().returnMatchedNode(node.destinationPathTitle, this.destinationNodeList);
        if (!node.manuallyMatched && node.isChecked) {
            node.isMatched = false;
            if (destinationNode) {
                var destinationNodeHierarchyList = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().findNodeHierarchy(destinationNode.nodeId, this.destinationFlatNodes);
                destinationNode.sourcePathTitle = underscore__WEBPACK_IMPORTED_MODULE_4__["pluck"](destinationNodeHierarchyList, 'shortTitle');
                node.isMatched = true;
            }
            new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.sourceNodeList, 'nodeId', node.nodeId, 'isChecked', true);
            new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.sourceNodeList, 'nodeId', node.nodeId, 'isMatched', node.isMatched);
            new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.destinationNodeList, 'nodeId', destinationNode ? destinationNode.nodeId : undefined, 'isMatched', node.isMatched);
            this.matchedNodes.push({ sourceNodeId: node.nodeId, destinationNode: node, sourceNode: destinationNode ? destinationNode : {}, isMatched: node.isMatched });
        }
        else {
            new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.sourceNodeList, 'nodeId', node.nodeId, 'isChecked', false);
            new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().setNodeProperties(this.destinationNodeList, 'nodeId', destinationNode ? destinationNode.nodeId : undefined, 'isMatched', false);
            this.matchedNodes = underscore__WEBPACK_IMPORTED_MODULE_4__["filter"](this.matchedNodes, function (value) { return (value.sourceNodeId !== node.nodeId); });
        }
        this.isAllSelected = this.isAllChecked();
        this.emitMatchedData();
        this.refreshSourceDestinationTree();
    };
    ImportDistributionTreeviewComponent.prototype.isAllChecked = function () {
        if (this.sourceFlatNodes.length === this.matchedNodes.length) {
            return true;
        }
        else {
            return false;
        }
    };
    ImportDistributionTreeviewComponent.prototype.refreshSourceDestinationTree = function () {
        this.searchTree(true);
        this.searchTree(false);
    };
    ImportDistributionTreeviewComponent.prototype.getProjectDistribution = function () {
        var selectedSourceProject = underscore__WEBPACK_IMPORTED_MODULE_4__["find"](this.projectList, function (project) {
            return project._id === this.sourceProject.value;
        }.bind(this));
        var selectedDestinationProject = underscore__WEBPACK_IMPORTED_MODULE_4__["find"](this.projectList, function (project) {
            return project._id === this.destinationProject.value;
        }.bind(this));
        var selectedSourceDistribution = underscore__WEBPACK_IMPORTED_MODULE_4__["find"](this.sourceDistributionList, function (distribution) {
            return distribution.distributionId === this.sourceDistribution.value;
        }.bind(this));
        var selectedDestinationDistribution = underscore__WEBPACK_IMPORTED_MODULE_4__["find"](this.destinationDistributionList, function (distribution) {
            return distribution.distributionId === this.destinationDistribution.value;
        }.bind(this));
        return {
            sourceProject: selectedSourceProject ? selectedSourceProject : {},
            sourceDistribution: selectedSourceDistribution ? selectedSourceDistribution : {},
            destinationProject: selectedDestinationProject ? selectedDestinationProject : {},
            destinationDistribution: selectedDestinationDistribution ? selectedDestinationDistribution : {}
        };
    };
    ImportDistributionTreeviewComponent.prototype.emitMatchedData = function () {
        var value = this.getProjectDistribution();
        this.emitLocalEvent({ eventName: 'setMatchedData', value: { value: value, matchedNodes: this.matchedNodes } });
    };
    ImportDistributionTreeviewComponent.prototype.filterNodesDialog = function (isSource) {
        var projectId = isSource ? this.sourceProject.value : this.destinationProject.value;
        var selectedTags = isSource ? this.sourceSelectedTags : this.destinationSelectedTags;
        var project = underscore__WEBPACK_IMPORTED_MODULE_4__["find"](this.projectList, function (aProject) {
            return aProject._id === projectId;
        });
        var tagGroups = this.tagCacheService.getTagGroupsForIds(project.tagGroups);
        this.dialog.open(_tag_groups_tag_groups_component__WEBPACK_IMPORTED_MODULE_5__["TagGroupsComponent"], { data: { tagGroups: tagGroups, filteredTags: selectedTags, operationType: 'TreeFilter', isSource: isSource }, width: '500px' });
    };
    ImportDistributionTreeviewComponent.prototype.TreeFilter = function (data) {
        if (data.value.isSource) {
            this.sourceSelectedTags = data.value.tagGroups;
        }
        if (data.value.isSource === false) {
            this.destinationSelectedTags = data.value.tagGroups;
        }
        this.searchTree(data.value.isSource);
    };
    ImportDistributionTreeviewComponent.prototype.searchTree = function (isSource) {
        var clonedNodes = JSON.parse(JSON.stringify(isSource ? this.sourceNodeList : this.destinationNodeList));
        if (isSource) {
            this.sourceFilteredNodes = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().implementTagSearch(clonedNodes, this.sourceSelectedTags);
            this.sourceFilteredNodes = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().searchTree(this.sourceFilteredNodes, this.sourceSearchText.value ? this.sourceSearchText.value : '', false);
        }
        else {
            this.destinationFilteredNodes = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().implementTagSearch(clonedNodes, this.destinationSelectedTags);
            this.destinationFilteredNodes = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().searchTree(this.destinationFilteredNodes, this.destinationSearchText.value ? this.destinationSearchText.value : '', false);
        }
    };
    ImportDistributionTreeviewComponent.prototype.checkUncheckAllNodes = function (isAllSelected) {
        this.setNodeProperty(this.sourceNodeList, isAllSelected);
    };
    ImportDistributionTreeviewComponent.prototype.setNodeProperty = function (tree, isChecked) {
        underscore__WEBPACK_IMPORTED_MODULE_4__["each"](tree, function (node) {
            if (node['children'] && node['children'].length > 0) {
                this.setNodeProperty(node.children, isChecked);
            }
            if (!node.manuallyMatched) {
                node.isChecked = isChecked;
                this.findMatchedNode(node);
            }
        }.bind(this));
        return tree;
    };
    ImportDistributionTreeviewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-import-distribution-treeview',
            template: __webpack_require__(/*! ./import-distribution-treeview.component.html */ "./src/app/import-distribution-treeview/import-distribution-treeview.component.html"),
            providers: [primeng_primeng__WEBPACK_IMPORTED_MODULE_3__["TreeDragDropService"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"],
            _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_7__["TagCacheService"], _angular_material__WEBPACK_IMPORTED_MODULE_6__["MatDialog"]])
    ], ImportDistributionTreeviewComponent);
    return ImportDistributionTreeviewComponent;
}(_operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_8__["OperationBaseComponent"]));



/***/ }),

/***/ "./src/app/import-distribution/import-distribution.component.html":
/*!************************************************************************!*\
  !*** ./src/app/import-distribution/import-distribution.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" class=\"import-distribution-wrapper\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>{{isBatchMerge?'Batch Merge':'Import Distribution'}}</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n    <div fxLayout=\"row\" fxLayoutGap=\"15px\" fxFlexFill>\r\n      <div fxFlex=\"64\" fxFlexFill>\r\n        <app-import-distribution-treeview></app-import-distribution-treeview>\r\n      </div>\r\n      <div fxFlex=\"36\" class=\"result-view\" fxFlexFill>\r\n        <div fxLayout=\"column\">\r\n          <h3>Matched Nodes</h3>\r\n          <div fxLayout=\"column\" fxFlexOffset=\"10px\" class=\"selected-nodes\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"mt-20\" *ngIf=\"matchedNodes.length<1\">\r\n              <h4> None Selected Yet</h4>\r\n            </div>\r\n            <div [fxHide]=\"!(matchedNodes.length>0)\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n              <div fxLayout=\"row\" fxFlex=\"18px\">\r\n                <div fxLayout=\"column\" fxFlex=\"40%\" class=\"selected-name\" ngClass=\"oneline-ellipsis\" matTooltip=\"{{projectDisplayValues.sourceProject.projectName}} {{projectDisplayValues.sourceDistribution.distributionName}}\">\r\n                  {{projectDisplayValues.sourceProject.projectName}} {{projectDisplayValues.sourceDistribution.distributionName}}\r\n                </div>\r\n                <div fxLayout=\"column\" fxFlex=\"20%\" class=\"link-icon\" fxLayoutAlign=\"start stretch\">\r\n                </div>\r\n                <div fxLayout=\"column\" fxFlex=\"40%\" class=\"selected-name\" ngClass=\"oneline-ellipsis\" matTooltip=\"{{projectDisplayValues.destinationProject.projectName}} {{projectDisplayValues.destinationDistribution.distributionName}}\">\r\n                  {{projectDisplayValues.destinationProject.projectName}} {{projectDisplayValues.destinationDistribution.distributionName}}\r\n                </div>\r\n              </div>\r\n              <div slimScroll class=\"selected-node-scroll\" fxLayout=\"column\" fxFlexFill>\r\n                <div *ngFor=\"let node of matchedNodes\" fxLayout=\"row\" fxFlex>\r\n                  <div fxLayout=\"column\" fxFlex=\"40%\">\r\n                    {{node.sourceNode.label}}\r\n                  </div>\r\n                  <div fxLayout=\"column\" fxFlex=\"20%\" class=\"link-icon\" fxLayoutAlign=\"start stretch\">\r\n                    <i class=\"mdi mdi-file-word\"></i>\r\n                    <span class=\"h-line\"></span>\r\n                    <i class=\"mdi mdi-file-word\"></i>\r\n                  </div>\r\n                  <div fxLayout=\"column\" fxFlex=\"40%\">\r\n                    {{node.destinationNode.label}}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <h3>Manually Matched Nodes</h3>\r\n          <div fxLayout=\"column\" fxFlexOffset=\"10px\" class=\"selected-nodes\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"mt-20\" *ngIf=\"manuallyMatchedNodes.length<1\">\r\n              <h4> None Selected Yet</h4>\r\n            </div>\r\n\r\n            <div [fxHide]=\"!(manuallyMatchedNodes.length>0)\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n              <div fxLayout=\"row\" fxFlex=\"18px\">\r\n                <div fxLayout=\"column\" fxFlex=\"40%\" class=\"selected-name\" ngClass=\"oneline-ellipsis\" matTooltip=\"{{projectDisplayValues.sourceProject.projectName}} {{projectDisplayValues.sourceDistribution.distributionName}}\">\r\n                  {{projectDisplayValues.sourceProject.projectName}} {{projectDisplayValues.sourceDistribution.distributionName}}\r\n                </div>\r\n                <div fxLayout=\"column\" fxFlex=\"20%\" class=\"link-icon\" fxLayoutAlign=\"start stretch\">\r\n\r\n                </div>\r\n                <div fxLayout=\"column\" fxFlex=\"40%\" class=\"selected-name\" ngClass=\"oneline-ellipsis\" matTooltip=\"{{projectDisplayValues.destinationProject.projectName}} {{projectDisplayValues.destinationDistribution.distributionName}}\">\r\n                  {{projectDisplayValues.destinationProject.projectName}} {{projectDisplayValues.destinationDistribution.distributionName}}\r\n                </div>\r\n              </div>\r\n              <div slimScroll class=\"selected-node-scroll\" fxLayout=\"column\" fxFlexFill>\r\n                <div *ngFor=\"let node of manuallyMatchedNodes\" fxLayout=\"row\" fxFlex>\r\n                  <div fxLayout=\"column\" fxFlex=\"40%\">\r\n                    {{node.destinationNode.label}}\r\n                  </div>\r\n                  <div fxLayout=\"column\" fxFlex=\"20%\" class=\"link-icon\" fxLayoutAlign=\"start stretch\">\r\n                    <i class=\"mdi mdi-file-word\"></i>\r\n                    <span class=\"h-line\"></span>\r\n                    <i class=\"mdi mdi-file-word\"></i>\r\n                  </div>\r\n                  <div fxLayout=\"column\" fxFlex=\"40%\">\r\n                    {{node.sourceNode.label}}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <h3>\r\n            Unmatched Nodes\r\n            <span>(unmatched nodes will not be processed)</span>\r\n          </h3>\r\n          <div fxLayout=\"column\" fxFlexOffset=\"10px\" class=\"selected-nodes\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"mt-20\" *ngIf=\"unMatchedNodes.length<1\">\r\n              <h4> None Selected Yet</h4>\r\n            </div>\r\n\r\n            <div [fxHide]=\"!(unMatchedNodes.length>0)\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n              <div fxLayout=\"row\" fxFlex=\"18px\">\r\n                <div fxLayout=\"column\" class=\"selected-name\" ngClass=\"oneline-ellipsis\" matTooltip=\"{{projectDisplayValues.sourceProject.projectName}} {{projectDisplayValues.sourceDistribution.distributionName}}\">\r\n                  {{projectDisplayValues.sourceProject.projectName}} {{projectDisplayValues.sourceDistribution.distributionName}}\r\n                </div>\r\n              </div>\r\n              <div slimScroll class=\"selected-node-scroll\" fxLayout=\"column\" fxFlexFill>\r\n                <div *ngFor=\"let node of unMatchedNodes\" fxLayout=\"row\" fxFlex>\r\n                  <i class=\"mdi mdi-file-word unmatched\"></i> {{node.destinationNode.label}}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div fxLayout=\"row\" fxFlexOffset=\"5px\" fxLayoutAlign=\"end center\">\r\n            <button mat-raised-button color=\"primary\" [disabled]=\"!((matchedNodes && matchedNodes.length>0) || (manuallyMatchedNodes && manuallyMatchedNodes.length>0))\"\r\n              (click)=\"submitClick()\">\r\n              {{isBatchMerge?'Batch Merge':'Import Distribution'}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </mat-dialog-content>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/import-distribution/import-distribution.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/import-distribution/import-distribution.component.ts ***!
  \**********************************************************************/
/*! exports provided: ImportDistributionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImportDistributionComponent", function() { return ImportDistributionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _import_distribution_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./import-distribution.service */ "./src/app/import-distribution/import-distribution.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};







var ImportDistributionComponent = (function (_super) {
    __extends(ImportDistributionComponent, _super);
    function ImportDistributionComponent(injector, dialogRef, data, importDistributionService) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.dialogRef = dialogRef;
        _this.data = data;
        _this.importDistributionService = importDistributionService;
        _this.matchedNodes = [];
        _this.manuallyMatchedNodes = [];
        _this.unMatchedNodes = [];
        _this.nodes = [];
        _this.isBatchMerge = data.isBatchMerge;
        return _this;
    }
    ImportDistributionComponent.prototype.ngOnInit = function () {
    };
    ImportDistributionComponent.prototype.submitClick = function () {
        if (this.isBatchMerge) {
            this.batchMerge();
        }
        else {
            this.importDistribution();
        }
    };
    ImportDistributionComponent.prototype.importDistribution = function () {
        var _this = this;
        var importNodeArray = underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](this.nodes, function (value) { return (value.isMatched || value.manuallyMatched); });
        var values = [];
        underscore__WEBPACK_IMPORTED_MODULE_1__["each"](importNodeArray, function (importNode) {
            values.push({ sourceNodeId: importNode.sourceNode.nodeId, targetNodeId: importNode.destinationNode.nodeId });
        }.bind(this));
        if ((this.matchedNodes && this.matchedNodes.length > 0) || (this.manuallyMatchedNodes && this.manuallyMatchedNodes.length > 0)) {
            var value = {
                DistributionId: this.projectDisplayValues.sourceDistribution.distributionId,
                MappingNodes: values
            };
            this.importDistributionService.importDistribution(value).then(function (responseId) {
                _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.importDistribution });
                var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_6__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_5__["cmsOperation"].ImportDistribution, _constants__WEBPACK_IMPORTED_MODULE_5__["eventStatus"].Wait, {
                    distributionName: _this.projectDisplayValues.sourceDistribution.distributionName
                });
                _this.addOperationEvent(operation);
            });
            this.dialogRef.close();
        }
    };
    ImportDistributionComponent.prototype.setMatchedData = function (matchedData) {
        this.projectDisplayValues = matchedData.value.value;
        this.nodes = matchedData.value.matchedNodes;
        this.matchedNodes = underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](matchedData.value.matchedNodes, function (value) { return value.isMatched; });
        this.manuallyMatchedNodes = underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](matchedData.value.matchedNodes, function (value) { return value.manuallyMatched; });
        this.unMatchedNodes = underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](matchedData.value.matchedNodes, function (value) { return value.isMatched === false; });
    };
    ImportDistributionComponent.prototype.batchMerge = function () {
        var matchedNodes = underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](this.nodes, function (node) {
            return node.isMatched || node.manuallyMatched;
        });
        this.dialogRef.close({ matchedNodes: matchedNodes, values: this.projectDisplayValues });
    };
    ImportDistributionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-import-distribution',
            template: __webpack_require__(/*! ./import-distribution.component.html */ "./src/app/import-distribution/import-distribution.component.html"),
            providers: [_import_distribution_service__WEBPACK_IMPORTED_MODULE_4__["ImportDistributionService"]]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"], Object, _import_distribution_service__WEBPACK_IMPORTED_MODULE_4__["ImportDistributionService"]])
    ], ImportDistributionComponent);
    return ImportDistributionComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_2__["BaseComponent"]));



/***/ }),

/***/ "./src/app/import-distribution/import-distribution.service.ts":
/*!********************************************************************!*\
  !*** ./src/app/import-distribution/import-distribution.service.ts ***!
  \********************************************************************/
/*! exports provided: ImportDistributionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImportDistributionService", function() { return ImportDistributionService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ImportDistributionService = (function () {
    function ImportDistributionService(httpService) {
        this.httpService = httpService;
    }
    ImportDistributionService.prototype.importDistribution = function (value) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/distributions/importdistribution', value).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    ImportDistributionService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"]])
    ], ImportDistributionService);
    return ImportDistributionService;
}());



/***/ }),

/***/ "./src/app/insert-asset/insert-asset.component.html":
/*!**********************************************************!*\
  !*** ./src/app/insert-asset/insert-asset.component.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" ngClass=\"insert-dialog-wrapper\" fxFlexFill>\r\n  <mat-toolbar color=\"primary\">\r\n    <h2 fxFlex>{{assetType===constAssetType.image?'Insert Image':'Insert Code'}}</h2>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlex=\"100\" fxFlexFill>\r\n    <div fxLayout=\"row\" fxFlex=\"50px\" fxLayoutAlign=\"space-between stretch\">\r\n      <mat-tab-group fxFlexAlign=\"end\" (selectedTabChange)=\"filterAsset($event)\">\r\n        <mat-tab label=\"Recently Uploaded\"></mat-tab>\r\n        <mat-tab label=\"Uploaded by me\"></mat-tab>\r\n      </mat-tab-group>\r\n      <div ngClass=\"inner-page-search-wrapper\" fxFlex=\"500px\" fxFlexAlign=\"center\">\r\n        <div fxFlex fxLayoutAlign=\"stretch center\" fxLayoutGap=\"5px\">\r\n          <div fxFlex>\r\n            <button mat-raised-button [matMenuTriggerFor]=\"menu\">{{filterType==1?'Asset Id':'Asset Text'}}\r\n              <i class=\"mdi mdi-menu-down\"></i>\r\n            </button>\r\n            <mat-menu #menu=\"matMenu\" xPosition=\"before\" yPosition=\"below\" [overlapTrigger]=\"false\">\r\n              <button mat-menu-item (click)=\"filterType=1\">Asset Id</button>\r\n              <button mat-menu-item (click)=\"filterType=2\">Asset Text</button>\r\n            </mat-menu>\r\n\r\n            <input type=\"Search\" ngClass=\"form-control\" fxFlex [formControl]=\"searchText\" maxlength=\"100\">\r\n          </div>\r\n          <button mat-raised-button>\r\n            <i class=\"mdi mdi-magnify mdi-24px\" (click)=\"searchAsset()\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div ngClass=\"content-body\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"10px\" fxFlexFill>\r\n      <div ngClass=\"content-body-left\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlex=\"50\">\r\n        <div fxLayoutAlign=\"start stretch\" fxFlex>\r\n          <app-dam-drag-and-drop [viewType]=\"dragDropComponentViewType.uploadView\" [assetData]=\"assetArray\" (onScroll)=\"scrolldown($event)\"\r\n            (onFileSelect)=\"upsertAsset($event)\" (getAsset)=\"getAssetProperties($event)\" [assetType]=\"assetType\" [isDataLoading]=\"isLoading\"\r\n            [selectedAssetId]=\"selectedAssetId\" [isAssetAdded]=\"isAssetAdded\" fxFlex [(isAssetUploading)]=\"isAssetUploadInProgress\"></app-dam-drag-and-drop>\r\n        </div>\r\n      </div>\r\n      <div ngClass=\"content-body-right\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlex=\"50\">\r\n\r\n        <div fxFlex>\r\n          <app-dam-drag-and-drop [viewType]=\"dragDropComponentViewType.replaceView\" [assetData]=\"assetDetail\" (onScroll)=\"scrolldown($event)\"\r\n            (onFileSelect)=\"upsertAsset($event)\" [isDataLoading]=\"isAssetDetailLoading\" [assetType]=\"assetType\" [selectedAssetId]=\"selectedAssetId\"\r\n            [(isAssetUploading)]=\"isAssetReplaceInProgress\" [isAssetAdded]=\"false\"></app-dam-drag-and-drop>\r\n        </div>\r\n        <div ngClass=\"media-preview-header\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex=\"50px\">\r\n          <mat-tab-group>\r\n            <mat-tab label=\"FILE INFORMATION\"></mat-tab>\r\n            <mat-tab label=\"HISTORY\"></mat-tab>\r\n          </mat-tab-group>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"20px\" fxLayoutAlign=\"start center\">\r\n            <a href=\"{{assetDetail.assetContent}}\" target=\"_blank\" *ngIf=\"(assetDetail.assetType ?assetDetail.assetType.toString():'') === constAssetType.image.toString()\">\r\n              <span>View Full Size Image</span>\r\n            </a>\r\n            <button mat-raised-button color=\"primary\" *ngIf=\"assetDetail && assetDetail.assetId\">\r\n              <div fxLayout=\"row\" fxLayoutGap=\"3px\" fxLayoutAlign=\"start center\" (click)=\"(isAssetDetailLoading || isUpdateInProgress)?'':updateAssetData()\">\r\n                <i class=\"mdi mdi-pencil mdi-18px\"></i>\r\n                <span>{{isEditProperties?'Update':'Edit'}}</span>\r\n              </div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <app-asset-properties fxLayout=\"column\" fxFlex=\"100\" [assetDetail]=\"assetDetail\" [isUpdateInProgress]=\"isUpdateInProgress\"\r\n          [isDataLoading]=\"isAssetDetailLoading\" [isEditProperties]=\"isEditProperties\" [(isAssetReplaceInProgress)]=\"isAssetReplaceInProgress\"></app-asset-properties>\r\n\r\n        <div ngClass=\"media-preview-bottom\" fxLayout=\"row\" fxLayoutAlign=\"space-between end\" fxLayoutGap=\"30px\" fxFlex=\"45px\">\r\n          <input type=\"text\" [formControl]=\"copyToClipboardControl\" maxlength=\"100\" ngClass=\"form-control\" [(ngModel)]=\"copyToClipboardText\"\r\n            fxFlex>\r\n          <button mat-raised-button color=\"primary\" (click)=\"copyToClipboardText?copyToClipboard(copyToClipboardText):''\">\r\n            <i class=\"mdi mdi-content-copy\"></i>{{isValueCopied?'Copied':'Copy to Clipboard'}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-dialog-content>\r\n</div>"

/***/ }),

/***/ "./src/app/insert-asset/insert-asset.component.ts":
/*!********************************************************!*\
  !*** ./src/app/insert-asset/insert-asset.component.ts ***!
  \********************************************************/
/*! exports provided: InsertAssetComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InsertAssetComponent", function() { return InsertAssetComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _media_media_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../media/media.service */ "./src/app/media/media.service.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var _media_media_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../media/media.component */ "./src/app/media/media.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var InsertAssetComponent = (function (_super) {
    __extends(InsertAssetComponent, _super);
    function InsertAssetComponent(mediaService, injector, formBuilder, dom, data) {
        var _this = _super.call(this, injector, mediaService, formBuilder) || this;
        _this.mediaService = mediaService;
        _this.injector = injector;
        _this.formBuilder = formBuilder;
        _this.data = data;
        _this.copyToClipboardControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        _this.assetType = data.assetType;
        _this.dom = dom;
        return _this;
    }
    InsertAssetComponent.prototype.copyToClipboard = function (value) {
        var _this = this;
        this.isValueCopied = true;
        var promise = new Promise(function (resolve, reject) {
            var textarea = null;
            try {
                textarea = _this.dom.createElement('textarea');
                textarea.style.height = '0px';
                textarea.style.width = '0px';
                _this.dom.body.appendChild(textarea);
                textarea.value = value;
                textarea.select();
                _this.dom.execCommand('copy');
                resolve(value);
            }
            finally {
                if (textarea && textarea.parentNode) {
                    textarea.parentNode.removeChild(textarea);
                }
            }
        });
        return (promise);
    };
    InsertAssetComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-insert-asset',
            template: __webpack_require__(/*! ./insert-asset.component.html */ "./src/app/insert-asset/insert-asset.component.html"),
            providers: [_media_media_service__WEBPACK_IMPORTED_MODULE_3__["MediaService"]]
        }),
        __param(3, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["DOCUMENT"])),
        __param(4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_media_media_service__WEBPACK_IMPORTED_MODULE_3__["MediaService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            Document, Object])
    ], InsertAssetComponent);
    return InsertAssetComponent;
}(_media_media_component__WEBPACK_IMPORTED_MODULE_5__["MediaComponent"]));



/***/ }),

/***/ "./src/app/insert-link/insert-link.component.html":
/*!********************************************************!*\
  !*** ./src/app/insert-link/insert-link.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" class=\"insert-link-wrapper\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>CMS Link</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n    <form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"10px\" fxFlexFill>\r\n      <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n        <mat-form-field fxFlex=\"50%\">\r\n          <mat-select placeholder=\"Select Project\" [disabled]=\"true\" [formControl]=\"project\" (change)=\"selectedProjectId=project.value; getDistributions()\">\r\n            <mat-option *ngFor=\"let item of projectList\" [value]=\"item._id\"> {{ item.projectName }}</mat-option>\r\n          </mat-select>\r\n          <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isProjectsLoading\"></mat-progress-bar>\r\n        </mat-form-field>\r\n        <mat-form-field fxFlex=\"50%\">\r\n          <mat-select placeholder=\"Select Distribution\" [formControl]=\"distribution\" [disabled]=\"true\" (change)=\"selectedDistributionId=distribution.value; requestTree()\">\r\n            <mat-option *ngFor=\"let item of distributionList\" [value]=\"item.distributionId\"> {{ item.distributionName }}</mat-option>\r\n          </mat-select>\r\n          <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isDistributionsLoading\"></mat-progress-bar>\r\n        </mat-form-field>\r\n      </div>\r\n      <div fxLayout=\"row\">\r\n        <span fxFlex ngClass=\"custom-form-field\" fxLayoutAlign=\"space-between center\">\r\n          <input type=\"search\" fxFlex [formControl]=\"searchText\" (keyup)=\"searchTree()\" placeholder=\"Search...\" />\r\n          <i class=\"mdi mdi-magnify mdi-24px\"></i>\r\n        </span>\r\n      </div>\r\n      <div *ngIf=\"isTreeViewLoading\">\r\n        <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n      </div>\r\n\r\n      <div fxFlexFill [fxHide]=\"nodeList.length>0\" class=\"insert-link-scroll bg-white\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n        <h4>No Nodes Avaliable to Select, Please select any Project, Distribution which having nodes.</h4>\r\n      </div>\r\n      <div [fxShow]=\"nodeList.length>0\" fxFlexFill>\r\n        <div fxLayout=\"row\" fxFlexFill slimScroll class=\"insert-link-scroll\">\r\n          <div fxFlexFill>\r\n            <p-tree #expandingTree selectionMode=\"single\" [value]=\"filteredNodes\" fxLayout=\"row\" [(selection)]=\"selectedNode\" (onNodeSelect)=\"onNodeSelect($event)\"\r\n              fxFlexFill>\r\n              <ng-template let-node pTemplate=\"default\" width=\"100%\">\r\n                <span ngClass=\"{{(selectedNode?selectedNode.nodeId:'') == node.nodeId? 'bold ui-state-highlight' : ''}}\">{{node.label}}</span>\r\n              </ng-template>\r\n            </p-tree>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </form>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions fxFlexFill fxLayoutAlign=\"end center\" class=\"pt-0\">\r\n    <div fxLayout=\"row\" fxFlex fxLayoutAlign=\"end center\" fxLayoutGap=\"10px\">\r\n      <input type=\"text\" maxlength=\"100\" ngClass=\"form-control\" [(ngModel)]=\"copyToClipboardText\" fxFlex title=\"{{copyToClipboardText}}\">\r\n      <button mat-raised-button color=\"primary\" (click)=\"copyToClipboardText?copyToClipboard(copyToClipboardText):''\">\r\n        <i class=\"mdi mdi-content-copy\"></i>{{isValueCopied?'Copied':'Copy to Clipboard'}}</button>\r\n    </div>\r\n  </mat-dialog-actions>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/insert-link/insert-link.component.ts":
/*!******************************************************!*\
  !*** ./src/app/insert-link/insert-link.component.ts ***!
  \******************************************************/
/*! exports provided: InsertLinkComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InsertLinkComponent", function() { return InsertLinkComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};







var InsertLinkComponent = (function (_super) {
    __extends(InsertLinkComponent, _super);
    function InsertLinkComponent(injector, formBuilder, dom, data) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.formBuilder = formBuilder;
        _this.data = data;
        _this.project = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.distribution = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.searchText = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.projectList = [];
        _this.distributionList = [];
        _this.nodeList = [];
        _this.filteredNodes = [];
        _this.copyToClipboardText = '';
        _this.createInsertLinkForm();
        _this.dom = dom;
        return _this;
    }
    InsertLinkComponent.prototype.ngOnInit = function () {
        this.isProjectsLoading = true;
        this.getProjects();
    };
    InsertLinkComponent.prototype.createInsertLinkForm = function () {
        this.insertLinkFilterForm = this.formBuilder.group({
            project: this.project,
            distribution: this.distribution,
            searchText: this.searchText,
        });
    };
    InsertLinkComponent.prototype.refreshProjects = function (data) {
        this.isProjectsLoading = false;
        this.projectList = data.value;
        if (this.data.selectedProjectId) {
            this.project.setValue(this.data.selectedProjectId);
            this.selectedProjectId = this.data.selectedProjectId;
            this.data.selectedProjectId = undefined;
            this.getDistributions();
        }
    };
    InsertLinkComponent.prototype.getDistributions = function () {
        this.isDistributionsLoading = true;
        this.distribution.setValue(undefined);
        this.distributionList = [];
        this.nodeList = [];
        this.filteredNodes = [];
        this.selectedNode = undefined;
        this.copyToClipboardText = '';
        this.isValueCopied = false;
        this.getDistributionList(this.selectedProjectId);
    };
    InsertLinkComponent.prototype.refreshDistributions = function (data) {
        if (data.value.projectId === this.selectedProjectId) {
            this.distributionList = (data && data.value.distributions) ? data.value.distributions : [];
            this.isDistributionsLoading = false;
            if (this.data.selectedDistributionId) {
                this.distribution.setValue(this.data.selectedDistributionId);
                this.selectedDistributionId = this.data.selectedDistributionId;
                this.data.selectedDistributionId = undefined;
                this.requestTree();
            }
        }
    };
    InsertLinkComponent.prototype.requestTree = function () {
        this.isTreeViewLoading = true;
        this.nodeList = [];
        this.filteredNodes = [];
        this.selectedNode = undefined;
        this.copyToClipboardText = '';
        this.isValueCopied = false;
        this.getNodes(this.selectedDistributionId);
    };
    InsertLinkComponent.prototype.refreshNodes = function (data) {
        if (data.value.distributionId === this.selectedDistributionId) {
            this.isTreeViewLoading = false;
            this.nodeList = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().convertAndResetPrimeNgTree(new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().listToTree(data.value.nodeList), 'fa-folder-open', 'fa-folder', 'fa-file-word-o', true);
            this.searchTree();
            if (this.data.selectedNode) {
                this.selectedNode = this.data.selectedNode;
                this.data.selectedNode = undefined;
                var link = _constants__WEBPACK_IMPORTED_MODULE_5__["assetTags"].assetLinkStart + 'Project/' + this.selectedProjectId + '/Distribution/' + this.selectedDistributionId + '/Document/' + this.selectedNode.nodeId + _constants__WEBPACK_IMPORTED_MODULE_5__["assetTags"].assetLinkEnd;
                this.copyToClipboardText = link;
            }
        }
    };
    InsertLinkComponent.prototype.searchTree = function () {
        var clonedNodes = JSON.parse(JSON.stringify(this.nodeList));
        this.filteredNodes = new _common_utils__WEBPACK_IMPORTED_MODULE_2__["utils"]().searchTree(clonedNodes, this.searchText.value ? this.searchText.value : '', true);
    };
    InsertLinkComponent.prototype.onNodeSelect = function (event) {
        var selectedNodeId = event.node.nodeId;
        var link = _constants__WEBPACK_IMPORTED_MODULE_5__["assetTags"].assetLinkStart + 'Project/' + this.selectedProjectId + '/Distribution/' + this.selectedDistributionId + '/Document/' + selectedNodeId + _constants__WEBPACK_IMPORTED_MODULE_5__["assetTags"].assetLinkEnd;
        this.copyToClipboardText = link;
        this.isValueCopied = false;
    };
    InsertLinkComponent.prototype.copyToClipboard = function (value) {
        var _this = this;
        this.isValueCopied = true;
        var promise = new Promise(function (resolve, reject) {
            var textarea = null;
            try {
                textarea = _this.dom.createElement('textarea');
                textarea.style.height = '0px';
                textarea.style.width = '0px';
                _this.dom.body.appendChild(textarea);
                textarea.value = value;
                textarea.select();
                _this.dom.execCommand('copy');
                resolve(value);
            }
            finally {
                if (textarea && textarea.parentNode) {
                    textarea.parentNode.removeChild(textarea);
                }
            }
        });
        return (promise);
    };
    InsertLinkComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-insert-link',
            template: __webpack_require__(/*! ./insert-link.component.html */ "./src/app/insert-link/insert-link.component.html")
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["DOCUMENT"])),
        __param(3, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"], Document, Object])
    ], InsertLinkComponent);
    return InsertLinkComponent;
}(_operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_6__["OperationBaseComponent"]));



/***/ }),

/***/ "./src/app/login/login.component.html":
/*!********************************************!*\
  !*** ./src/app/login/login.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"row\" fxLayoutAlign=\"space-around start\" fxFlexFill ngClass=\"login-wrapper docworksLightTheme\">\r\n  <div fxLayout=\"column\" fxFlex=\"440px\">\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"center center\" fxLayoutGap=\"20px\">\r\n      <span>\r\n        <img src=\"../assets/img/unity-logo-black.png\" alt=\"Logo\" class=\"logo\">\r\n      </span>\r\n      <h1 class=\"login-heading\">DocWorks</h1>\r\n    </div>\r\n    <mat-card fxLayout=\"column\" fxLayoutGap=\"20px\" fxFlexOffset=\"25px\">\r\n      <h2 ngClass=\"login-title\">SIGN IN</h2>\r\n      <form [formGroup]=\"loginForm\" autocomplete=\"off\" fxLayout=\"column\" fxLayoutGap=\"5px\" fxLayoutAlign=\"start stretch\">\r\n        <mat-form-field fxFlex>\r\n          <input matInput placeholder=\"User Name\" [formControl]=\"username\" required>\r\n          <mat-icon matSuffix>\r\n            <i class=\"mdi mdi-account mdi-18px\"></i>\r\n          </mat-icon>\r\n          <mat-error *ngIf=\"username.hasError('required')\">User Name is required.</mat-error>\r\n          <mat-error *ngIf=\"username.hasError('minlength')\"> Please enter at least 5 characters.</mat-error>\r\n          <mat-error *ngIf=\"username.hasError('maxlength')\"> Please enter maximum of 100 characters</mat-error>\r\n          <mat-error *ngIf=\"username.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n        </mat-form-field>\r\n        <mat-form-field fxFlex>\r\n          <input matInput placeholder=\"Password\" type=\"password\" required [formControl]=\"password\">\r\n          <mat-icon matSuffix>\r\n            <i class=\"mdi mdi-lock mdi-18px\"></i>\r\n          </mat-icon>\r\n          <mat-error *ngIf=\"password.hasError('required')\">Password is required.</mat-error>\r\n          <mat-error *ngIf=\"password.hasError('minlength')\"> Please enter at least 5 characters.</mat-error>\r\n          <mat-error *ngIf=\"password.hasError('maxlength')\"> Max 25 characters allowed.</mat-error>\r\n        </mat-form-field>\r\n        <div fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n          <p-captcha siteKey=\"{{recaptchaSiteKey}}\" (onResponse)=\"getCaptchaResponse($event)\"></p-captcha>\r\n        </div>\r\n        <div *ngIf=\"errorMsg.length>0\">\r\n          <small class=\"errorText\"> {{errorMsg}}</small>\r\n        </div>\r\n        <div fxLayout=\"column\" class=\"login-button-wrapper\">\r\n          <button mat-raised-button color=\"primary\" type=\"submit\" [disabled]=\"!loginForm.valid || isProgressShow || !captchaResponseToken\"\r\n            (click)=\"doLogin()\">LOGIN</button>\r\n        </div>\r\n        <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isProgressShow\"></mat-progress-bar>\r\n      </form>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/login/login.component.ts":
/*!******************************************!*\
  !*** ./src/app/login/login.component.ts ***!
  \******************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/user */ "./src/app/common/user.ts");
/* harmony import */ var _login_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./login.service */ "./src/app/login/login.service.ts");
/* harmony import */ var _common_user_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primeng/primeng */ "./node_modules/primeng/primeng.js");
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(primeng_primeng__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/whitespace-validator */ "./src/app/common/whitespace-validator.ts");
/* harmony import */ var _common_signalr_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/signalr.service */ "./src/app/common/signalr.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var LoginComponent = (function () {
    function LoginComponent(route, router, loginService, userService, formBuilder, signalr) {
        this.route = route;
        this.router = router;
        this.loginService = loginService;
        this.userService = userService;
        this.formBuilder = formBuilder;
        this.signalr = signalr;
        this.user = new _common_user__WEBPACK_IMPORTED_MODULE_2__["User"]();
        this.userDomainSuffix = _environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].userDomainSuffix;
        this.username = new _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].minLength(5), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_8__["WhiteSpaceValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].maxLength(100)]);
        this.password = new _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].maxLength(25)]);
        this.errorMsg = '';
        this.createLoginForm();
        this.captchaResponseToken = _environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].isCaptchaDisabled ? 'CaptchaDisabled' : undefined;
    }
    LoginComponent.prototype.ngOnInit = function () {
        this.recaptchaSiteKey = _environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].captcha.RECAPTCHA_SITE_KEY;
        this.postLoginUrl = this.route.snapshot.queryParams['postLoginUrl'] || 'dashboard';
        this.isProgressShow = false;
        this.userService.logOut();
    };
    LoginComponent.prototype.createLoginForm = function () {
        this.loginForm = this.formBuilder.group({
            username: this.username,
            password: this.password
        });
    };
    LoginComponent.prototype.doLogin = function () {
        var _this = this;
        var userName = this.loginForm.value.username;
        var passWord = this.loginForm.value.password;
        if (userName && passWord) {
            this.isProgressShow = true;
            if (userName.indexOf('@') < 0) {
                userName = userName + this.userDomainSuffix;
            }
            this.loginService.doLogin(userName, passWord, this.captchaResponseToken).subscribe(function (value) {
                var loginResponse = value.json();
                _this.userService.setProfile(loginResponse);
                _this.signalr.initHubConnection().subscribe(function (signalrId) {
                    _this.router.navigateByUrl(_this.postLoginUrl);
                    _this.isProgressShow = false;
                }, function (error) {
                    _this.handleError(error);
                });
            }, function (error) {
                _this.handleError(error);
            });
        }
    };
    LoginComponent.prototype.handleError = function (error) {
        this.isProgressShow = false;
        this.captcha.reset();
        this.captchaResponseToken = undefined;
        this.errorMsg = error.json().error_description;
        if (error.json().error_description === 'invalid_username_or_password') {
            this.errorMsg = 'Please enter valid username password';
        }
        else {
            this.errorMsg = 'Some error occurred in notification service';
        }
    };
    LoginComponent.prototype.getCaptchaResponse = function (event) {
        this.captchaResponseToken = event.response;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(primeng_primeng__WEBPACK_IMPORTED_MODULE_6__["Captcha"]),
        __metadata("design:type", primeng_primeng__WEBPACK_IMPORTED_MODULE_6__["Captcha"])
    ], LoginComponent.prototype, "captcha", void 0);
    LoginComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/login/login.component.html"),
            providers: [_login_service__WEBPACK_IMPORTED_MODULE_3__["LoginService"]]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_0__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_0__["Router"],
            _login_service__WEBPACK_IMPORTED_MODULE_3__["LoginService"], _common_user_service__WEBPACK_IMPORTED_MODULE_4__["UserService"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormBuilder"],
            _common_signalr_service__WEBPACK_IMPORTED_MODULE_9__["SignalrService"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/login/login.service.ts":
/*!****************************************!*\
  !*** ./src/app/login/login.service.ts ***!
  \****************************************/
/*! exports provided: LoginService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginService", function() { return LoginService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/esm5/http.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LoginService = (function () {
    function LoginService(http) {
        this.http = http;
    }
    LoginService.prototype.doLogin = function (userName, password, captchaResponseToken) {
        var headers = new _angular_http__WEBPACK_IMPORTED_MODULE_3__["Headers"]({
            'Content-Type': 'application/x-www-form-urlencoded'
        });
        var body = Object(_common_utils__WEBPACK_IMPORTED_MODULE_2__["urlEncode"])({
            'grant_type': 'password',
            'username': userName,
            'password': password,
            'client_id': 'CMSApiClient',
            'captchaResponseToken': captchaResponseToken
        });
        return this.http.post(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/connect/token', body, { headers: headers }).map(function (response) {
            return response;
        });
    };
    LoginService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_3__["Http"]])
    ], LoginService);
    return LoginService;
}());



/***/ }),

/***/ "./src/app/main/main.component.html":
/*!******************************************!*\
  !*** ./src/app/main/main.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-sidenav-container class=\"docworksLightTheme\" fxFlexFill>\r\n  <mat-sidenav #sidenav position=\"end\" fixedTopGap=\"59px\" fixedInViewport ngClass=\"notification-sidenav\">\r\n    <app-notification-sidebar></app-notification-sidebar>\r\n  </mat-sidenav>\r\n  <div ngClass=\"main-container-wrapper\" fxFlexFill fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <app-header></app-header>\r\n    <div ngClass=\"content-wrapper\" fxFlex fxFlexOffset=\"59px\">\r\n      <router-outlet></router-outlet>\r\n      <div ngClass=\"global-icon docworksLightTheme\">\r\n        <a href=\"https://confluence.hq.unity3d.com/display/DOCS/Trying+the+system%2C+feedback+and+bugs\" target=\"_blank\" mat-raised-button color=\"warn\">Report a Bug</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</mat-sidenav-container>\r\n"

/***/ }),

/***/ "./src/app/main/main.component.ts":
/*!****************************************!*\
  !*** ./src/app/main/main.component.ts ***!
  \****************************************/
/*! exports provided: MainComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainComponent", function() { return MainComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var MainComponent = (function (_super) {
    __extends(MainComponent, _super);
    function MainComponent(injector, tagCacheService) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.tagCacheService = tagCacheService;
        _this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_3__["topics"].Dashboard, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_3__["topics"].Dashboard, eventName: 'refreshProjectAndTagGroupEvent' };
        _this.subscribeTopic();
        return _this;
    }
    MainComponent.prototype.openNotificationSideNav = function (data) {
        if (data) {
            this.sidenav.open();
        }
        else {
            this.sidenav.close();
        }
    };
    MainComponent.prototype.ngOnInit = function () {
        this.getTagGroupList();
    };
    MainComponent.prototype.refreshProjectAndTagGroupEvent = function () {
        this.getTagGroupList();
    };
    MainComponent.prototype.getAllTagGroupsAndTagsEvent = function (response) {
        var newValue = response.data.content.tagGroups;
        var oldValue = this.tagCacheService.getTagGroups();
        var equals = this.equals(oldValue, newValue);
        if (!equals) {
            this.tagCacheService.addTagsToCache(newValue);
            this.emitLocalEvent({ eventName: 'tagGroupsUpdate', value: newValue });
        }
    };
    MainComponent.prototype.getTagGroupList = function () {
        var _this = this;
        var serviceResponse;
        serviceResponse = this.tagCacheService.getTagGroupList();
        serviceResponse.responseObservable.toPromise().then(function (response) {
            var responseId = response.json().responseId;
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].operation.getAllTagGroupsAndTags });
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sidenav'),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSidenav"])
    ], MainComponent.prototype, "sidenav", void 0);
    MainComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-main',
            template: __webpack_require__(/*! ./main.component.html */ "./src/app/main/main.component.html")
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__["TagCacheService"]])
    ], MainComponent);
    return MainComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_2__["BaseComponent"]));



/***/ }),

/***/ "./src/app/manage-admins/admin.service.ts":
/*!************************************************!*\
  !*** ./src/app/manage-admins/admin.service.ts ***!
  \************************************************/
/*! exports provided: AdminService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminService", function() { return AdminService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AdminService = (function () {
    function AdminService(httpService) {
        this.httpService = httpService;
    }
    AdminService.prototype.addOrRemoveSystemAdmin = function (userId, addSystemAdmin) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Users/' + userId + '/AssignOrRemoveSystemAdmin', { isSystemAdmin: addSystemAdmin }).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AdminService.prototype.addOrRemoveProjectAdmin = function (userId, projectId, addProjectAdmin) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Projects/' + projectId + '/AssignOrRemoveProjectAdmin', { userId: userId, isProjectAdmin: addProjectAdmin }).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AdminService.prototype.getAssignedSystemAdmins = function () {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Users/GetSystemAdmin').toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AdminService.prototype.getFilteredUsers = function (searchString) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Users/GetUserDetails?searchText=' + searchString).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AdminService.prototype.getAssignedProjectAdmins = function (projectId) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Projects/' + projectId + '/GetProjectAdmin').toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    AdminService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"]])
    ], AdminService);
    return AdminService;
}());



/***/ }),

/***/ "./src/app/manage-admins/manage-admins.component.html":
/*!************************************************************!*\
  !*** ./src/app/manage-admins/manage-admins.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"content-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"15px\" fxFlex>\r\n  <mat-list fxLayout=\"column\" fxFlex=\"100\" fxLayoutAlign=\"start stretch\">\r\n    <div ngClass=\"docworksDarkTheme content-title\">\r\n      <mat-toolbar fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n        <div fxFlex>Manage Admins</div>\r\n        <div ngClass=\"inner-page-search-wrapper\" fxFlex=\"300px\" fxLayout=\"column\" fxLayoutAlign=\"flex-end stretch\" [fxHide]=\"!checkAccess(selectedProject,allowedCmsOperations)\">\r\n          <div fxFlex=\"37px\" fxLayoutAlign=\"stretch center\" fxLayout=\"row\">\r\n            <input type=\"Search\" ngClass=\"form-control\" [(ngModel)]=\"filterString\" placeholder=\"Type to Filter\" fxFlex>\r\n            <button [matMenuTriggerFor]=\"matMenu\" mat-raised-button color=\"primary\" (click)=\"getMatchingRecords()\">\r\n              <i class=\"mdi mdi-magnify mdi-18px\"></i>\r\n            </button>\r\n          </div>\r\n          <mat-progress-bar *ngIf=\"!recordsFetched\" ngClass=\"mt-0\" mode=\"indeterminate\" style=\"margin-bottom:0!important\"></mat-progress-bar>\r\n        </div>\r\n\r\n        <mat-menu #matMenu=\"matMenu\" xPosition=\"before\" yPosition=\"below\" [overlapTrigger]=\"false\">\r\n          <div fxLayout=\"column\" fxFlex>\r\n            <div ngClass=\"manage-admin-search-menu\" *ngFor=\"let user of filteredUsers\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\"\r\n              fxLayoutGap=\"10px\" fxFlex>\r\n              <span fxFlexOffset=\"15px\">{{user.firstName}} {{user.lastName}}</span>\r\n              <span>\r\n                <button *ngIf=\"!user.inProgress\" mat-raised-button color=\"primary\" (click)=\"user.inProgress=true;addAdmin(user)\">Add\r\n                  <i class=\"mdi mdi-account-plus\"></i>\r\n                </button>\r\n                <mat-spinner *ngIf=\"user.inProgress\" fxFlex=\"30px\" ngClass=\"tag-view-loader\" fxLayoutAlign=\"end\"></mat-spinner>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </mat-menu>\r\n      </mat-toolbar>\r\n    </div>\r\n    <div ngClass=\"inner-page-search-wrapper\">\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"end end\">\r\n        <input type=\"Search\" ngClass=\"form-control\" [(ngModel)]=\"searchString\" placeholder=\"Type to Search\" fxFlex=\"50\">\r\n      </div>\r\n    </div>\r\n    <h3 matSubheader fxLayout=\"row\" fxLayoutAlign=\"center center\" fxFlex=\"50px\">\r\n      <span fxFlex=\"20%\" fxLayoutAlign=\"left\">Name\r\n        <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n      </span>\r\n      <span fxFlex=\"35%\" fxLayoutAlign=\"left\">Email\r\n        <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n      </span>\r\n      <span fxFlex=\"25%\" fxLayoutAlign=\"left\">Added by\r\n        <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n      </span>\r\n      <span fxFlex=\"15%\" fxLayoutAlign=\"left\">Added on\r\n        <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n      </span>\r\n      <div fxFlex=\"5%\" fxLayoutAlign=\"center\">&nbsp;</div>\r\n    </h3>\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" slimScroll ngClass=\"system-dashboard-scroll\" *ngIf=\"adminDataFetched\">\r\n      <mat-list-item *ngFor=\"let admin of assignedAdmins |  filter: 'firstName': searchString\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex>\r\n          <span fxFlex=\"20%\" fxLayoutAlign=\"left\" class=\"oneline-ellipsis  mr-10\" title=\"{{admin.firstName}} {{admin.lastName}}\">{{admin.firstName}} {{admin.lastName}}</span>\r\n          <span fxFlex=\"35%\" fxLayoutAlign=\"left\" class=\"oneline-ellipsis mr-10\" title=\"{{admin.emailId}}\">{{admin.emailId}}</span>\r\n          <span fxFlex=\"25%\" fxLayoutAlign=\"left\" class=\"oneline-ellipsis  mr-10\" title=\"{{admin.assignedBy}}\">{{admin.assignedBy}}</span>\r\n          <span fxFlex=\"15%\" fxLayoutAlign=\"left\" class=\"oneline-ellipsis  mr-10\" title=\"{{admin.assignedOn | epocToDatetime | date : mediumDate}}\">{{admin.assignedOn | epocToDatetime | date : mediumDate}}</span>\r\n          <span fxFlex=\"5%\" fxLayoutAlign=\"center\" [fxHide]=\"!checkAccess(selectedProject,allowedCmsOperations)\">\r\n            <i class=\"mdi mdi-delete\" *ngIf=\"!admin.inProgress\" (click)=\"admin.inProgress=true;removeAdmin(admin)\"></i>\r\n            <mat-spinner fxFlex=\"30px\" *ngIf=\"admin.inProgress\" ngClass=\"tag-view-loader\" fxLayoutAlign=\"end\"></mat-spinner>\r\n          </span>\r\n        </div>\r\n      </mat-list-item>\r\n    </div>\r\n    <div *ngIf=\"!adminDataFetched\" class=\"loadingholder\">\r\n      <div class=\"middle\"></div>\r\n      <div class=\"logoicon logoloader\"></div>\r\n    </div>\r\n  </mat-list>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/manage-admins/manage-project-admins.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/manage-admins/manage-project-admins.component.ts ***!
  \******************************************************************/
/*! exports provided: ManageProjectAdminsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManageProjectAdminsComponent", function() { return ManageProjectAdminsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _admin_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./admin.service */ "./src/app/manage-admins/admin.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _common_error_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/error-handler */ "./src/app/common/error-handler.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _manage_system_admins_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./manage-system-admins.component */ "./src/app/manage-admins/manage-system-admins.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};







var ManageProjectAdminsComponent = (function (_super) {
    __extends(ManageProjectAdminsComponent, _super);
    function ManageProjectAdminsComponent(injector, adminService, data) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_5__["pageTitleList"].manageProjectAdmins }) || this;
        _this.injector = injector;
        _this.adminService = adminService;
        _this.data = data;
        _this.recordsFetched = true;
        _this.adminDataFetched = false;
        _this.allowedCmsOperations = [_constants__WEBPACK_IMPORTED_MODULE_5__["cmsOperation"].AssignOrRemoveProjectAdmin];
        _this.selectedProject = data.project;
        _this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_5__["topics"].Project, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_5__["topics"].Project, eventName: undefined };
        return _this;
    }
    ManageProjectAdminsComponent.prototype.ngOnInit = function () {
        this.getAssignedProjectAdmins();
    };
    ManageProjectAdminsComponent.prototype.getAssignedProjectAdmins = function () {
        var _this = this;
        this.adminService.getAssignedProjectAdmins(this.selectedProject._id).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.getProjectAdmin });
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_3__["commonResponseErrorHandler"])(error);
        });
    };
    ManageProjectAdminsComponent.prototype.getProjectAdminEvent = function (notification) {
        this.adminDataFetched = true;
        this.assignedAdmins = notification.data.content.userDetails;
    };
    ManageProjectAdminsComponent.prototype.assignOrRemoveProjectAdminEvent = function (notification) {
        this.getAssignedProjectAdmins();
    };
    ManageProjectAdminsComponent.prototype.removeAdmin = function (user) {
        var _this = this;
        this.adminService.addOrRemoveProjectAdmin(user.userId, this.selectedProject._id, false).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.assignOrRemoveProjectAdmin });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_4__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_5__["cmsOperation"].AssignOrRemoveProjectAdmin, _constants__WEBPACK_IMPORTED_MODULE_5__["eventStatus"].Wait, { userName: user.firstName + ' ' + user.lastName, projectName: _this.selectedProject.projectName });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_3__["commonResponseErrorHandler"])(error);
        });
    };
    ManageProjectAdminsComponent.prototype.addAdmin = function (user) {
        var _this = this;
        this.adminService.addOrRemoveProjectAdmin(user.userId, this.selectedProject._id, true).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.assignOrRemoveProjectAdmin });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_4__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_5__["cmsOperation"].AssignOrRemoveProjectAdmin, _constants__WEBPACK_IMPORTED_MODULE_5__["eventStatus"].Wait, { userName: user.firstName + ' ' + user.lastName, projectName: _this.selectedProject.projectName });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_3__["commonResponseErrorHandler"])(error);
        });
    };
    ManageProjectAdminsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-manage-project-admins',
            template: __webpack_require__(/*! ./manage-admins.component.html */ "./src/app/manage-admins/manage-admins.component.html"),
            providers: [_admin_service__WEBPACK_IMPORTED_MODULE_1__["AdminService"]]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _admin_service__WEBPACK_IMPORTED_MODULE_1__["AdminService"], Object])
    ], ManageProjectAdminsComponent);
    return ManageProjectAdminsComponent;
}(_manage_system_admins_component__WEBPACK_IMPORTED_MODULE_6__["ManageSystemAdminsComponent"]));



/***/ }),

/***/ "./src/app/manage-admins/manage-system-admins.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/manage-admins/manage-system-admins.component.ts ***!
  \*****************************************************************/
/*! exports provided: ManageSystemAdminsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManageSystemAdminsComponent", function() { return ManageSystemAdminsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _admin_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./admin.service */ "./src/app/manage-admins/admin.service.ts");
/* harmony import */ var _common_error_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/error-handler */ "./src/app/common/error-handler.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _common_base_params__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/base-params */ "./src/app/common/base-params.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var ManageSystemAdminsComponent = (function (_super) {
    __extends(ManageSystemAdminsComponent, _super);
    function ManageSystemAdminsComponent(injector, parameters) {
        var _this = _super.call(this, injector, { title: parameters ? parameters.title : _constants__WEBPACK_IMPORTED_MODULE_2__["pageTitleList"].manageSystemAdmins }) || this;
        _this.injector = injector;
        _this.parameters = parameters;
        _this.recordsFetched = true;
        _this.topics = _constants__WEBPACK_IMPORTED_MODULE_2__["topics"];
        _this.adminDataFetched = false;
        _this.allowedCmsOperations = [_constants__WEBPACK_IMPORTED_MODULE_2__["cmsOperation"].AssignOrRemoveSystemAdmin];
        _this.adminService = injector.get(_admin_service__WEBPACK_IMPORTED_MODULE_3__["AdminService"]);
        return _this;
    }
    ManageSystemAdminsComponent.prototype.ngOnChanges = function () {
        if (this.selectedTabIndex === 1) {
            this.unsubscribe();
            this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_2__["topics"].SystemAdmin, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_2__["topics"].SystemAdmin, eventName: 'assignOrRemoveSystemAdminEvent' };
            this.subscribeTopic();
            this.getAssignedAdmins();
        }
    };
    ManageSystemAdminsComponent.prototype.getAssignedAdmins = function () {
        var _this = this;
        this.adminService.getAssignedSystemAdmins().then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].operation.getSystemAdmin });
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_4__["commonResponseErrorHandler"])(error);
        });
    };
    ManageSystemAdminsComponent.prototype.getSystemAdminEvent = function (notification) {
        this.adminDataFetched = true;
        this.assignedAdmins = notification.data.content.userDetails;
    };
    ManageSystemAdminsComponent.prototype.getMatchingRecords = function () {
        var _this = this;
        if (this.lastSearchString !== this.filterString) {
            this.filteredUsers = [];
            this.recordsFetched = false;
            this.adminService.getFilteredUsers(this.filterString).then(function (responseId) {
                _this.lastSearchString = _this.filterString;
                _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].operation.getUserDetails });
            }, function (error) {
                var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_4__["commonResponseErrorHandler"])(error);
            });
        }
    };
    ManageSystemAdminsComponent.prototype.getUserDetailsEvent = function (notification) {
        this.recordsFetched = true;
        this.filteredUsers = underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](notification.data.content.userProfiles, function (user) {
            return !this.checkUserAssigned(user);
        }.bind(this));
    };
    ManageSystemAdminsComponent.prototype.checkUserAssigned = function (user) {
        return underscore__WEBPACK_IMPORTED_MODULE_5__["find"](this.assignedAdmins, function (admin) {
            return admin.userId === user.userId;
        }) ? true : false;
    };
    ManageSystemAdminsComponent.prototype.addAdmin = function (user) {
        var _this = this;
        this.adminService.addOrRemoveSystemAdmin(user.userId, true).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].operation.assignOrRemoveSystemAdmin });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_6__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_2__["cmsOperation"].AssignOrRemoveSystemAdmin, _constants__WEBPACK_IMPORTED_MODULE_2__["eventStatus"].Wait, { userName: user.firstName + ' ' + user.lastName });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_4__["commonResponseErrorHandler"])(error);
        });
    };
    ManageSystemAdminsComponent.prototype.removeAdmin = function (user) {
        var _this = this;
        this.adminService.addOrRemoveSystemAdmin(user.userId, false).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].operation.assignOrRemoveSystemAdmin });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_6__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_2__["cmsOperation"].AssignOrRemoveSystemAdmin, _constants__WEBPACK_IMPORTED_MODULE_2__["eventStatus"].Wait, { userName: user.firstName + ' ' + user.lastName });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_4__["commonResponseErrorHandler"])(error);
        });
    };
    ManageSystemAdminsComponent.prototype.assignOrRemoveSystemAdminEvent = function (notification) {
        this.getAssignedAdmins();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], ManageSystemAdminsComponent.prototype, "selectedTabIndex", void 0);
    ManageSystemAdminsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-manage-system-admins',
            template: __webpack_require__(/*! ./manage-admins.component.html */ "./src/app/manage-admins/manage-admins.component.html"),
            providers: [_admin_service__WEBPACK_IMPORTED_MODULE_3__["AdminService"]]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_base_params__WEBPACK_IMPORTED_MODULE_7__["BaseParams"]])
    ], ManageSystemAdminsComponent);
    return ManageSystemAdminsComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/app/manage-node-tag/manage-node-tag.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/manage-node-tag/manage-node-tag.component.ts ***!
  \**************************************************************/
/*! exports provided: ManageNodeTagComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManageNodeTagComponent", function() { return ManageNodeTagComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _common_error_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/error-handler */ "./src/app/common/error-handler.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _tag_view_tag_view_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tag-view/tag-view.service */ "./src/app/tag-view/tag-view.service.ts");
/* harmony import */ var _tags_tagConstants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tags/tagConstants */ "./src/app/tags/tagConstants.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _manage_admins_admin_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../manage-admins/admin.service */ "./src/app/manage-admins/admin.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};











var ManageNodeTagComponent = (function (_super) {
    __extends(ManageNodeTagComponent, _super);
    function ManageNodeTagComponent(injector, tagService, tagCacheService, adminService, data) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_8__["pageTitleList"].manageTagGroupNodeLevel }) || this;
        _this.injector = injector;
        _this.tagService = tagService;
        _this.tagCacheService = tagCacheService;
        _this.adminService = adminService;
        _this.data = data;
        _this.manageTagOperation = _tags_tagConstants__WEBPACK_IMPORTED_MODULE_5__["ManageTagOperation"].ManageNodeTag;
        _this.tagGroupType = _constants__WEBPACK_IMPORTED_MODULE_8__["TagGroupType"];
        _this.tagGroupResponseIdMap = {};
        _this.selectedNode = data.node;
        _this.selectedProject = data.project;
        _this.getAvailableTags();
        _this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_8__["topics"].Node + '/' + _this.selectedNode.nodeId, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_8__["topics"].Node + '/' + _this.selectedNode.nodeId, eventName: 'updateNodeTagList' };
        return _this;
    }
    ManageNodeTagComponent.prototype.ngOnInit = function () {
    };
    ManageNodeTagComponent.prototype.refreshNodesEvent = function (data) {
        this.selectedNode = underscore__WEBPACK_IMPORTED_MODULE_6__["find"](data.value.nodeList, function (node) {
            return node.nodeId === this.selectedNode.nodeId;
        }.bind(this));
        this.getAvailableTags();
    };
    ManageNodeTagComponent.prototype.tagGroupsUpdate = function (data) {
        this.getAvailableTags();
    };
    ManageNodeTagComponent.prototype.getAvailableTags = function () {
        var allTagGroups = this.tagCacheService.getTagGroupsForIds(this.selectedProject.tagGroups);
        this.availableTagGroups = this.tagService.getAvailableTagGroups(allTagGroups, this.selectedNode.tags);
        this.assignedTagGroups = this.tagService.getAssignedTagGroups(allTagGroups, this.selectedNode.tags);
    };
    ManageNodeTagComponent.prototype.addTag = function (tag, tagGroup) {
        var _this = this;
        tag.inProgress = true;
        this.assignedTagGroups = this.assignTagToTagGroup(tag, tagGroup.tagGroupId, this.assignedTagGroups);
        this.availableTagGroups = this.removeTagFromTagGroup(tag.tagId, tagGroup.tagGroupId, this.availableTagGroups);
        var requestObject = { nodeId: this.selectedNode.nodeId, tags: [tag.tagId] };
        this.tagService.addTagsToNode(requestObject).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_8__["applicationConstants"].operation.addTagsToNode });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_9__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_8__["cmsOperation"].AddTagsToNode, _constants__WEBPACK_IMPORTED_MODULE_8__["eventStatus"].Wait, { tagName: tag.tagName, nodeName: _this.selectedNode.shortTitle });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_2__["commonResponseErrorHandler"])(error);
        });
    };
    ManageNodeTagComponent.prototype.assignTagToTagGroup = function (tag, tagGroupId, tagGroups) {
        tagGroups = underscore__WEBPACK_IMPORTED_MODULE_6__["filter"](tagGroups, function (item) {
            if (item.tagGroupId === tagGroupId) {
                item.tags.push(tag);
            }
            return item;
        });
        return tagGroups;
    };
    ManageNodeTagComponent.prototype.removeTagFromTagGroup = function (tagId, tagGroupId, tagGroups) {
        tagGroups = underscore__WEBPACK_IMPORTED_MODULE_6__["filter"](tagGroups, function (item) {
            if (item.tagGroupId === tagGroupId) {
                item.tags = underscore__WEBPACK_IMPORTED_MODULE_6__["filter"](item.tags, function (atag) {
                    if (atag.tagId !== tagId) {
                        return atag;
                    }
                });
            }
            return item;
        });
        return tagGroups;
    };
    ManageNodeTagComponent.prototype.getTagsForNodeEvent = function (notification) {
        this.selectedNode.tags = notification.data.content.tags;
        this.getAvailableTags();
    };
    ManageNodeTagComponent.prototype.checkLimitToOne = function (tagGroup) {
        if (!tagGroup.limitToOne) {
            return true;
        }
        else if (underscore__WEBPACK_IMPORTED_MODULE_6__["find"](this.assignedTagGroups, function (aTagGroup) {
            return aTagGroup.tagGroupId === tagGroup.tagGroupId;
        }).tags.length > 0) {
            return false;
        }
        else {
            return true;
        }
    };
    ManageNodeTagComponent.prototype.removeTag = function (tag, tagGroup) {
        var _this = this;
        tag.inProgress = true;
        this.assignedTagGroups = this.removeTagFromTagGroup(tag.tagId, tagGroup.tagGroupId, this.assignedTagGroups);
        this.availableTagGroups = this.assignTagToTagGroup(tag, tagGroup.tagGroupId, this.availableTagGroups);
        var requestObject = { nodeId: this.selectedNode.nodeId, tags: [tag.tagId] };
        this.tagService.removeTagsFromNode(requestObject).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_8__["applicationConstants"].operation.deleteTagsFromNode });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_9__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_8__["cmsOperation"].DeleteTagsFromNode, _constants__WEBPACK_IMPORTED_MODULE_8__["eventStatus"].Wait, { tagName: tag.tagName, nodeName: _this.selectedNode.shortTitle });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_2__["commonResponseErrorHandler"])(error);
        });
    };
    ManageNodeTagComponent.prototype.getUsers = function (tagGroup, searchString) {
        var _this = this;
        this.adminService.getFilteredUsers(searchString).then(function (responseId) {
            _this.tagGroupResponseIdMap[tagGroup.tagGroupId] = responseId;
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_8__["applicationConstants"].operation.getUserDetails });
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_2__["commonResponseErrorHandler"])(error);
        });
    };
    ManageNodeTagComponent.prototype.getUserDetailsEvent = function (notification) {
        underscore__WEBPACK_IMPORTED_MODULE_6__["each"](this.availableTagGroups, function (tagGroup) {
            if (this.tagGroupResponseIdMap[tagGroup.tagGroupId] === notification.subscriptionTopic) {
                tagGroup.fetchingRecords = false;
                tagGroup.filteredUsers = this.filterUsers(tagGroup.tagGroupId, notification.data.content.userProfiles);
            }
        }.bind(this));
    };
    ManageNodeTagComponent.prototype.filterUsers = function (tagGroupId, users) {
        var assignedTagGroup = underscore__WEBPACK_IMPORTED_MODULE_6__["find"](this.assignedTagGroups, function (tagGroup) {
            return tagGroup.tagGroupId === tagGroupId;
        });
        var assignedUsers = assignedTagGroup.tags ? assignedTagGroup.tags : [];
        return underscore__WEBPACK_IMPORTED_MODULE_6__["filter"](users, function (user) {
            return !this.checkUserAssigned(user, assignedUsers);
        }.bind(this));
    };
    ManageNodeTagComponent.prototype.checkUserAssigned = function (user, assignedUsers) {
        return underscore__WEBPACK_IMPORTED_MODULE_6__["find"](assignedUsers, function (assignedUser) {
            return assignedUser.assigneeUserId === user.userId;
        }) ? true : false;
    };
    ManageNodeTagComponent.prototype.assignUserToNode = function (tagGroup, user) {
        var _this = this;
        var tag = { tagId: '', tagName: user.firstName + ' ' + user.lastName, inProgress: true };
        this.assignedTagGroups = this.assignTagToTagGroup(tag, tagGroup.tagGroupId, this.assignedTagGroups);
        this.availableTagGroups = underscore__WEBPACK_IMPORTED_MODULE_6__["each"](this.availableTagGroups, function (item) {
            if (item.tagGroupId === tagGroup.tagGroupId) {
                tagGroup.filteredUsers = underscore__WEBPACK_IMPORTED_MODULE_6__["filter"](tagGroup.filteredUsers, function (availableUser) {
                    return availableUser.userId !== user.userId;
                });
            }
        });
        var requestObject = { nodeId: this.selectedNode.nodeId, tagGroupId: tagGroup.tagGroupId, assigneeUserId: user.userId };
        this.tagService.addTagsToNode(requestObject).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_8__["applicationConstants"].operation.addTagsToNode });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_9__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_8__["cmsOperation"].AddTagsToNode, _constants__WEBPACK_IMPORTED_MODULE_8__["eventStatus"].Wait, { tagName: user.firstName + ' ' + user.lastName, nodeName: _this.selectedNode.shortTitle });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_2__["commonResponseErrorHandler"])(error);
        });
    };
    ManageNodeTagComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-manage-node-tag',
            template: __webpack_require__(/*! ../tags/manage-project-tag-group.component.html */ "./src/app/tags/manage-project-tag-group.component.html"),
            providers: [_tag_view_tag_view_service__WEBPACK_IMPORTED_MODULE_4__["TagViewService"], _manage_admins_admin_service__WEBPACK_IMPORTED_MODULE_10__["AdminService"]]
        }),
        __param(4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _tag_view_tag_view_service__WEBPACK_IMPORTED_MODULE_4__["TagViewService"],
            _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_3__["TagCacheService"],
            _manage_admins_admin_service__WEBPACK_IMPORTED_MODULE_10__["AdminService"], Object])
    ], ManageNodeTagComponent);
    return ManageNodeTagComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_7__["BaseComponent"]));



/***/ }),

/***/ "./src/app/manage-project-tag-group/filter-tags.pipe.ts":
/*!**************************************************************!*\
  !*** ./src/app/manage-project-tag-group/filter-tags.pipe.ts ***!
  \**************************************************************/
/*! exports provided: FilterTagsPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterTagsPipe", function() { return FilterTagsPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var FilterTagsPipe = (function () {
    function FilterTagsPipe() {
    }
    FilterTagsPipe.prototype.transform = function (tagGroups, searchString) {
        if (!searchString || !tagGroups || tagGroups.length < 1) {
            return tagGroups;
        }
        var filteredTagGroups = JSON.parse(JSON.stringify(tagGroups));
        filteredTagGroups = underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](filteredTagGroups, function (tagGroup) {
            tagGroup.tags = tagGroup.tags.filter(function (object) { return object.tagName.toLowerCase().indexOf(searchString.toLowerCase()) >= 0; });
            return tagGroup;
        });
        return filteredTagGroups;
    };
    FilterTagsPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'filterTags'
        })
    ], FilterTagsPipe);
    return FilterTagsPipe;
}());



/***/ }),

/***/ "./src/app/manage-project-tag-group/manage-project-tag-group.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/manage-project-tag-group/manage-project-tag-group.component.ts ***!
  \********************************************************************************/
/*! exports provided: ManageProjectTagGroupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManageProjectTagGroupComponent", function() { return ManageProjectTagGroupComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _common_error_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/error-handler */ "./src/app/common/error-handler.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _tags_tagConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tags/tagConstants */ "./src/app/tags/tagConstants.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};










var ManageProjectTagGroupComponent = (function (_super) {
    __extends(ManageProjectTagGroupComponent, _super);
    function ManageProjectTagGroupComponent(injector, projectService, tagCacheService, data) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_7__["pageTitleList"].manageTagGroupProjectLevel }) || this;
        _this.injector = injector;
        _this.projectService = projectService;
        _this.tagCacheService = tagCacheService;
        _this.data = data;
        _this.tagGroupType = _constants__WEBPACK_IMPORTED_MODULE_7__["TagGroupType"];
        _this.manageTagOperation = _tags_tagConstants__WEBPACK_IMPORTED_MODULE_6__["ManageTagOperation"].ManageProjectTagGroup;
        _this.selectedProject = data.project;
        _this.getAvailableTagGroups();
        _this.unsubscribe();
        _this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_7__["topics"].Project + '/' + data.project._id, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_7__["topics"].Project + '/' + data.project._id, eventName: 'refreshTagGroupForProject' };
        _this.subscribeTopic();
        return _this;
    }
    ManageProjectTagGroupComponent.prototype.ngOnInit = function () {
    };
    ManageProjectTagGroupComponent.prototype.refreshTagGroupForProject = function () {
        var _this = this;
        var serviceResponse;
        serviceResponse = this.projectService.getTagGroupsForProject(this.selectedProject._id);
        serviceResponse.responseObservable.toPromise().then(function (response) {
            var responseId = response.json().responseId;
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_7__["applicationConstants"].operation.getTagGroupsForProject });
        });
    };
    ManageProjectTagGroupComponent.prototype.tagGroupsUpdate = function (data) {
        this.getAvailableTagGroups();
    };
    ManageProjectTagGroupComponent.prototype.getAvailableTagGroups = function () {
        this.assignedTagGroups = this.tagCacheService.getTagGroupsForIds(this.selectedProject.tagGroups);
        this.availableTagGroups = this.tagCacheService.getExcludedTagGroups(this.selectedProject.tagGroups);
    };
    ManageProjectTagGroupComponent.prototype.addTagGroup = function (tagGroup) {
        var _this = this;
        tagGroup.inProgress = true;
        this.assignedTagGroups.push(tagGroup);
        this.availableTagGroups = underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](this.availableTagGroups, function (item) {
            if (item.tagGroupId !== tagGroup.tagGroupId) {
                return tagGroup;
            }
        });
        var requestObject = { projectId: this.selectedProject._id, tagGroups: [tagGroup.tagGroupId] };
        this.projectService.addTagGroupsToProject(requestObject).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_7__["applicationConstants"].operation.addTagGroupsToProject });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_9__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_7__["cmsOperation"].AddTagGroupsToProject, _constants__WEBPACK_IMPORTED_MODULE_7__["eventStatus"].Wait, { tagGroupName: tagGroup.tagGroupName, projectName: _this.selectedProject.projectName });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_2__["commonResponseErrorHandler"])(error);
        });
    };
    ManageProjectTagGroupComponent.prototype.addTagGroupsToProjectEvent = function () {
        this.refreshTagGroupForProject();
    };
    ManageProjectTagGroupComponent.prototype.getTagGroupsForProjectEvent = function (notification) {
        this.selectedProject.tagGroups = notification.data.content.tagGroups;
        this.emitLocalEvent({ eventName: 'ProjectTagGroupsUpdateEvent', value: this.selectedProject });
        this.getAvailableTagGroups();
    };
    ManageProjectTagGroupComponent.prototype.removeTagGroup = function (tagGroup) {
        var _this = this;
        tagGroup.inProgress = true;
        this.availableTagGroups.push(tagGroup);
        this.assignedTagGroups = underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](this.assignedTagGroups, function (item) {
            if (item.tagGroupId !== tagGroup.tagGroupId) {
                return tagGroup;
            }
        });
        var requestObject = { projectId: this.selectedProject._id, tagGroups: [tagGroup.tagGroupId] };
        this.projectService.removeTagGroupsFromProject(requestObject).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_7__["applicationConstants"].operation.deleteTagGroupsFromProject });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_9__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_7__["cmsOperation"].DeleteTagGroupsFromProject, _constants__WEBPACK_IMPORTED_MODULE_7__["eventStatus"].Wait, { tagGroupName: tagGroup.tagGroupName, projectName: _this.selectedProject.projectName });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_2__["commonResponseErrorHandler"])(error);
        });
    };
    ManageProjectTagGroupComponent.prototype.deleteTagGroupsFromProjectEvent = function (notification) {
        this.refreshTagGroupForProject();
    };
    ManageProjectTagGroupComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-manage-project-tag-group',
            template: __webpack_require__(/*! ../tags/manage-project-tag-group.component.html */ "./src/app/tags/manage-project-tag-group.component.html")
        }),
        __param(3, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"],
            _project_project_service__WEBPACK_IMPORTED_MODULE_4__["ProjectService"], _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_3__["TagCacheService"], Object])
    ], ManageProjectTagGroupComponent);
    return ManageProjectTagGroupComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_8__["BaseComponent"]));



/***/ }),

/***/ "./src/app/manage-tags-to-multiple-nodes/manage-tags-to-multiple-nodes.component.html":
/*!********************************************************************************************!*\
  !*** ./src/app/manage-tags-to-multiple-nodes/manage-tags-to-multiple-nodes.component.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"assign-tags-wrapper\" fxLayout=\"column\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>  {{operation===multipleNodesTaggingOperation.AddTags?'Add tags to multiple nodes':'Remove tags from multiple nodes'}} </h3>\r\n    <button mat-button mat-dialog-close><i class=\"mdi mdi-close mdi-24px\"></i></button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"15px\">\r\n    <div ngClass=\"custom-mat-input-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start start\" fxFlex=\"40px\">\r\n      <i class=\"mat-prefix mdi mdi-magnify mdi-24px\"></i>\r\n      <input type=\"search\" ngClass=\"form-control\" placeholder=\"Search Tags\" fxFlex [(ngModel)]=\"searchString\">\r\n    </div>\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"10px\" fxFlexFill>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"30px\">\r\n        <h2 fxFlex=\"50\">Available Tags</h2>\r\n        <h2 fxFlex=\"50\">Assigned Tags</h2>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"30px\">\r\n        <mat-card fxFlex=\"50\">\r\n          <div slimScroll class=\"manage-project-tag-group\">\r\n            <mat-accordion ngClass=\"custom-mat-accordion\" *ngFor=\"let tagGroup of availableTagGroups  | filterTags:  searchString\">\r\n              <mat-expansion-panel [expanded]=\"true\" *ngIf=\"!tagGroup.isSystemManaged && tagGroup.tagGroupType===tagGroupType.OtherTagGroup\">\r\n                <mat-expansion-panel-header ngClass=\"p-1\" collapsedHeight=\"40px\" expandedHeight=\"40px\">\r\n                  <mat-panel-title fxFlex>\r\n                    <div fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\" fxFlex>\r\n                      <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                        <i [ngStyle]=\"{'color': tagGroup.colour}\" class=\"mdi mdi-tag mdi-18px\"></i>\r\n                        <span>{{tagGroup.tagGroupName}} {{tagGroup.limitToOne ? '(Limit to One)':''}}</span>\r\n                      </div>\r\n                    </div>\r\n                  </mat-panel-title>\r\n                </mat-expansion-panel-header>\r\n                <div fxLayout=\"column\" *ngIf=\"tagGroup.tagGroupType===tagGroupType.OtherTagGroup\">\r\n                  <mat-chip-list ngClass=\"mat-chip-list-stacked\" aria-orientation=\"vertical\">\r\n                    <mat-chip *ngFor=\"let tag of tagGroup.tags\" [ngStyle]=\"{'background-color': tagGroup.colour }\" selected=\"true\" fxLayout=\"row\"\r\n                              fxLayoutGap=\"5px\" fxLayoutAlign=\"start center\">\r\n                      <span>{{tag.tagName}}</span>\r\n                      <i *ngIf=\"checkLimitToOne(tagGroup)\" (click)=\"addTag(tag,tagGroup)\"\r\n                         class=\"mdi mdi-plus-circle mdi-18px\" fxLayoutAlign=\"end\"></i>\r\n                    </mat-chip>\r\n                  </mat-chip-list>\r\n                </div>\r\n              </mat-expansion-panel>\r\n            </mat-accordion>\r\n          </div>\r\n        </mat-card>\r\n        <mat-card fxFlex=\"50\">\r\n          <div slimScroll class=\"manage-project-tag-group\">\r\n            <mat-accordion ngClass=\"custom-mat-accordion\" *ngFor=\"let tagGroup of assignedTagGroups | filterTags:  searchString\">\r\n              <mat-expansion-panel [expanded]=\"true\" *ngIf=\"!tagGroup.isSystemManaged && tagGroup.tagGroupType===tagGroupType.OtherTagGroup\">\r\n                <mat-expansion-panel-header ngClass=\"p-1\" collapsedHeight=\"40px\" expandedHeight=\"40px\">\r\n                  <mat-panel-title fxFlex>\r\n                    <div fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\" fxFlex>\r\n                      <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                        <i [ngStyle]=\"{'color': tagGroup.colour}\" class=\"mdi mdi-tag mdi-18px\"></i>\r\n                        <span>{{tagGroup.tagGroupName}}</span>\r\n                      </div>\r\n                    </div>\r\n                  </mat-panel-title>\r\n                </mat-expansion-panel-header>\r\n                <mat-chip-list ngClass=\"mat-chip-list-stacked\" aria-orientation=\"vertical\" *ngIf=\"tagGroup.tagGroupType===tagGroupType.OtherTagGroup\">\r\n                  <mat-chip *ngFor=\"let tag of tagGroup.tags\" [ngStyle]=\"{'background-color': tagGroup.colour }\" selected=\"true\" fxLayout=\"row\"\r\n                            fxLayoutGap=\"5px\" fxLayoutAlign=\"start center\">\r\n                    <span>{{tag.tagName}}</span>\r\n                    <i (click)=\"removeTag(tag,tagGroup)\" class=\"mdi mdi-close-circle mdi-18px\"\r\n                       fxLayoutAlign=\"end\"></i>\r\n                  </mat-chip>\r\n                </mat-chip-list>\r\n              </mat-expansion-panel>\r\n            </mat-accordion>\r\n          </div>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n\r\n    <div fxLayout=\"column\">\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"5px\" fxFlexOffset=\"10px\">\r\n               <button  mat-raised-button color=\"primary\" (click)=\"addOrRemoveTags()\">\r\n          SUBMIT\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </mat-dialog-content>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/manage-tags-to-multiple-nodes/manage-tags-to-multiple-nodes.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/manage-tags-to-multiple-nodes/manage-tags-to-multiple-nodes.component.ts ***!
  \******************************************************************************************/
/*! exports provided: ManageTagsToMultipleNodesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManageTagsToMultipleNodesComponent", function() { return ManageTagsToMultipleNodesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _tag_view_tag_view_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tag-view/tag-view.service */ "./src/app/tag-view/tag-view.service.ts");
/* harmony import */ var _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../treeview/treeview.service */ "./src/app/treeview/treeview.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var ManageTagsToMultipleNodesComponent = (function (_super) {
    __extends(ManageTagsToMultipleNodesComponent, _super);
    function ManageTagsToMultipleNodesComponent(injector, treeViewService, tagCacheService, dialogRef, data) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_4__["pageTitleList"].manageTagsForMultipleNodes }) || this;
        _this.injector = injector;
        _this.treeViewService = treeViewService;
        _this.tagCacheService = tagCacheService;
        _this.dialogRef = dialogRef;
        _this.data = data;
        _this.tagGroupType = _constants__WEBPACK_IMPORTED_MODULE_4__["TagGroupType"];
        _this.assignedTagGroups = [];
        _this.multipleNodesTaggingOperation = _constants__WEBPACK_IMPORTED_MODULE_4__["MultipleNodesTaggingOperation"];
        _this.selectedNodes = data.nodes;
        _this.selectedProject = data.project;
        _this.operation = data.operation;
        _this.selecetdDistributionId = data.distributionId;
        _this.getAvailableTags();
        _this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_4__["topics"].Node, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_4__["topics"].Node, eventName: undefined };
        _this.getAvailableTags();
        return _this;
    }
    ManageTagsToMultipleNodesComponent.prototype.ngOnInit = function () {
    };
    ManageTagsToMultipleNodesComponent.prototype.getAvailableTags = function () {
        this.availableTagGroups = this.tagCacheService.getTagGroupsForIds(this.selectedProject.tagGroups);
    };
    ManageTagsToMultipleNodesComponent.prototype.addTag = function (tag, tagGroup) {
        if (!underscore__WEBPACK_IMPORTED_MODULE_5__["find"](this.assignedTagGroups, function (atagGroup) { return tagGroup.tagGroupId === atagGroup['tagGroupId']; })) {
            this.assignedTagGroups.push({
                tagGroupName: tagGroup.tagGroupName,
                tagGroupId: tagGroup.tagGroupId,
                colour: tagGroup.colour,
                tagGroupType: tagGroup.tagGroupType,
                tags: []
            });
        }
        this.assignedTagGroups = this.assignTagToTagGroup(tag, tagGroup.tagGroupId, this.assignedTagGroups);
        this.availableTagGroups = this.removeTagFromTagGroup(tag.tagId, tagGroup.tagGroupId, this.availableTagGroups);
    };
    ManageTagsToMultipleNodesComponent.prototype.removeTag = function (tag, tagGroup) {
        this.assignedTagGroups = this.removeTagFromTagGroup(tag.tagId, tagGroup.tagGroupId, this.assignedTagGroups);
        this.availableTagGroups = this.assignTagToTagGroup(tag, tagGroup.tagGroupId, this.availableTagGroups);
    };
    ManageTagsToMultipleNodesComponent.prototype.assignTagToTagGroup = function (tag, tagGroupId, tagGroups) {
        tagGroups = underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](tagGroups, function (item) {
            if (item.tagGroupId === tagGroupId) {
                item.tags.push(tag);
            }
            return item;
        });
        return tagGroups;
    };
    ManageTagsToMultipleNodesComponent.prototype.removeTagFromTagGroup = function (tagId, tagGroupId, tagGroups) {
        tagGroups = underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](tagGroups, function (item) {
            if (item.tagGroupId === tagGroupId) {
                item.tags = underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](item.tags, function (atag) {
                    if (atag.tagId !== tagId) {
                        return atag;
                    }
                });
            }
            return item;
        });
        return tagGroups;
    };
    ManageTagsToMultipleNodesComponent.prototype.checkLimitToOne = function (tagGroup) {
        if (!tagGroup.limitToOne) {
            return true;
        }
        var assignedTagGroup = underscore__WEBPACK_IMPORTED_MODULE_5__["find"](this.assignedTagGroups, function (aTagGroup) {
            return aTagGroup.tagGroupId === tagGroup.tagGroupId;
        });
        if (assignedTagGroup && assignedTagGroup.tags.length > 0) {
            return false;
        }
        else {
            return true;
        }
    };
    ManageTagsToMultipleNodesComponent.prototype.addOrRemoveTags = function () {
        var tags = [];
        var nodes = [];
        underscore__WEBPACK_IMPORTED_MODULE_5__["each"](this.assignedTagGroups, function (tagGroup) {
            underscore__WEBPACK_IMPORTED_MODULE_5__["each"](tagGroup.tags, function (tag) {
                tags.push(tag.tagId);
            });
        });
        underscore__WEBPACK_IMPORTED_MODULE_5__["each"](this.selectedNodes, function (node) {
            nodes.push(node.data.documentId);
        });
        if (this.operation === _constants__WEBPACK_IMPORTED_MODULE_4__["MultipleNodesTaggingOperation"].AddTags) {
            this.addTagsToMultipleNodes(tags, nodes);
        }
        else {
            this.removeTagsFromMultipleNodes(tags, nodes);
        }
        this.dialogRef.close();
    };
    ManageTagsToMultipleNodesComponent.prototype.addTagsToMultipleNodes = function (tags, nodes) {
        var requestObject = {
            nodes: nodes,
            tags: tags,
            distributionId: this.selecetdDistributionId
        };
        this.treeViewService.addTagsToMultipleNodes(requestObject);
    };
    ManageTagsToMultipleNodesComponent.prototype.removeTagsFromMultipleNodes = function (tags, nodes) {
        var requestObject = {
            nodes: nodes,
            tags: tags,
            distributionId: this.selecetdDistributionId
        };
        this.treeViewService.removeTagsFromMultipleNodes(requestObject);
    };
    ManageTagsToMultipleNodesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-manage-tags-to-multiple-nodes',
            template: __webpack_require__(/*! ./manage-tags-to-multiple-nodes.component.html */ "./src/app/manage-tags-to-multiple-nodes/manage-tags-to-multiple-nodes.component.html"),
            providers: [_tag_view_tag_view_service__WEBPACK_IMPORTED_MODULE_6__["TagViewService"]]
        }),
        __param(4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_7__["TreeViewService"],
            _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_2__["TagCacheService"], _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], ManageTagsToMultipleNodesComponent);
    return ManageTagsToMultipleNodesComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_3__["BaseComponent"]));



/***/ }),

/***/ "./src/app/manage-tags/manage-tags.component.html":
/*!********************************************************!*\
  !*** ./src/app/manage-tags/manage-tags.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"manage-tags-wrapper\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>Manage Tags</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <form fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n    <mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <mat-list ngClass=\"\" fxLayout=\"column\">\r\n        <h3 matSubheader>{{tagGroup.tagGroupName}}</h3>\r\n        <h3 matSubheader fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n          <div ngClass=\"custom-mat-input-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <i class=\"mat-prefix mdi mdi-magnify mdi-24px\"></i>\r\n            <input type=\"search\" [(ngModel)]=\"searchString\" ngClass=\"form-control\" name=\"searchString\" placeholder=\"Search Tags\">\r\n          </div>\r\n          <button ngClass=\"secondary-btn\" mat-raised-button [fxHide]=\"!isOperationAllowed([cmsOperations.CreateTag])\" (click)=\"createNewTag=true;newTagName='';refreshSelectedTag();\">ADD TAG</button>\r\n        </h3>\r\n        <div fxLayout=\"column\">\r\n          <mat-list-item fxFlex *ngIf=\"createNewTag\" fxFlexFill class=\"mt-5\">\r\n            <div ngClass=\"tag-editing\" fxLayout=\"column\" fxFlex fxLayoutGap=\"5px\">\r\n              <div ngClass=\"custom-mat-input-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex>\r\n                <input type=\"text\" ngClass=\"form-control\" maxlength=\"100\" name=\"newTagName\" [(ngModel)]=\"newTagName\" (keyup)=\"checkValidName(newTagName)\"\r\n                  fxFlex>\r\n                <i class=\"mat-suffix mdi mdi-check mdi-24px cursor-pointer\" [fxShow]=\"isValidTagName && newTagName.length>0 && isOperationAllowed([cmsOperations.CreateTag])\"\r\n                  (click)=\"addNewTag();createNewTag=false\"></i>\r\n                <i class=\"mat-suffix mdi mdi-close mdi-24px cursor-pointer\" (click)=\"createNewTag=false\"></i>\r\n                <small matSuffix>{{newTagName?.length||0}}/100</small>\r\n              </div>\r\n              <div class=\"mb-5\" [fxShow]=\"(newTagName.length<1 || !isValidTagName)\">\r\n                <mat-error [fxShow]=\"newTagName.length<1\">Tag Name is required</mat-error>\r\n                <mat-error *ngIf=\"!isValidTagName\">Tag Name already exists</mat-error>\r\n              </div>\r\n            </div>\r\n          </mat-list-item>\r\n\r\n          <div fxFlexFill slimScroll fxLayout=\"column\" class=\"scroll-wrapper\">\r\n            <mat-list-item fxFlex *ngFor=\"let tag of tags | sort: 'tagName'| filter: 'tagName': searchString\" class=\"mt-5\">\r\n              <div ngClass=\"tag-editing\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex>\r\n                <div *ngIf=\"tag.tagId!=selectedTag.tagId\" fxLayout=\"row\" FxLayoutAlign=\"space-between center\" fxFlex>\r\n                  <span>{{tag.tagName}}</span>\r\n                </div>\r\n                <div *ngIf=\"tag.tagId==selectedTag.tagId\" fxLayout=\"column\" fxFlex fxLayoutGap=\"5px\">\r\n                  <div ngClass=\"custom-mat-input-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex>\r\n                    <input type=\"text\" ngClass=\"form-control\" maxlength=\"100\" name=\"tagName\" [(ngModel)]=\"selectedTag.tagName\" (keyup)=\"checkValidName(selectedTag)\"\r\n                      fxFlex>\r\n                    <i class=\"mat-suffix mdi mdi-check mdi-24px cursor-pointer\" [fxShow]=\"isValidTagName && selectedTag.tagName.length>0 && isOperationAllowed([cmsOperations.CreateTag])\"\r\n                      (click)=\"editTag(); $event.stopPropagation();\"></i>\r\n                    <i class=\"mat-suffix mdi mdi-close mdi-24px cursor-pointer\" (click)=\"refreshSelectedTag(); $event.stopPropagation();\"></i>\r\n                    <small matSuffix>{{selectedTag.tagName?selectedTag.tagName.length:0}}/100</small>\r\n                  </div>\r\n                  <div class=\"mb-5\" [fxShow]=\"(selectedTag.tagName.length<1 || !isValidTagName)\">\r\n                    <mat-error [fxShow]=\"selectedTag.tagName.length<1\">Tag Name is required</mat-error>\r\n                    <mat-error *ngIf=\"!isValidTagName\">Tag Name already exists</mat-error>\r\n                  </div>\r\n                </div>\r\n                <mat-icon (click)=\"setSelectedTag(tag)\" class=\"cursor-pointer\" [fxShow]=\"tag.tagId!=selectedTag.tagId && isOperationAllowed([cmsOperations.CreateTag])\">\r\n                  <i class=\"mdi mdi-pencil mdi-24px\"></i>\r\n                </mat-icon>\r\n                <mat-icon *ngIf=\"!tag.inProgress\" (click)=\"deleteTag(tag)\" class=\"cursor-pointer\">\r\n                  <i class=\"mdi mdi-delete mdi-24px\"></i>\r\n                </mat-icon>\r\n                <mat-spinner *ngIf=\"tag.inProgress\" style=\"float:right;\" ngClass=\"tag-view-loader\"></mat-spinner>\r\n              </div>\r\n            </mat-list-item>\r\n          </div>\r\n        </div>\r\n      </mat-list>\r\n    </mat-dialog-content>\r\n  </form>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/manage-tags/manage-tags.component.ts":
/*!******************************************************!*\
  !*** ./src/app/manage-tags/manage-tags.component.ts ***!
  \******************************************************/
/*! exports provided: ManageTagsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManageTagsComponent", function() { return ManageTagsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _delete_tag_confirmation_dialog_delete_tag_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../delete-tag-confirmation-dialog/delete-tag-confirmation-dialog.component */ "./src/app/delete-tag-confirmation-dialog/delete-tag-confirmation-dialog.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var ManageTagsComponent = (function (_super) {
    __extends(ManageTagsComponent, _super);
    function ManageTagsComponent(injector, tagCacheService, dialog, data) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_3__["pageTitleList"].manageTags }) || this;
        _this.injector = injector;
        _this.tagCacheService = tagCacheService;
        _this.dialog = dialog;
        _this.data = data;
        _this.isValidTagName = true;
        _this.createNewTag = false;
        _this.newTagName = '';
        _this.selectedTag = { tagId: '', tagName: '' };
        _this.tagGroup = data;
        _this.getTags();
        return _this;
    }
    ManageTagsComponent.prototype.ngOnInit = function () {
        this.refreshSelectedTag();
    };
    ManageTagsComponent.prototype.getTags = function () {
        this.tags = this.tagCacheService.getTags(this.tagGroup.tagGroupId);
    };
    ManageTagsComponent.prototype.addNewTag = function () {
        var _this = this;
        this.tagCacheService.postTag(this.tagGroup, { tagName: this.newTagName }).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].operation.createTag });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_3__["cmsOperation"].CreateTag, _constants__WEBPACK_IMPORTED_MODULE_3__["eventStatus"].Wait, { tagName: _this.newTagName, tagGroupName: _this.tagGroup.tagGroupName });
            _this.addOperationEvent(operation);
        });
    };
    ManageTagsComponent.prototype.tagGroupsUpdate = function () {
        this.getTags();
    };
    ManageTagsComponent.prototype.createTagEvent = function (notification) {
        this.emitLocalEvent({ eventName: 'getTagGroupList', value: undefined });
        this.getTags();
    };
    ManageTagsComponent.prototype.editTag = function () {
        var _this = this;
        this.tagCacheService.editTag(this.tagGroup, { tagId: this.selectedTag.tagId, tagName: this.selectedTag.tagName }).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].operation.editTag });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_5__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_3__["cmsOperation"].EditTag, _constants__WEBPACK_IMPORTED_MODULE_3__["eventStatus"].Wait, { tagName: _this.selectedTag.tagName, tagGroupName: _this.tagGroup.tagGroupName });
            _this.addOperationEvent(operation);
        });
        this.refreshSelectedTag();
    };
    ManageTagsComponent.prototype.editTagEvent = function () {
        this.emitLocalEvent({ eventName: 'getTagGroupList', value: undefined });
        this.getTags();
    };
    ManageTagsComponent.prototype.checkValidName = function (tag) {
        if (this.tagCacheService.tagNameExists(tag, this.tagGroup.tagGroupId)) {
            this.isValidTagName = false;
        }
        else {
            this.isValidTagName = true;
        }
    };
    ManageTagsComponent.prototype.setSelectedTag = function (tag) {
        if (tag.inProgress) {
            return;
        }
        this.createNewTag = false;
        this.isValidTagName = true;
        this.selectedTag.tagId = tag.tagId;
        this.selectedTag.tagName = tag.tagName;
    };
    ManageTagsComponent.prototype.refreshSelectedTag = function () {
        this.isValidTagName = true;
        this.selectedTag.tagId = '';
        this.selectedTag.tagName = '';
    };
    ManageTagsComponent.prototype.deleteTag = function (tag) {
        this.dialog.open(_delete_tag_confirmation_dialog_delete_tag_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_6__["DeleteTagConfirmationDialogComponent"], { data: tag, width: '700px', height: '300px' });
    };
    ManageTagsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-manage-tags',
            template: __webpack_require__(/*! ./manage-tags.component.html */ "./src/app/manage-tags/manage-tags.component.html"),
        }),
        __param(3, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"],
            _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_2__["TagCacheService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"], Object])
    ], ManageTagsComponent);
    return ManageTagsComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_4__["BaseComponent"]));



/***/ }),

/***/ "./src/app/media/asset.ts":
/*!********************************!*\
  !*** ./src/app/media/asset.ts ***!
  \********************************/
/*! exports provided: Asset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Asset", function() { return Asset; });
var Asset = (function () {
    function Asset() {
        this.assetId = '';
        this.assetType = '';
        this.unityProjectSource = '';
        this.fileName = '';
        this.fileSize = '';
        this.assetContent = '';
        this.instructionsToReCreateImage = '';
        this.depicted = '';
        this.altTitle = '';
        this.description = '';
        this.uploadedBy = '';
        this.uploadedDate = '';
    }
    return Asset;
}());



/***/ }),

/***/ "./src/app/media/media.component.html":
/*!********************************************!*\
  !*** ./src/app/media/media.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"content-body-wrapper media-wrapper\" fxLayout=\"column\" fxFlexFill fxLayoutAlign=\"start stretch\">\r\n    <div ngClass=\"content-header docworksDarkTheme\" fxLayout=\"column\" fxFlex=\"60px\">\r\n      <mat-toolbar color=\"primary\" fxFlex=\"60px\">\r\n        <div fxLayout=\"row\" class=\"content-toolbar\" fxFlexFill fxLayoutAlign=\"space-between stretch\">\r\n          <mat-tab-group fxFlexAlign=\"end\" (selectedTabChange)=\"changeAssetType($event)\">\r\n            <mat-tab label=\"Images\"></mat-tab>\r\n            <mat-tab label=\"Code Blocks\"></mat-tab>\r\n          </mat-tab-group>\r\n          <form [formGroup]=\"assetSearchForm\" ngClass=\"inner-page-search-wrapper\" fxFlex=\"500px\" fxFlexAlign=\"center\">\r\n            <div fxFlex fxLayoutAlign=\"stretch center\" fxLayoutGap=\"5px\">\r\n              <div fxFlex>\r\n                <button mat-raised-button [matMenuTriggerFor]=\"menu\">{{filterType==1?'Asset Id':'Asset Text'}}\r\n                  <i class=\"mdi mdi-menu-down\"></i>\r\n                </button>\r\n                <mat-menu #menu=\"matMenu\" xPosition=\"before\" yPosition=\"below\" [overlapTrigger]=\"false\">\r\n                  <button mat-menu-item (click)=\"filterType=1\">Asset Id</button>\r\n                  <button mat-menu-item (click)=\"filterType=2\">Asset Text</button>\r\n                </mat-menu>\r\n               \r\n                <input type=\"Search\" ngClass=\"form-control\" fxFlex [formControl]=\"searchText\" maxlength=\"100\">\r\n              </div>\r\n              <button mat-raised-button>\r\n                <i class=\"mdi mdi-magnify mdi-24px\" (click)=\"searchAsset()\"></i>\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </mat-toolbar>\r\n    </div>\r\n  \r\n    <div ngClass=\"content-body\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxFlex=\"100\">\r\n      <div ngClass=\"content-body-left\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlex=\"50\">\r\n        <mat-tab-group (selectedTabChange)=\"filterAsset($event)\">\r\n          <mat-tab label=\"Recently Uploaded\"></mat-tab>\r\n          <mat-tab label=\"Uploaded By Me\"></mat-tab>\r\n        </mat-tab-group>\r\n        <div fxLayoutAlign=\"start stretch\" fxFlex>\r\n          <app-dam-drag-and-drop [viewType]=\"dragDropComponentViewType.uploadView\" [assetData]=\"assetArray\" (onFileSelect)=\"upsertAsset($event)\" (onScroll)=\"scrolldown($event)\" (getAsset)=\"getAssetProperties($event)\"\r\n            [assetType]=\"assetType\" [isDataLoading]=\"isLoading\" [isAssetAdded]=\"isAssetAdded\" [selectedAssetId]=\"selectedAssetId\" fxFlex [(isAssetUploading)]=\"isAssetUploadInProgress\"></app-dam-drag-and-drop>\r\n        </div>\r\n      </div>\r\n      <div ngClass=\"content-body-right\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlex=\"50\">\r\n        <div fxFlex>\r\n          <app-dam-drag-and-drop [viewType]=\"dragDropComponentViewType.replaceView\" [assetData]=\"assetDetail\" (onFileSelect)=\"upsertAsset($event)\" (onScroll)=\"scrolldown($event)\" [isDataLoading]=\"isAssetDetailLoading\"\r\n            [assetType]=\"assetType\" [selectedAssetId]=\"selectedAssetId\" [isAssetAdded]=\"false\" [(isAssetUploading)]=\"isAssetReplaceInProgress\"></app-dam-drag-and-drop>\r\n        </div>\r\n  \r\n        <div ngClass=\"media-preview-header\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex=\"50px\">\r\n          <mat-tab-group>\r\n            <mat-tab label=\"FILE INFORMATION\"></mat-tab>\r\n            <mat-tab label=\"HISTORY\"></mat-tab>\r\n          </mat-tab-group>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"20px\" fxLayoutAlign=\"start center\">\r\n            <a href=\"{{assetDetail.assetContent}}\" target=\"_blank\" *ngIf=\"assetDetail.assetType?assetDetail.assetType.toString():'' === constAssetType.image.toString()\">\r\n              <span>View Full Size Image</span>\r\n            </a>\r\n            <button mat-raised-button color=\"primary\" *ngIf=\"assetDetail && assetDetail.assetId\">\r\n              <div fxLayout=\"row\" fxLayoutGap=\"3px\" fxLayoutAlign=\"start center\" (click)=\"(isAssetDetailLoading || isUpdateInProgress)?'':updateAssetData()\">\r\n                <i class=\"mdi mdi-pencil mdi-18px\"></i>\r\n                <span>{{isEditProperties?'Update':'Edit'}}</span>\r\n              </div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <app-asset-properties fxLayout=\"column\" fxFlex=\"100\" [assetDetail]=\"assetDetail\" [isUpdateInProgress]=\"isUpdateInProgress\"\r\n          [isDataLoading]=\"isAssetDetailLoading\" [isEditProperties]=\"isEditProperties\" [(isAssetReplaceInProgress)]=\"isAssetReplaceInProgress\"></app-asset-properties>\r\n      </div>\r\n  \r\n    </div>\r\n  </div>\r\n"

/***/ }),

/***/ "./src/app/media/media.component.ts":
/*!******************************************!*\
  !*** ./src/app/media/media.component.ts ***!
  \******************************************/
/*! exports provided: MediaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MediaComponent", function() { return MediaComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _media_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media.service */ "./src/app/media/media.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _asset__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./asset */ "./src/app/media/asset.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_8__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var MediaComponent = (function (_super) {
    __extends(MediaComponent, _super);
    function MediaComponent(injector, mediaService, formBuilder) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.mediaService = mediaService;
        _this.formBuilder = formBuilder;
        _this.assetArray = [];
        _this.assetType = _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].assetType.image;
        _this.constAssetType = _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].assetType;
        _this.filterQuery = _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].assetViewType.recentAssets;
        _this.assetDetail = new _asset__WEBPACK_IMPORTED_MODULE_4__["Asset"]();
        _this.isLoading = false;
        _this.isAssetDetailLoading = false;
        _this.isEditProperties = false;
        _this.isUpdateInProgress = false;
        _this.pageNumber = 1;
        _this.filterType = _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].filterType.ByText;
        _this.pageSize = _environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].pageSize;
        _this.dragDropComponentViewType = _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].dragDropComponentViewType;
        _this.searchText = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        _this.searchType = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        _this.createSearchForm();
        return _this;
    }
    MediaComponent.prototype.ngOnInit = function () {
        this.subscribeTabs();
        this.isAssetAdded = false;
    };
    MediaComponent.prototype.createSearchForm = function () {
        this.assetSearchForm = this.formBuilder.group({
            searchText: this.searchText,
            searchType: this.searchType
        });
    };
    MediaComponent.prototype.subscribeTabs = function () {
        this.unsubscribe();
        this.topic = [{ value: _constants__WEBPACK_IMPORTED_MODULE_5__["topics"].Asset + '/' + this.assetType, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_5__["topics"].Asset + '/' + this.assetType, eventName: 'assetChangeEvent' }];
        this.subscribeTopic();
        this.searchAsset();
    };
    MediaComponent.prototype.assetChangeEvent = function () {
        this.isAssetAdded = true;
    };
    MediaComponent.prototype.searchAsset = function () {
        if (!this.assetSearchForm.value.searchText) {
            this.filterType = _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].filterType.ByText;
        }
        this.pageNumber = 1;
        this.assetArray = [];
        this.assetDetail = new _asset__WEBPACK_IMPORTED_MODULE_4__["Asset"]();
        this.selectedAssetId = undefined;
        this.copyToClipboardText = '';
        this.getAllAssets();
    };
    MediaComponent.prototype.changeAssetType = function (event) {
        this.isLoading = false;
        this.assetType = event.index === 0 ? _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].assetType.image : event.index === 1 ? _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].assetType.codeSnippet : _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].assetType.binary;
        this.subscribeTabs();
    };
    MediaComponent.prototype.filterAsset = function (event) {
        this.filterQuery = event.index === 0 ? _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].assetViewType.recentAssets : _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].assetViewType.myAssets;
        this.searchAsset();
    };
    MediaComponent.prototype.getAllAssets = function () {
        var _this = this;
        this.isAssetAdded = false;
        if (!this.isLoading) {
            this.isLoading = true;
            var querystring = 'AssetType=' + this.assetType + '&AssetView=' + this.filterQuery + '&FilterType=' + this.filterType + '&SearchText=' + this.assetSearchForm.value.searchText + '&PageNumber=' + this.pageNumber + '&SortByField=UploadedDate&PageSize=' + this.pageSize + '&SortOrder=0';
            this.mediaService.getAssets(querystring).then(function (responseId) {
                _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.searchAssets });
            }, function (error) {
                _this.isLoading = false;
            });
        }
    };
    MediaComponent.prototype.searchAssetsEvent = function (notification) {
        if (notification.data.content && (notification.data.content.assetType === this.assetType && notification.data.content.assetView === this.filterQuery) && notification.data.content.assetsList && notification.data.content.assetsList.length > 0) {
            this.isLoading = false;
            this.pageNumber++;
            if (this.assetArray && this.assetArray.length > 0) {
                underscore__WEBPACK_IMPORTED_MODULE_8__["each"](notification.data.content.assetsList, function (asset) {
                    this.assetArray.push(asset);
                }.bind(this));
            }
            else {
                this.assetArray = notification.data.content.assetsList;
            }
            if (this.assetArray && this.assetArray.length > 0 && !this.selectedAssetId) {
                this.getAssetProperties(this.assetArray[0]);
                this.selectedAssetId = this.assetArray[0].assetId;
            }
        }
    };
    MediaComponent.prototype.getAssetProperties = function (asset) {
        this.getAssetById(asset.assetId);
    };
    MediaComponent.prototype.getAssetById = function (id) {
        var _this = this;
        this.copyToClipboardText = '';
        this.unsubscribe();
        this.topic = [
            { value: _constants__WEBPACK_IMPORTED_MODULE_5__["topics"].Asset + '/' + this.assetType, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_5__["topics"].Asset + '/' + this.assetType, eventName: 'assetChangeEvent' },
            { value: _constants__WEBPACK_IMPORTED_MODULE_5__["topics"].Asset + '/' + id, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_5__["topics"].Asset + '/' + id, eventName: 'assetChangeEvent' }
        ];
        this.subscribeTopic();
        this.isAssetDetailLoading = true;
        this.assetDetail = new _asset__WEBPACK_IMPORTED_MODULE_4__["Asset"]();
        this.mediaService.getAsset(id).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.getAsset });
        }, function (error) {
            _this.isAssetDetailLoading = false;
        });
    };
    MediaComponent.prototype.getAssetEvent = function (notification) {
        this.isEditProperties = false;
        this.isAssetDetailLoading = false;
        this.isUpdateInProgress = false;
        this.copyToClipboardText = undefined;
        this.isValueCopied = false;
        if (notification.data.content.assetType === this.assetType) {
            this.assetDetail = notification.data.content;
            if (this.assetDetail.assetType.toString() === _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].assetType.codeSnippet.toString()) {
                this.assetDetail.assetContent = this.assetDetail.assetContent;
                this.copyToClipboardText = _constants__WEBPACK_IMPORTED_MODULE_5__["assetTags"].assetCodeStart + this.assetDetail.assetId + _constants__WEBPACK_IMPORTED_MODULE_5__["assetTags"].assetCodeEnd;
            }
            else {
                this.copyToClipboardText = _constants__WEBPACK_IMPORTED_MODULE_5__["assetTags"].assetImageStart + this.assetDetail.assetId + _constants__WEBPACK_IMPORTED_MODULE_5__["assetTags"].assetImageEnd;
            }
        }
    };
    MediaComponent.prototype.updateAssetData = function () {
        var _this = this;
        if (this.isEditProperties) {
            this.isUpdateInProgress = true;
            this.mediaService.updateAssetProperties(this.assetDetail).then(function (responseId) {
                _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.updateAssetProperties });
                var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_6__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_5__["cmsOperation"].UpdateAssetProperties, _constants__WEBPACK_IMPORTED_MODULE_5__["eventStatus"].Wait, { fileName: _this.assetDetail.fileName });
                _this.addOperationEvent(operation);
            }, function (error) {
                _this.isUpdateInProgress = false;
            });
        }
        else {
            this.isEditProperties = !this.isEditProperties;
        }
    };
    MediaComponent.prototype.updateAssetPropertiesEvent = function (notification) {
        this.isEditProperties = !this.isEditProperties;
        this.isUpdateInProgress = false;
        if (this.assetDetail.assetId) {
            this.getAssetById(this.assetDetail.assetId);
        }
    };
    MediaComponent.prototype.upsertAsset = function (asset) {
        var _this = this;
        if (asset.assetId) {
            this.isAssetReplaceInProgress = true;
        }
        else {
            this.isAssetUploadInProgress = true;
        }
        this.mediaService.uploadAsset(asset).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.upsertAsset });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_6__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_5__["cmsOperation"].UpsertAsset, _constants__WEBPACK_IMPORTED_MODULE_5__["eventStatus"].Wait, { assetName: asset.fileName });
            _this.addOperationEvent(operation);
            _this.isAssetReplaceInProgress = false;
            _this.isAssetUploadInProgress = false;
        }, function (error) {
            _this.isAssetReplaceInProgress = false;
            _this.isAssetUploadInProgress = false;
        });
    };
    MediaComponent.prototype.upsertAssetEvent = function (notification) {
        this.isAssetAdded = true;
        this.isAssetReplaceInProgress = false;
        this.isAssetUploadInProgress = false;
        if (notification.data && this.assetDetail.assetId === notification.data.content.assetId) {
            this.assetDetail = notification.data.content;
            this.isEditProperties = false;
            var updatedAsset = underscore__WEBPACK_IMPORTED_MODULE_8__["find"](this.assetArray, function (value) {
                return value.assetId === this.assetDetail.assetId;
            }.bind(this));
            if (updatedAsset) {
                updatedAsset.fileName = this.assetDetail.fileName;
                updatedAsset.fileSize = this.assetDetail.fileSize;
                updatedAsset.assetContent = this.assetDetail.assetContent;
            }
        }
    };
    MediaComponent.prototype.scrolldown = function (value) {
        if (value) {
            this.getAllAssets();
        }
    };
    MediaComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-media',
            template: __webpack_require__(/*! ./media.component.html */ "./src/app/media/media.component.html"),
            providers: [_media_service__WEBPACK_IMPORTED_MODULE_1__["MediaService"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _media_service__WEBPACK_IMPORTED_MODULE_1__["MediaService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"]])
    ], MediaComponent);
    return MediaComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_7__["BaseComponent"]));



/***/ }),

/***/ "./src/app/media/media.service.ts":
/*!****************************************!*\
  !*** ./src/app/media/media.service.ts ***!
  \****************************************/
/*! exports provided: MediaService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MediaService", function() { return MediaService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MediaService = (function () {
    function MediaService(httpService) {
        this.httpService = httpService;
    }
    MediaService.prototype.getAsset = function (id) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/assets/' + id).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    MediaService.prototype.getAssets = function (querystring) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/assets/search?' + querystring).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    MediaService.prototype.uploadAsset = function (asset) {
        if (asset.assetId) {
            return this.httpService.put(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/assets/', asset).toPromise().then(function (response) {
                return response.json().responseId;
            });
        }
        else {
            return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/assets/', asset).toPromise().then(function (response) {
                return response.json().responseId;
            });
        }
    };
    MediaService.prototype.updateAssetProperties = function (asset) {
        return this.httpService.put(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/assets/UpdateAssetProperties/', asset).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    MediaService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"]])
    ], MediaService);
    return MediaService;
}());



/***/ }),

/***/ "./src/app/metrics-access-execution/metrics-access-execution.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/metrics-access-execution/metrics-access-execution.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p-chart fxFlex=\"80%\" class=\"content-chart\" type=\"line\" [fxShow]=\"graphType===1\" [data]=\"executionMetrics\" width=\"55vw\"></p-chart>\r\n<p-chart fxFlex=\"80%\" class=\"content-chart\" type=\"bar\" [fxShow]=\"graphType===2\" [data]=\"executionMetrics\" width=\"55vw\"></p-chart>\r\n<div fxFlex=\"20%\" fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n  <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"10px\" class=\"mt-10 mr-10 metrics-icons\">\r\n    <i class=\"mdi mdi-chart-bar  mdi-24px cursor-pointer\" ngClass=\"{{graphType===1?'active':''}}\" (click)=\"changeGraphType(1)\"></i>\r\n    <i class=\"mdi mdi-chart-line mdi-24px cursor-pointer\" ngClass=\"{{graphType===2?'active':''}}\" (click)=\"changeGraphType(2)\"></i>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "./src/app/metrics-access-execution/metrics-access-execution.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/metrics-access-execution/metrics-access-execution.component.ts ***!
  \********************************************************************************/
/*! exports provided: MetricsAccessExecutionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetricsAccessExecutionComponent", function() { return MetricsAccessExecutionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../analytics/analytics.service */ "./src/app/analytics/analytics.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MetricsAccessExecutionComponent = (function (_super) {
    __extends(MetricsAccessExecutionComponent, _super);
    function MetricsAccessExecutionComponent(injector, analyticsService) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.analyticsService = analyticsService;
        _this.graphType = 1;
        _this.setStaticData();
        return _this;
    }
    MetricsAccessExecutionComponent.prototype.ngOnChanges = function (changes) {
        if (changes['query']) {
        }
    };
    MetricsAccessExecutionComponent.prototype.changeGraphType = function (graphType) {
        this.graphType = graphType;
    };
    MetricsAccessExecutionComponent.prototype.getAccessExecutionMetrics = function () {
        var _this = this;
        this.analyticsService.getAccessExecutionMetrics(this.query).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].operation.getAccessExecutionMetrics });
        });
    };
    MetricsAccessExecutionComponent.prototype.GetAccessExecutionMetrics = function (notification) {
        this.executionMetrics = notification.data.content.data;
    };
    MetricsAccessExecutionComponent.prototype.setStaticData = function () {
        this.executionMetrics = {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [
                {
                    label: 'Access Time',
                    data: [65, 59, 80, 81, 56, 55, 40],
                    fill: false,
                    borderColor: '#000000',
                    backgroundColor: '#000000',
                },
                {
                    label: 'Execution Time',
                    data: [28, 48, 40, 19, 86, 27, 90],
                    fill: false,
                    backgroundColor: '#1c9ad5',
                    borderColor: '#1c9ad5'
                }
            ]
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], MetricsAccessExecutionComponent.prototype, "query", void 0);
    MetricsAccessExecutionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-metrics-access-execution',
            template: __webpack_require__(/*! ./metrics-access-execution.component.html */ "./src/app/metrics-access-execution/metrics-access-execution.component.html"),
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_2__["AnalyticsService"]])
    ], MetricsAccessExecutionComponent);
    return MetricsAccessExecutionComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/app/metrics-cache/metrics-cache.component.html":
/*!************************************************************!*\
  !*** ./src/app/metrics-cache/metrics-cache.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"content-chart\">\r\n  <p-chart type=\"doughnut\" [data]=\"cacheMetrics\"></p-chart>\r\n</div>"

/***/ }),

/***/ "./src/app/metrics-cache/metrics-cache.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/metrics-cache/metrics-cache.component.ts ***!
  \**********************************************************/
/*! exports provided: MetricsCacheComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetricsCacheComponent", function() { return MetricsCacheComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../analytics/analytics.service */ "./src/app/analytics/analytics.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MetricsCacheComponent = (function (_super) {
    __extends(MetricsCacheComponent, _super);
    function MetricsCacheComponent(injector, analyticsService) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.analyticsService = analyticsService;
        _this.setStaticData();
        return _this;
    }
    MetricsCacheComponent.prototype.ngOnChanges = function (changes) {
        if (changes['query']) {
        }
    };
    MetricsCacheComponent.prototype.getCacheMetrics = function () {
        var _this = this;
        this.analyticsService.getCacheMetrics(this.query).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].operation.getCacheMetrics });
        });
    };
    MetricsCacheComponent.prototype.GetCacheMetrics = function (notification) {
        this.cacheMetrics = notification.data.content.data;
    };
    MetricsCacheComponent.prototype.setStaticData = function () {
        this.cacheMetrics = {
            labels: [
                'Frontend Only',
                'Backend Only',
                'Backend and Stale Frontend Used',
                'Frontend + Backend Used',
                'No Cache',
                'Stale Frontend Only'
            ],
            datasets: [
                {
                    data: [300, 50, 100, 150, 10, 200],
                    backgroundColor: [
                        '#4bc0c0',
                        '#36a2eb',
                        '#9966ff',
                        '#ff6384',
                        '#ff9f40',
                        '#ffcd56',
                    ],
                    hoverBackgroundColor: [
                        '#4bc0c0',
                        '#36a2eb',
                        '#9966ff',
                        '#ff6384',
                        '#ff9f40',
                        '#ffcd56',
                    ]
                }
            ]
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], MetricsCacheComponent.prototype, "query", void 0);
    MetricsCacheComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-metrics-cache',
            template: __webpack_require__(/*! ./metrics-cache.component.html */ "./src/app/metrics-cache/metrics-cache.component.html"),
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_2__["AnalyticsService"]])
    ], MetricsCacheComponent);
    return MetricsCacheComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/app/metrics-operation-status/metrics-operation-status.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/metrics-operation-status/metrics-operation-status.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p-chart class=\"content-chart\" type=\"pie\" [data]=\"operationMetrics\"></p-chart>"

/***/ }),

/***/ "./src/app/metrics-operation-status/metrics-operation-status.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/metrics-operation-status/metrics-operation-status.component.ts ***!
  \********************************************************************************/
/*! exports provided: MetricsOperationStatusComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetricsOperationStatusComponent", function() { return MetricsOperationStatusComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../analytics/analytics.service */ "./src/app/analytics/analytics.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MetricsOperationStatusComponent = (function (_super) {
    __extends(MetricsOperationStatusComponent, _super);
    function MetricsOperationStatusComponent(injector, analyticsService) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.analyticsService = analyticsService;
        _this.setStaticData();
        return _this;
    }
    MetricsOperationStatusComponent.prototype.ngOnChanges = function (changes) {
        if (changes['query']) {
        }
    };
    MetricsOperationStatusComponent.prototype.getCacheMetrics = function () {
        var _this = this;
        this.analyticsService.getSuccessFailureMetrics(this.query).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].operation.getCacheMetrics });
        });
    };
    MetricsOperationStatusComponent.prototype.GetSuccessFailureMetrics = function (notification) {
        this.operationMetrics = notification.data.content.data;
    };
    MetricsOperationStatusComponent.prototype.setStaticData = function () {
        this.operationMetrics = {
            labels: ['Success', 'Failure'],
            datasets: [
                {
                    data: [300, 50],
                    backgroundColor: [
                        '#1c9ad5', '#000000',
                    ],
                    hoverBackgroundColor: [
                        '#1c9ad5', '#000000',
                    ]
                }
            ]
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], MetricsOperationStatusComponent.prototype, "query", void 0);
    MetricsOperationStatusComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-metrics-operation-status',
            template: __webpack_require__(/*! ./metrics-operation-status.component.html */ "./src/app/metrics-operation-status/metrics-operation-status.component.html"),
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_2__["AnalyticsService"]])
    ], MetricsOperationStatusComponent);
    return MetricsOperationStatusComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/app/metrics/metrics.component.html":
/*!************************************************!*\
  !*** ./src/app/metrics/metrics.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" fxLayoutGap=\"10px\">\r\n  <div fxLayout=\"column\" class=\"analytics-bg\">\r\n    <div class=\"heading\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n      <b>Eventing Dashboard</b>\r\n    </div>\r\n    <div fxLayout=\"row\">\r\n      <iframe src=\"https://8826709ba84142ba9257a23cfebe0610.eu-west-1.aws.found.io:9243/app/kibana#/dashboard/b971cce0-86ac-11e8-ac84-adc307171d5d?embed=true&_g=(refreshInterval%3A('%24%24hashKey'%3A'object%3A1110'%2Cdisplay%3A'10%20seconds'%2Cpause%3A!f%2Csection%3A1%2Cvalue%3A10000)%2Ctime%3A(from%3Anow-30m%2Cmode%3Aquick%2Cto%3Anow))\" \r\n      style=\"width:100%;height: -webkit-fill-available;\"\r\n      \r\n   frameborder=\"0\"\r\n   width=\"100%\"\r\n   marginheight=\"0\"\r\n   marginwidth=\"0\"\r\n   scrolling=\"no\"></iframe>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/metrics/metrics.component.ts":
/*!**********************************************!*\
  !*** ./src/app/metrics/metrics.component.ts ***!
  \**********************************************/
/*! exports provided: MetricsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetricsComponent", function() { return MetricsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../analytics/analytics.service */ "./src/app/analytics/analytics.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var MetricsComponent = (function (_super) {
    __extends(MetricsComponent, _super);
    function MetricsComponent(injector, formBuilder, analyticsService) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_3__["pageTitleList"].analytics }) || this;
        _this.injector = injector;
        _this.formBuilder = formBuilder;
        _this.analyticsService = analyticsService;
        _this.service = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.operation = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.event = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.user = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.fromDate = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.toDate = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.maxDate = new Date();
        _this.filterView = 1;
        _this.createSearchForm();
        _this.setDummyData();
        return _this;
    }
    MetricsComponent.prototype.ngOnInit = function () {
        // this.getValues();
    };
    MetricsComponent.prototype.createSearchForm = function () {
        this.searchFormGroup = this.formBuilder.group({
            service: this.service,
            operation: this.operation,
            event: this.event,
            user: this.user,
            fromDate: this.fromDate,
            toDate: this.toDate
        });
    };
    MetricsComponent.prototype.getValues = function () {
        this.getServices();
        this.getOperations();
        this.getEvents();
        this.getUserList();
    };
    MetricsComponent.prototype.getServices = function () {
        var _this = this;
        this.isServicesLoading = true;
        this.analyticsService.getServices().then(function (response) {
            _this.serviceList = response;
            _this.isServicesLoading = false;
        });
    };
    MetricsComponent.prototype.getOperations = function () {
        var _this = this;
        this.isOperationsLoading = true;
        this.analyticsService.getOperations().then(function (response) {
            _this.operationList = response;
            _this.isOperationsLoading = false;
        });
    };
    MetricsComponent.prototype.getEvents = function () {
        var _this = this;
        this.isEventsLoading = true;
        this.analyticsService.getEvents().then(function (response) {
            _this.eventList = response;
            _this.isEventsLoading = false;
        });
    };
    MetricsComponent.prototype.getUserList = function () {
        var _this = this;
        this.isUserLoading = true;
        this.analyticsService.getUserList().then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].operation.getUserList });
        });
    };
    MetricsComponent.prototype.getUserListEvent = function (notification) {
        this.isUserLoading = false;
        this.userList = notification.data.content.users;
    };
    MetricsComponent.prototype.updateSearchQuery = function (queryType) {
        this.filterView = queryType;
        var queryDate = this.constructFromDateToDate(queryType);
        this.query = {
            service: this.service.value,
            operation: this.operation.value,
            event: this.event.value,
            user: this.user.value,
            fromDate: queryDate.fromDate,
            toDate: queryDate.toDate,
        };
    };
    MetricsComponent.prototype.constructFromDateToDate = function (queryType) {
        var queryDate;
        var currentDate = new Date();
        switch (queryType) {
            case 1:
                queryDate = {
                    fromDate: (this.returnfromDate(currentDate, 1 / 24)) / 1000,
                    toDate: currentDate.getTime() / 1000,
                };
                break;
            case 2:
                queryDate = {
                    fromDate: this.returnfromDate(currentDate, 1) / 1000,
                    toDate: currentDate.getTime() / 1000,
                };
                break;
            case 3:
                queryDate = {
                    fromDate: this.returnfromDate(currentDate, 7) / 1000,
                    toDate: currentDate.getTime() / 1000,
                };
                break;
            case 4:
                queryDate = {
                    fromDate: this.returnfromDate(currentDate, 30) / 1000,
                    toDate: currentDate.getTime() / 1000,
                };
                break;
            default:
                if (this.fromDate.value && this.toDate.value) {
                    queryDate = {
                        fromDate: this.fromDate.value,
                        toDate: this.toDate.value,
                    };
                }
                else {
                    queryDate = {
                        fromDate: (this.returnfromDate(currentDate, 1 / 24)) / 1000,
                        toDate: currentDate.getTime() / 1000,
                    };
                    this.filterView = 1;
                }
                break;
        }
        return queryDate;
    };
    MetricsComponent.prototype.returnfromDate = function (currentDate, days) {
        return new Date(currentDate.getTime() + days * 24 * 60 * 60 * 1000).getTime();
    };
    MetricsComponent.prototype.resetSearch = function () {
        this.searchFormGroup.setValue({
            service: '',
            operation: '',
            event: '',
            user: '',
            fromDate: '',
            toDate: ''
        });
        this.query = {
            service: '',
            operation: '',
            event: '',
            user: '',
            fromDate: '',
            toDate: ''
        };
    };
    MetricsComponent.prototype.setDummyData = function () {
        this.serviceList = [
            { name: 'Core', id: '1' },
            { name: 'GDocFactory', id: '2' },
            { name: 'Orchestrator', id: '3' },
            { name: 'Publishing', id: '4' },
            { name: 'SourceSync', id: '5' },
            { name: 'Transformations', id: '6' }
        ];
        this.operationList = [
            { name: 'Create Project', id: '1' },
            { name: 'Get Project', id: '2' },
            { name: 'Update Project', id: '3' },
            { name: 'Delete Project', id: '4' }
        ];
        this.eventList = [
            { name: 'CoreUpsertProject', id: '1' },
            { name: 'CoreGetProjects', id: '2' },
            { name: 'CoreSetProjectComplete', id: '3' },
            { name: 'CoreGetProject', id: '4' }
        ];
        this.userList = [
            { name: 'Bhupendra Singh Bhandari', id: '1' },
            { name: 'Manish Bhakuni', id: '2' },
            { name: 'Mohit Tonde', id: '3' },
            { name: 'Mohit Ranjan Sahu', id: '4' },
            { name: 'Mohit Ranjan Sahu', id: '5' }
        ];
    };
    MetricsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-metrics',
            template: __webpack_require__(/*! ./metrics.component.html */ "./src/app/metrics/metrics.component.html"),
            providers: [_analytics_analytics_service__WEBPACK_IMPORTED_MODULE_4__["AnalyticsService"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"], _analytics_analytics_service__WEBPACK_IMPORTED_MODULE_4__["AnalyticsService"]])
    ], MetricsComponent);
    return MetricsComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_2__["BaseComponent"]));



/***/ }),

/***/ "./src/app/new-draft/draft.service.ts":
/*!********************************************!*\
  !*** ./src/app/new-draft/draft.service.ts ***!
  \********************************************/
/*! exports provided: DraftService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DraftService", function() { return DraftService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
/* harmony import */ var _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/authoring-cache.service */ "./src/app/common/authoring-cache.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var DraftService = (function () {
    function DraftService(httpService, injector, authoringCacheService, localEventEmitterService) {
        this.httpService = httpService;
        this.injector = injector;
        this.authoringCacheService = authoringCacheService;
        this.localEventEmitterService = localEventEmitterService;
    }
    DraftService.prototype.getDraftList = function (nodeId) {
        return {
            data: this.authoringCacheService.getDrafts(nodeId),
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/nodes/' + nodeId + '/drafts')
        };
    };
    DraftService.prototype.getCachedDrafts = function (nodeId) {
        return this.authoringCacheService.getDrafts(nodeId);
    };
    DraftService.prototype.setDraftsToCache = function (nodeId, value) {
        return this.authoringCacheService.setDrafts(nodeId, value);
    };
    DraftService.prototype.setDraftIdToCache = function (draftId, isLeft) {
        if (isLeft) {
            this.authoringCacheService.selectedLeftDraftId = draftId;
        }
        else {
            this.authoringCacheService.selectedRightDraftId = draftId;
        }
    };
    DraftService.prototype.newDraft = function (draft) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Drafts', draft).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    DraftService.prototype.getDraftHistory = function (draftId, pageSize, pageNumber) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Drafts/' + draftId + '/GetDraftHistory?pageSize=' + pageSize + '&pageNumber=' + pageNumber).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    DraftService.prototype.createDraftFromSnapshot = function (draft) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Drafts/createdraftwithsnapshot', draft).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    DraftService.prototype.createDraftUsingMergeContent = function (draft) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/drafts/createdraftwithcontent', draft).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    DraftService.prototype.getSnapshotContent = function (snapshotId) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/DraftSnapshots/' + snapshotId).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    DraftService.prototype.deleteDraft = function (draftId) {
        return this.httpService.delete(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Drafts/' + draftId + '/DeleteDraft').toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    DraftService.prototype.renameDraft = function (requestModel) {
        return this.httpService.put(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/drafts', requestModel).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    DraftService.prototype.draftNameExists = function (selectedDraft, nodeDrafts) {
        var foundDraft = underscore__WEBPACK_IMPORTED_MODULE_3__["find"](nodeDrafts, function (draft) { return draft.draftName.toLowerCase() === selectedDraft.draftName.toLowerCase() && draft.draftId !== selectedDraft.draftId; });
        return foundDraft ? true : false;
    };
    DraftService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_5__["AuthoringCacheService"], _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_4__["LocalEventEmitterService"]])
    ], DraftService);
    return DraftService;
}());



/***/ }),

/***/ "./src/app/new-draft/new-draft.component.html":
/*!****************************************************!*\
  !*** ./src/app/new-draft/new-draft.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>Create Draft</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n    <form fxLayout=\"column\" fxLayoutAlign=\"start stretch\" [formGroup]=\"draftForm\">\r\n      <mat-form-field fxFlexFill fxFlexOffset=\"10px\">\r\n        <input matInput required placeholder=\"Draft Name\" [formControl]=\"draftName\" (blur)=\"checkDuplicateName()\" (keyup)=\"checkDuplicateName()\">\r\n        <small matSuffix>{{draftName.value?.length || 0}}/100</small>\r\n        <mat-error *ngIf=\"draftName.hasError('required')\">Draft Name is required</mat-error>\r\n        <mat-error *ngIf=\"draftName.hasError('minlength')\">Please enter at least 5 characters.</mat-error>\r\n        <mat-error *ngIf=\"draftName.hasError('maxlength')\">Please enter maximum of 100 characters</mat-error>\r\n        <mat-error *ngIf=\"draftName.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n\r\n      </mat-form-field>\r\n      <mat-error *ngIf=\"!isValidDraftName\">Duplicate Draft Name </mat-error>\r\n\r\n      <h3 ngClass=\"primary-text-color\" fxFlexFill fxFlexOffset=\"10px\">Select Draft Type</h3>\r\n      <mat-radio-group fxFlexFill fxFlexOffset=\"15px\" fxLayout=\"row\" fxLayoutGap=\"20px\" [formControl]=\"draftType\">\r\n        <!--<mat-radio-button value=\"1\">URL</mat-radio-button>-->\r\n        <mat-radio-button value=\"2\">Existing Draft</mat-radio-button>\r\n        <mat-radio-button value=\"3\">Blank</mat-radio-button>\r\n        <!--<mat-radio-button value=\"4\">Templates</mat-radio-button>-->\r\n      </mat-radio-group>\r\n      <mat-form-field fxFlexFill fxFlexOffset=\"15px\" *ngIf=\"draftType.value==draftCreationType.URL\">\r\n        <input matInput placeholder=\"URL\">\r\n      </mat-form-field>\r\n      <mat-form-field fxFlexFill fxFlexOffset=\"15px\" [fxHide]=\"draftType.value!=draftCreationType.ExistingDraft\">\r\n        <mat-select placeholder=\"Existing Drafts\" [formControl]=\"existingDraft\" [required]=\"draftType.value==draftCreationType.ExistingDraft\">\r\n          <mat-option *ngFor=\"let item of draftArray | sort: 'draftName'\" [value]=\"item.draftId\"> {{ item.draftName }} {{item.status}}</mat-option>\r\n        </mat-select>\r\n        <mat-error *ngIf=\"existingDraft.hasError('required')\">Draft is required</mat-error>\r\n      </mat-form-field>\r\n      <div>\r\n        <mat-error [fxHide]=\"draftType.value!=draftCreationType.ExistingDraft\" *ngIf=\"draftArray.length<1\">Drafts not avaliable. Create a Blank Draft to procced.</mat-error>\r\n      </div>\r\n    </form>\r\n    <div fxLayout=\"column\" fxLayoutGap=\"10px\" fxFlexOffset=\"15px\" *ngIf=\"draftType.value==draftCreationType.Templates\">\r\n      <h4 ngClass=\"primary-text-color\">SELECT TEMPLATE</h4>\r\n      <div fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n        <div ngClass=\"draft-template\" fxLayoutAlign=\"center center\">TEMPLATE 1</div>\r\n        <div ngClass=\"draft-template\" fxLayoutAlign=\"center center\">TEMPLATE 2</div>\r\n        <div ngClass=\"draft-template\" fxLayoutAlign=\"center center\">TEMPLATE 3</div>\r\n        <div ngClass=\"draft-template\" fxLayoutAlign=\"center center\">TEMPLATE 4</div>\r\n        <div ngClass=\"draft-template\" fxLayoutAlign=\"center center\">TEMPLATE 4</div>\r\n      </div>\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions fxFlexFill fxLayoutAlign=\"end center\" [fxHide]=\"!isOperationAllowed([cmsOperations.CreateDraft])\">\r\n    <div fxLayout=\"row\" fxFlex fxLayoutAlign=\"end center\">\r\n      <button mat-raised-button color=\"primary\" [disabled]=\"!isValidDraftName||!draftForm.valid\" (click)=\"newDraft();draftForm.reset();\">\r\n        Create Draft\r\n      </button>\r\n    </div>\r\n  </mat-dialog-actions>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/new-draft/new-draft.component.ts":
/*!**************************************************!*\
  !*** ./src/app/new-draft/new-draft.component.ts ***!
  \**************************************************/
/*! exports provided: NewDraftComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewDraftComponent", function() { return NewDraftComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _draft_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./draft.service */ "./src/app/new-draft/draft.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/whitespace-validator */ "./src/app/common/whitespace-validator.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../distribution/distribution.service */ "./src/app/distribution/distribution.service.ts");
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
/* harmony import */ var _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../treeview/treeview.service */ "./src/app/treeview/treeview.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};












var NewDraftComponent = (function (_super) {
    __extends(NewDraftComponent, _super);
    function NewDraftComponent(projectService, distributionService, formBuilder, injector, treeviewService, draftService, data, dialogRef) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_5__["pageTitleList"].addDraft }) || this;
        _this.projectService = projectService;
        _this.distributionService = distributionService;
        _this.formBuilder = formBuilder;
        _this.injector = injector;
        _this.treeviewService = treeviewService;
        _this.draftService = draftService;
        _this.data = data;
        _this.dialogRef = dialogRef;
        _this.draftName = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__["WhiteSpaceValidator"]]);
        _this.existingDraft = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.draftType = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        _this.draftArray = [];
        _this.nodeId = undefined;
        _this.topic = { value: 'Draft', key: 'Draft', eventName: undefined };
        _this.isValidDraftName = true;
        _this.draftCreationType = _constants__WEBPACK_IMPORTED_MODULE_5__["DraftCreationType"];
        _this.newDraftForm();
        _this.draftArray = data.nodeDrafts;
        _this.node = data.node;
        _this.nodeId = data.nodeId;
        if (_this.draftArray.length > 0) {
            _this.existingDraft.setValue(_this.draftArray[0].draftId, { onlySelf: true });
        }
        return _this;
    }
    NewDraftComponent.prototype.ngOnInit = function () {
        this.draftType.setValue(_constants__WEBPACK_IMPORTED_MODULE_5__["DraftCreationType"].ExistingDraft, { onlySelf: true });
    };
    NewDraftComponent.prototype.checkDuplicateName = function () {
        var draftName = this.draftName.value;
        var foundDraft = underscore__WEBPACK_IMPORTED_MODULE_2__["find"](this.draftArray, function (draft) {
            return draft.draftName.toLowerCase() === draftName.toLowerCase();
        }.bind(this));
        this.isValidDraftName = foundDraft ? false : true;
    };
    NewDraftComponent.prototype.newDraftForm = function () {
        this.draftForm = this.formBuilder.group({
            draftName: this.draftName,
            draftType: this.draftType,
            existingDraft: this.existingDraft,
        });
    };
    NewDraftComponent.prototype.newDraft = function () {
        var _this = this;
        var draft = {
            targetNodeId: this.nodeId,
            sourceDraftId: this.draftForm.value.draftType === _constants__WEBPACK_IMPORTED_MODULE_5__["DraftCreationType"].ExistingDraft ? this.draftForm.value.existingDraft : null,
            targetDraftName: this.draftForm.value.draftName,
            targetDraftType: _constants__WEBPACK_IMPORTED_MODULE_5__["DraftType"].WorkInProgress
        };
        this.draftService.newDraft(draft).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.createDraft });
            var selectedProjectId = _this.projectService.getSelectedProjectId();
            var selectedDistributionId = _this.distributionService.getDistributionIdFromCache();
            var selectedNodeId = _this.treeviewService.getSelectedNodeId();
            var url = '/project/' + selectedProjectId + '/distribution/' + selectedDistributionId + '/document/' + selectedNodeId + '/draft/{{draftId}}';
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_8__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_5__["cmsOperation"].CreateDraft, _constants__WEBPACK_IMPORTED_MODULE_5__["eventStatus"].Wait, {
                draftName: draft.targetDraftName,
                nodeName: _this.node.shortTitle
            }, url);
            _this.addOperationEvent(operation);
            _this.dialogRef.close();
        });
    };
    NewDraftComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-draft',
            template: __webpack_require__(/*! ./new-draft.component.html */ "./src/app/new-draft/new-draft.component.html")
        }),
        __param(6, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_project_project_service__WEBPACK_IMPORTED_MODULE_10__["ProjectService"], _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_9__["DistributionService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_11__["TreeViewService"],
            _draft_service__WEBPACK_IMPORTED_MODULE_4__["DraftService"], Object, _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"]])
    ], NewDraftComponent);
    return NewDraftComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_6__["BaseComponent"]));



/***/ }),

/***/ "./src/app/ngx-slimscroll/classes/slimscroll-options.class.ts":
/*!********************************************************************!*\
  !*** ./src/app/ngx-slimscroll/classes/slimscroll-options.class.ts ***!
  \********************************************************************/
/*! exports provided: SlimScrollOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SlimScrollOptions", function() { return SlimScrollOptions; });
var SlimScrollOptions = (function () {
    function SlimScrollOptions(obj) {
        this.position = obj && obj.position ? obj.position : 'right';
        this.barBackground = obj && obj.barBackground ? obj.barBackground : '#343a40';
        this.barOpacity = obj && obj.barOpacity ? obj.barOpacity : '1';
        this.barWidth = obj && obj.barWidth ? obj.barWidth : '4';
        this.barBorderRadius = obj && obj.barBorderRadius ? obj.barBorderRadius : '5';
        this.barMargin = obj && obj.barMargin ? obj.barMargin : '1px 0';
        this.gridBackground = obj && obj.gridBackground ? obj.gridBackground : '#adb5bd';
        this.gridOpacity = obj && obj.gridOpacity ? obj.gridOpacity : '1';
        this.gridWidth = obj && obj.gridWidth ? obj.gridWidth : '4';
        this.gridBorderRadius = obj && obj.gridBorderRadius ? obj.gridBorderRadius : '10';
        this.gridMargin = obj && obj.gridMargin ? obj.gridMargin : '0px 0px';
        this.alwaysVisible = obj && typeof obj.alwaysVisible !== 'undefined' ? obj.alwaysVisible : true;
        this.visibleTimeout = obj && obj.visibleTimeout ? obj.visibleTimeout : 1000;
        this.scrollSensitivity = obj && obj.scrollSensitivity ? obj.scrollSensitivity : 1;
    }
    return SlimScrollOptions;
}());



/***/ }),

/***/ "./src/app/ngx-slimscroll/classes/slimscroll-state.class.ts":
/*!******************************************************************!*\
  !*** ./src/app/ngx-slimscroll/classes/slimscroll-state.class.ts ***!
  \******************************************************************/
/*! exports provided: SlimScrollState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SlimScrollState", function() { return SlimScrollState; });
var SlimScrollState = (function () {
    function SlimScrollState(obj) {
        this.scrollPosition = obj && obj.scrollPosition ? obj.scrollPosition : 0;
        this.isScrollAtStart = obj && typeof obj.isScrollAtStart !== 'undefined' ? obj.isScrollAtStart : true;
        this.isScrollAtEnd = obj && typeof obj.isScrollAtEnd !== 'undefined' ? obj.isScrollAtEnd : false;
    }
    return SlimScrollState;
}());



/***/ }),

/***/ "./src/app/ngx-slimscroll/directives/slimscroll.directive.ts":
/*!*******************************************************************!*\
  !*** ./src/app/ngx-slimscroll/directives/slimscroll.directive.ts ***!
  \*******************************************************************/
/*! exports provided: easing, SlimScrollDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "easing", function() { return easing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SlimScrollDirective", function() { return SlimScrollDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var _classes_slimscroll_options_class__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/slimscroll-options.class */ "./src/app/ngx-slimscroll/classes/slimscroll-options.class.ts");
/* harmony import */ var _classes_slimscroll_state_class__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/slimscroll-state.class */ "./src/app/ngx-slimscroll/classes/slimscroll-state.class.ts");
/* harmony import */ var rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/Observable */ "./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var rxjs_Subscription__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/Subscription */ "./node_modules/rxjs/_esm5/Subscription.js");
/* harmony import */ var rxjs_add_observable_fromEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/add/observable/fromEvent */ "./node_modules/rxjs/_esm5/add/observable/fromEvent.js");
/* harmony import */ var rxjs_add_observable_merge__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/add/observable/merge */ "./node_modules/rxjs/_esm5/add/observable/merge.js");
/* harmony import */ var rxjs_add_operator_mergeMap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/add/operator/mergeMap */ "./node_modules/rxjs/_esm5/add/operator/mergeMap.js");
/* harmony import */ var rxjs_add_operator_takeUntil__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/add/operator/takeUntil */ "./node_modules/rxjs/_esm5/add/operator/takeUntil.js");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs/_esm5/add/operator/map.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};











var easing = {
    linear: function (t) { return t; },
    inQuad: function (t) { return t * t; },
    outQuad: function (t) { return t * (2 - t); },
    inOutQuad: function (t) { return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t; },
    inCubic: function (t) { return t * t * t; },
    outCubic: function (t) { return (--t) * t * t + 1; },
    inOutCubic: function (t) { return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1; },
    inQuart: function (t) { return t * t * t * t; },
    outQuart: function (t) { return 1 - (--t) * t * t * t; },
    inOutQuart: function (t) { return t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t; },
    inQuint: function (t) { return t * t * t * t * t; },
    outQuint: function (t) { return 1 + (--t) * t * t * t * t; },
    inOutQuint: function (t) { return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t; }
};
var SlimScrollDirective = (function () {
    function SlimScrollDirective(viewContainer, renderer, document) {
        var _this = this;
        this.viewContainer = viewContainer;
        this.renderer = renderer;
        this.document = document;
        this.scrollChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.interactionSubscriptions = new rxjs_Subscription__WEBPACK_IMPORTED_MODULE_5__["Subscription"]();
        this.initWheel = function () {
            var dommousescroll = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].fromEvent(_this.el, 'DOMMouseScroll');
            var mousewheel = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].fromEvent(_this.el, 'mousewheel');
            var wheelSubscription = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].merge.apply(rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"], [dommousescroll, mousewheel]).subscribe(function (e) {
                var scrollSensitivity = _this.options.scrollSensitivity / 100;
                var wheelDeltaY = e.wheelDeltaY;
                var maxScaledDelta = Math.max(1, wheelDeltaY * scrollSensitivity);
                var minScaledDelta = Math.min(-1, wheelDeltaY * scrollSensitivity);
                wheelDeltaY = (Math.sign(wheelDeltaY) === 1) ? maxScaledDelta : minScaledDelta;
                _this.scrollContent(-wheelDeltaY, true, false);
                if (e.preventDefault) {
                    e.preventDefault();
                }
            });
            _this.interactionSubscriptions.add(wheelSubscription);
        };
        this.initDrag = function () {
            var bar = _this.bar;
            var mousemove = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].fromEvent(_this.document.documentElement, 'mousemove');
            var touchmove = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].fromEvent(_this.document.documentElement, 'touchmove');
            var mousedown = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].fromEvent(bar, 'mousedown');
            var touchstart = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].fromEvent(_this.el, 'touchstart');
            var mouseup = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].fromEvent(_this.document.documentElement, 'mouseup');
            var touchend = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].fromEvent(_this.document.documentElement, 'touchend');
            var mousedrag = mousedown.mergeMap(function (e) {
                _this.pageY = e.pageY;
                _this.top = parseFloat(getComputedStyle(bar).top);
                return mousemove.map(function (emove) {
                    emove.preventDefault();
                    return _this.top + emove.pageY - _this.pageY;
                }).takeUntil(mouseup);
            });
            var touchdrag = touchstart.mergeMap(function (e) {
                _this.pageY = e.targetTouches[0].pageY;
                _this.top = -parseFloat(getComputedStyle(bar).top);
                return touchmove.map(function (tmove) {
                    return -(_this.top + tmove.targetTouches[0].pageY - _this.pageY);
                }).takeUntil(touchend);
            });
            var dragSubscription = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].merge.apply(rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"], [mousedrag, touchdrag]).subscribe(function (top) {
                _this.body.addEventListener('selectstart', _this.preventDefaultEvent, false);
                _this.renderer.setElementStyle(_this.body, 'touch-action', 'pan-y');
                _this.renderer.setElementStyle(_this.body, 'user-select', 'none');
                _this.renderer.setElementStyle(_this.bar, 'top', top + "px");
                var over = _this.scrollContent(0, true, false);
                var maxTop = _this.el.offsetHeight - _this.bar.offsetHeight;
                if (over && over < 0 && -over <= maxTop) {
                    _this.renderer.setElementStyle(_this.el, 'paddingTop', -over + 'px');
                }
                else if (over && over > 0 && over <= maxTop) {
                    _this.renderer.setElementStyle(_this.el, 'paddingBottom', over + 'px');
                }
            });
            var dragEndSubscription = rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"].merge.apply(rxjs_Observable__WEBPACK_IMPORTED_MODULE_4__["Observable"], [mouseup, touchend]).subscribe(function () {
                _this.body.removeEventListener('selectstart', _this.preventDefaultEvent, false);
                var paddingTop = parseInt(_this.el.style.paddingTop, 10);
                var paddingBottom = parseInt(_this.el.style.paddingBottom, 10);
                _this.renderer.setElementStyle(_this.body, 'touch-action', 'unset');
                _this.renderer.setElementStyle(_this.body, 'user-select', 'default');
                if (paddingTop > 0) {
                    _this.scrollTo(0, 300, 'linear');
                }
                else if (paddingBottom > 0) {
                    _this.scrollTo(0, 300, 'linear');
                }
            });
            _this.interactionSubscriptions.add(dragSubscription);
            _this.interactionSubscriptions.add(dragEndSubscription);
        };
        this.preventDefaultEvent = function (e) {
            e.preventDefault();
            e.stopPropagation();
        };
        this.viewContainer = viewContainer;
        this.el = viewContainer.element.nativeElement;
        this.body = this.document.querySelector('body');
        this.mutationThrottleTimeout = 50;
    }
    SlimScrollDirective.prototype.ngOnInit = function () {
        var _this = this;
        this.options = new _classes_slimscroll_options_class__WEBPACK_IMPORTED_MODULE_2__["SlimScrollOptions"](this.options);
        this.setElementStyle();
        this.wrapContainer();
        this.initGrid();
        this.initBar();
        this.getBarHeight();
        this.initWheel();
        this.initDrag();
        if (!this.options.alwaysVisible) {
            this.hideBarAndGrid();
        }
        if (MutationObserver) {
            this.mutationObserver = new MutationObserver(function () {
                if (_this.mutationThrottleTimeout) {
                    clearTimeout(_this.mutationThrottleTimeout);
                    _this.mutationThrottleTimeout = setTimeout(_this.onMutation.bind(_this), 50);
                }
            });
            this.mutationObserver.observe(this.el, { subtree: true, childList: true });
        }
        if (this.scrollEvents && this.scrollEvents instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]) {
            var scrollSubscription = this.scrollEvents.subscribe(function (event) { return _this.handleEvent(event); });
            this.interactionSubscriptions.add(scrollSubscription);
        }
    };
    SlimScrollDirective.prototype.ngOnDestroy = function () {
        this.interactionSubscriptions.unsubscribe();
    };
    SlimScrollDirective.prototype.handleEvent = function (e) {
        if (e.type === 'scrollToBottom') {
            var y = this.el.scrollHeight - this.el.clientHeight;
            this.scrollTo(y, e.duration, e.easing);
        }
        else if (e.type === 'scrollToTop') {
            var y = 0;
            this.scrollTo(y, e.duration, e.easing);
        }
        else if (e.type === 'scrollToPercent' && (e.percent >= 0 && e.percent <= 100)) {
            var y = Math.round(((this.el.scrollHeight - this.el.clientHeight) / 100) * e.percent);
            this.scrollTo(y, e.duration, e.easing);
        }
        else if (e.type === 'scrollTo') {
            var y = e.y;
            if (y <= this.el.scrollHeight - this.el.clientHeight && y >= 0) {
                this.scrollTo(y, e.duration, e.easing);
            }
        }
        else if (e.type === 'recalculate') {
            this.getBarHeight();
        }
    };
    SlimScrollDirective.prototype.setElementStyle = function () {
        var el = this.el;
        this.renderer.setElementStyle(el, 'overflow', 'hidden');
        this.renderer.setElementStyle(el, 'position', 'relative');
        this.renderer.setElementStyle(el, 'display', 'block');
        this.renderer.setElementStyle(el, 'height', '100%');
    };
    SlimScrollDirective.prototype.onMutation = function () {
        this.getBarHeight();
    };
    SlimScrollDirective.prototype.wrapContainer = function () {
        this.wrapper = this.renderer.createElement(this.el, 'div');
        var wrapper = this.wrapper;
        var el = this.el;
        this.renderer.setElementClass(wrapper, 'slimscroll-wrapper', true);
        this.renderer.setElementStyle(wrapper, 'position', 'relative');
        this.renderer.setElementStyle(wrapper, 'overflow', 'hidden');
        this.renderer.setElementStyle(wrapper, 'display', 'inline-block');
        this.renderer.setElementStyle(wrapper, 'margin', getComputedStyle(el).margin);
        this.renderer.setElementStyle(wrapper, 'width', '100%');
        this.renderer.setElementStyle(wrapper, 'height', '100%');
        this.renderer.setElementStyle(wrapper, 'padding-right', '5px');
        el.parentNode.insertBefore(wrapper, el);
        wrapper.appendChild(el);
    };
    SlimScrollDirective.prototype.initGrid = function () {
        this.grid = this.renderer.createElement(this.el, 'div');
        var grid = this.grid;
        this.renderer.setElementClass(grid, 'slimscroll-grid', true);
        this.renderer.setElementStyle(grid, 'position', 'absolute');
        this.renderer.setElementStyle(grid, 'top', '0');
        this.renderer.setElementStyle(grid, 'bottom', '0');
        this.renderer.setElementStyle(grid, this.options.position, '0');
        this.renderer.setElementStyle(grid, 'width', this.options.gridWidth + "px");
        this.renderer.setElementStyle(grid, 'background', this.options.gridBackground);
        this.renderer.setElementStyle(grid, 'opacity', this.options.gridOpacity);
        this.renderer.setElementStyle(grid, 'display', 'block');
        this.renderer.setElementStyle(grid, 'cursor', 'pointer');
        this.renderer.setElementStyle(grid, 'z-index', '1');
        this.renderer.setElementStyle(grid, 'border-radius', this.options.gridBorderRadius + "px");
        this.renderer.setElementStyle(grid, 'margin', this.options.gridMargin);
        this.wrapper.appendChild(grid);
    };
    SlimScrollDirective.prototype.initBar = function () {
        this.bar = this.renderer.createElement(this.el, 'div');
        var bar = this.bar;
        this.renderer.setElementClass(bar, 'slimscroll-bar', true);
        this.renderer.setElementStyle(bar, 'position', 'absolute');
        this.renderer.setElementStyle(bar, 'top', '0');
        this.renderer.setElementStyle(bar, this.options.position, '0');
        this.renderer.setElementStyle(bar, 'width', this.options.barWidth + "px");
        this.renderer.setElementStyle(bar, 'background', this.options.barBackground);
        this.renderer.setElementStyle(bar, 'opacity', this.options.barOpacity);
        this.renderer.setElementStyle(bar, 'display', 'block');
        this.renderer.setElementStyle(bar, 'cursor', 'pointer');
        this.renderer.setElementStyle(bar, 'z-index', '2');
        this.renderer.setElementStyle(bar, 'border-radius', this.options.barBorderRadius + "px");
        this.renderer.setElementStyle(bar, 'margin', this.options.barMargin);
        this.wrapper.appendChild(bar);
    };
    SlimScrollDirective.prototype.getBarHeight = function () {
        var barHeight = Math.max(isNaN((this.el.offsetHeight / this.el.scrollHeight) * this.el.offsetHeight) ? 0 : (this.el.offsetHeight / this.el.scrollHeight) * this.el.offsetHeight, 30) + 'px';
        var display = parseInt(barHeight, 10) === this.el.offsetHeight ? 'none' : 'block';
        this.renderer.setElementStyle(this.bar, 'height', barHeight);
        this.renderer.setElementStyle(this.bar, 'display', display);
        this.renderer.setElementStyle(this.grid, 'display', display);
    };
    SlimScrollDirective.prototype.scrollTo = function (y, duration, easingFunc) {
        var _this = this;
        var start = Date.now();
        var from = this.el.scrollTop;
        var maxTop = this.el.offsetHeight - this.bar.offsetHeight;
        var maxElScrollTop = this.el.scrollHeight - this.el.clientHeight;
        var barHeight = Math.max((this.el.offsetHeight / this.el.scrollHeight) * this.el.offsetHeight, 30);
        var paddingTop = parseInt(this.el.style.paddingTop, 10) || 0;
        var paddingBottom = parseInt(this.el.style.paddingBottom, 10) || 0;
        var scroll = function (timestamp) {
            var currentTime = Date.now();
            var time = Math.min(1, ((currentTime - start) / duration));
            var easedTime = easing[easingFunc](time);
            if (paddingTop > 0 || paddingBottom > 0) {
                var fromY = null;
                if (paddingTop > 0) {
                    fromY = -paddingTop;
                    fromY = -((easedTime * (y - fromY)) + fromY);
                    _this.renderer.setElementStyle(_this.el, 'paddingTop', fromY + "px");
                }
                if (paddingBottom > 0) {
                    fromY = paddingBottom;
                    fromY = ((easedTime * (y - fromY)) + fromY);
                    _this.renderer.setElementStyle(_this.el, 'paddingBottom', fromY + "px");
                }
            }
            else {
                _this.el.scrollTop = (easedTime * (y - from)) + from;
            }
            var percentScroll = _this.el.scrollTop / maxElScrollTop;
            if (paddingBottom === 0) {
                var delta = Math.round(Math.round(_this.el.clientHeight * percentScroll) - barHeight);
                if (delta > 0) {
                    _this.renderer.setElementStyle(_this.bar, 'top', delta + "px");
                }
            }
            if (time < 1) {
                requestAnimationFrame(scroll);
            }
        };
        requestAnimationFrame(scroll);
    };
    SlimScrollDirective.prototype.scrollContent = function (y, isWheel, isJump) {
        var _this = this;
        var delta = y;
        var maxTop = this.el.offsetHeight - this.bar.offsetHeight;
        var hiddenContent = this.el.scrollHeight - this.el.offsetHeight;
        var percentScroll;
        var over = null;
        if (isWheel) {
            delta = parseInt(getComputedStyle(this.bar).top, 10) + y * 20 / 100 * this.bar.offsetHeight;
            if (delta < 0 || delta > maxTop) {
                over = delta > maxTop ? delta - maxTop : delta;
            }
            delta = Math.min(Math.max(delta, 0), maxTop);
            delta = (y > 0) ? Math.ceil(delta) : Math.floor(delta);
            this.renderer.setElementStyle(this.bar, 'top', delta + 'px');
        }
        percentScroll = parseInt(getComputedStyle(this.bar).top, 10) / (this.el.offsetHeight - this.bar.offsetHeight);
        delta = percentScroll * hiddenContent;
        this.el.scrollTop = delta;
        this.showBarAndGrid();
        if (!this.options.alwaysVisible) {
            if (this.visibleTimeout) {
                clearTimeout(this.visibleTimeout);
            }
            this.visibleTimeout = setTimeout(function () {
                _this.hideBarAndGrid();
            }, this.options.visibleTimeout);
        }
        var isScrollAtStart = delta === 0;
        var isScrollAtEnd = delta === hiddenContent;
        var scrollPosition = Math.ceil(delta);
        var scrollState = new _classes_slimscroll_state_class__WEBPACK_IMPORTED_MODULE_3__["SlimScrollState"]({ scrollPosition: scrollPosition, isScrollAtStart: isScrollAtStart, isScrollAtEnd: isScrollAtEnd });
        this.scrollChanged.emit(scrollState);
        return over;
    };
    SlimScrollDirective.prototype.showBarAndGrid = function () {
        this.renderer.setElementStyle(this.grid, 'background', this.options.gridBackground);
        this.renderer.setElementStyle(this.bar, 'background', this.options.barBackground);
    };
    SlimScrollDirective.prototype.hideBarAndGrid = function () {
        this.renderer.setElementStyle(this.grid, 'background', 'transparent');
        this.renderer.setElementStyle(this.bar, 'background', 'transparent');
    };
    SlimScrollDirective.prototype.destroy = function () {
        if (this.mutationObserver) {
            this.mutationObserver.disconnect();
            this.mutationObserver = null;
        }
        if (this.el.parentElement.classList.contains('slimscroll-wrapper')) {
            var wrapper = this.el.parentElement;
            var bar = this.el.querySelector('.slimscroll-bar');
            this.el.removeChild(bar);
            this.unwrap(wrapper);
        }
    };
    SlimScrollDirective.prototype.unwrap = function (wrapper) {
        var docFrag = document.createDocumentFragment();
        while (wrapper.firstChild) {
            var child = wrapper.removeChild(wrapper.firstChild);
            docFrag.appendChild(child);
        }
        wrapper.parentNode.replaceChild(docFrag, wrapper);
    };
    SlimScrollDirective.prototype.onResize = function ($event) {
        this.getBarHeight();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _classes_slimscroll_options_class__WEBPACK_IMPORTED_MODULE_2__["SlimScrollOptions"])
    ], SlimScrollDirective.prototype, "options", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SlimScrollDirective.prototype, "scrollEvents", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])('scrollChanged'),
        __metadata("design:type", Object)
    ], SlimScrollDirective.prototype, "scrollChanged", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"])('window:resize', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], SlimScrollDirective.prototype, "onResize", null);
    SlimScrollDirective = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[slimScroll]',
            exportAs: 'slimScroll'
        }),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"])),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer"])),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_common__WEBPACK_IMPORTED_MODULE_1__["DOCUMENT"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer"], Object])
    ], SlimScrollDirective);
    return SlimScrollDirective;
}());



/***/ }),

/***/ "./src/app/notification-sidebar/notification-sidebar.component.html":
/*!**************************************************************************!*\
  !*** ./src/app/notification-sidebar/notification-sidebar.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" ngClass=\"notification-content-wrapper\" fxLayoutGap=\"5px\">\r\n  <app-operation-status></app-operation-status>\r\n  <app-personal-updates></app-personal-updates>\r\n  <mat-list fxLayout=\"column\" class=\"personal-updates-wrapper\">\r\n    <h2 ngClass=\"mb-10\">Upcoming Updates</h2>\r\n    <div fxLayout=\"column\" ngClass=\"personal-updates-scroll\">\r\n      <mat-list-item fxFlex fxLayoutGap=\"2px\">\r\n        <div class=\"left-view\">\r\n          <div class=\"profile-avatar\">\r\n            <div class=\"profile-short-name\">\r\n              MD\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"right-view\" fxLayoutGap=\"5px\">\r\n          <h4 mat-line class=\"h-date\">\r\n            <span class=\"name\"> Coming Soon </span>\r\n          </h4>\r\n          <div>\r\n            <div class=\"oneline-ellipsis\"> </div>\r\n          </div>\r\n        </div>\r\n      </mat-list-item>\r\n    </div>\r\n  </mat-list>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/notification-sidebar/notification-sidebar.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/notification-sidebar/notification-sidebar.component.ts ***!
  \************************************************************************/
/*! exports provided: NotificationSidebarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationSidebarComponent", function() { return NotificationSidebarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var NotificationSidebarComponent = (function () {
    function NotificationSidebarComponent() {
    }
    NotificationSidebarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-notification-sidebar',
            template: __webpack_require__(/*! ./notification-sidebar.component.html */ "./src/app/notification-sidebar/notification-sidebar.component.html"),
        }),
        __metadata("design:paramtypes", [])
    ], NotificationSidebarComponent);
    return NotificationSidebarComponent;
}());



/***/ }),

/***/ "./src/app/operation-base/operation-base.component.html":
/*!**************************************************************!*\
  !*** ./src/app/operation-base/operation-base.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  operation-base works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/operation-base/operation-base.component.ts":
/*!************************************************************!*\
  !*** ./src/app/operation-base/operation-base.component.ts ***!
  \************************************************************/
/*! exports provided: OperationBaseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OperationBaseComponent", function() { return OperationBaseComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _common_base_params__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/base-params */ "./src/app/common/base-params.ts");
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/authoring-cache.service */ "./src/app/common/authoring-cache.service.ts");
/* harmony import */ var _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../distribution/distribution.service */ "./src/app/distribution/distribution.service.ts");
/* harmony import */ var _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../treeview/treeview.service */ "./src/app/treeview/treeview.service.ts");
/* harmony import */ var _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../new-draft/draft.service */ "./src/app/new-draft/draft.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var OperationBaseComponent = (function (_super) {
    __extends(OperationBaseComponent, _super);
    function OperationBaseComponent(injector, parameters) {
        var _this = _super.call(this, injector, { title: parameters ? parameters.title : undefined }) || this;
        _this.injector = injector;
        _this.parameters = parameters;
        _this.projectService = injector.get(_project_project_service__WEBPACK_IMPORTED_MODULE_3__["ProjectService"]);
        _this.authoringCacheService = injector.get(_common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_5__["AuthoringCacheService"]);
        _this.distributionService = injector.get(_distribution_distribution_service__WEBPACK_IMPORTED_MODULE_6__["DistributionService"]);
        _this.treeViewService = injector.get(_treeview_treeview_service__WEBPACK_IMPORTED_MODULE_7__["TreeViewService"]);
        _this.draftService = injector.get(_new_draft_draft_service__WEBPACK_IMPORTED_MODULE_8__["DraftService"]);
        return _this;
    }
    OperationBaseComponent.prototype.getProjects = function (isCacheRequired) {
        var _this = this;
        if (isCacheRequired === void 0) { isCacheRequired = true; }
        var serviceResponse;
        serviceResponse = this.projectService.getProjects();
        if (isCacheRequired && serviceResponse.data && serviceResponse.data.length >= 0) {
            this.emitLocalEvent({ eventName: 'refreshProjects', value: serviceResponse.data });
        }
        serviceResponse.responseObservable.toPromise().then(function (response) {
            var responseId = response.json().responseId;
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].operation.getProjects });
        });
    };
    OperationBaseComponent.prototype.getProjectsEvent = function (response) {
        var newValue = response.data.content.projects;
        var oldValue = this.authoringCacheService.getProjects();
        var equals = this.equals(oldValue, newValue);
        if (!equals) {
            this.emitLocalEvent({ eventName: 'refreshProjects', value: newValue });
            this.projectService.setProjects(newValue);
        }
    };
    OperationBaseComponent.prototype.getDistributionList = function (projectId, isCacheRequired) {
        var _this = this;
        if (isCacheRequired === void 0) { isCacheRequired = true; }
        var serviceResponse;
        serviceResponse = this.distributionService.getDistributions(projectId);
        if (isCacheRequired && serviceResponse.data && serviceResponse.data.length >= 0) {
            var data = { distributions: serviceResponse.data, projectId: projectId };
            this.emitLocalEvent({ eventName: 'refreshDistributions', value: data });
        }
        serviceResponse.responseObservable.toPromise().then(function (response) {
            var responseId = response.json().responseId;
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].operation.getDistributionsForProject });
        });
    };
    OperationBaseComponent.prototype.getDistributionsForProjectEvent = function (response) {
        var newValue = response.data.content.distributionList;
        var projectId = response.data.content.projectId;
        var oldValue = this.distributionService.getDistributionsFromCache(projectId);
        var equals = this.equals(oldValue, newValue);
        if (!equals) {
            this.distributionService.setDistributions(projectId, newValue);
        }
        var data = { distributions: newValue, projectId: projectId };
        this.emitLocalEvent({ eventName: 'refreshDistributions', value: data });
    };
    OperationBaseComponent.prototype.getNodes = function (distributionId, isCacheRequired) {
        var _this = this;
        if (isCacheRequired === void 0) { isCacheRequired = true; }
        var serviceResponse;
        serviceResponse = this.treeViewService.getNodes(distributionId);
        if (isCacheRequired && serviceResponse.data && serviceResponse.data.length >= 0) {
            var data = { nodeList: serviceResponse.data, distributionId: distributionId };
            this.emitLocalEvent({ eventName: 'refreshNodes', value: data });
        }
        serviceResponse.responseObservable.toPromise().then(function (response) {
            var responseId = response.json().responseId;
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].operation.getNodesForDistribution });
        });
    };
    OperationBaseComponent.prototype.getNodesForDistributionEvent = function (response) {
        var distributionId = response.data.content.distributionId;
        var newValue = response.data.content.nodeList;
        var oldValue = this.treeViewService.getNodesFromCache(distributionId);
        var equals = this.equals(oldValue, newValue);
        if (!equals) {
            var data = { nodeList: newValue, distributionId: distributionId };
            this.treeViewService.setNodesToCache(distributionId, { nodeList: response.data.content.nodeList, orphanNodeList: response.data.content.orphanNodeList });
            this.emitLocalEvent({ eventName: 'refreshNodes', value: data });
        }
    };
    OperationBaseComponent.prototype.getDraftList = function (nodeId, isCacheRequired) {
        var _this = this;
        if (isCacheRequired === void 0) { isCacheRequired = true; }
        var serviceResponse;
        serviceResponse = this.draftService.getDraftList(nodeId);
        if (isCacheRequired && serviceResponse.data && serviceResponse.data.length >= 0) {
            this.emitLocalEvent({ eventName: 'refreshDrafts', value: { drafts: serviceResponse.data, nodeId: nodeId } });
        }
        serviceResponse.responseObservable.toPromise().then(function (response) {
            var responseId = response.json().responseId;
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].operation.getDraftsForNode });
        });
    };
    OperationBaseComponent.prototype.getDraftsForNodeEvent = function (response) {
        var newValue = response.data.content.drafts;
        var nodeId = response.data.content.nodeId;
        var oldValue = this.draftService.getCachedDrafts(nodeId);
        var equals = this.equals(oldValue, newValue);
        if (!equals) {
            this.draftService.setDraftsToCache(nodeId, newValue);
        }
        this.emitLocalEvent({ eventName: 'refreshDrafts', value: { drafts: newValue, nodeId: nodeId } });
    };
    __decorate([
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], OperationBaseComponent.prototype, "getProjects", null);
    __decorate([
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object, Object]),
        __metadata("design:returntype", void 0)
    ], OperationBaseComponent.prototype, "getDistributionList", null);
    __decorate([
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object, Object]),
        __metadata("design:returntype", void 0)
    ], OperationBaseComponent.prototype, "getNodes", null);
    __decorate([
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object, Object]),
        __metadata("design:returntype", void 0)
    ], OperationBaseComponent.prototype, "getDraftList", null);
    OperationBaseComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-operation-base',
            template: __webpack_require__(/*! ./operation-base.component.html */ "./src/app/operation-base/operation-base.component.html"),
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_base_params__WEBPACK_IMPORTED_MODULE_2__["BaseParams"]])
    ], OperationBaseComponent);
    return OperationBaseComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/app/operation-status/operation-status.component.html":
/*!******************************************************************!*\
  !*** ./src/app/operation-status/operation-status.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-list fxLayout=\"column\" ngClass=\"personal-updates\">\r\n  <h2 class=\"mb-10\">Operation Status</h2>\r\n  <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isDataLoading\"></mat-progress-bar>\r\n  <div slimScroll ngClass=\"personal-updates-scroll\">\r\n    <div ngClass=\"operation-status-list {{getClass(item)}}\" *ngFor=\"let item of userOperations\" (click)=\"item.status === constEventStatus.Failure?navigateToErrorDetail(item.responseId):item.status === constEventStatus.Success?navigateToURL(item):''\">\r\n      <mat-list-item fxLayout=\"row\">\r\n        <mat-icon mat-list-icon *ngIf=\"item.status === constEventStatus.Success\">\r\n          <i class=\"mdi mdi-check-circle mdi-36px\"></i>\r\n        </mat-icon>\r\n        <mat-icon mat-list-icon *ngIf=\"item.status === constEventStatus.Failure\">\r\n          <i class=\"mdi mdi-close-circle mdi-36px\"></i>\r\n        </mat-icon>\r\n        <mat-icon mat-list-icon *ngIf=\"item.status === constEventStatus.Wait\">\r\n          <mat-progress-spinner mode=\"determinate\" value=\"{{item.progress}}\" color=\"primary\"></mat-progress-spinner>\r\n        </mat-icon>\r\n        <div appCustomTooltip ngClass=\"operation-status-wrapper\">\r\n          <div class=\"oneline-ellipsis\" [innerHTML]=\"item.description |sanitizeHtml\"> </div>\r\n          <div class=\"custom-tooltip-child\" fxLayout=\"column\" fxLayoutGap=\"3px\" [innerHTML]=\"item.description |sanitizeHtml\">\r\n          </div>\r\n        </div>\r\n        <p fxLayout=\"column\" fxLayoutAlign=\"end\" fxFlex=\"100px\">\r\n          <small fxLayoutAlign=\"end\">\r\n            {{item.operationDate | relativeDate}}\r\n          </small>\r\n          <small *ngIf=\"item.status === constEventStatus.Wait\" ngClass=\"operation-status\" fxLayoutAlign=\"end\" fxFlexOffset=\"15px\">\r\n            <strong>{{item.completedEventCount?item.completedEventCount:'--'}}</strong>/{{item.totalEventCount?item.totalEventCount:'--'}}\r\n            Completed</small>\r\n        </p>\r\n      </mat-list-item>\r\n    </div>\r\n  </div>\r\n</mat-list>\r\n"

/***/ }),

/***/ "./src/app/operation-status/operation-status.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/operation-status/operation-status.component.ts ***!
  \****************************************************************/
/*! exports provided: OperationStatusComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OperationStatusComponent", function() { return OperationStatusComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _common_template_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/template.service */ "./src/app/common/template.service.ts");
/* harmony import */ var rxjs_Subject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/Subject */ "./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var OperationStatusComponent = (function (_super) {
    __extends(OperationStatusComponent, _super);
    function OperationStatusComponent(injector, templateService, router) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.templateService = templateService;
        _this.router = router;
        _this.constEventStatus = _constants__WEBPACK_IMPORTED_MODULE_2__["eventStatus"];
        return _this;
    }
    OperationStatusComponent.prototype.ngOnInit = function () {
        this.subscription = new rxjs_Subject__WEBPACK_IMPORTED_MODULE_6__["Subject"]();
        this.subscribeToOperationEvent();
    };
    OperationStatusComponent.prototype.subscribeToOperationEvent = function () {
        var _this = this;
        this.localEventEmitterService.operationEvent.subscribe(function (data) {
            var eventName = data.eventName;
            if (eventName && _this[eventName]) {
                _this[eventName](data.value);
            }
        });
    };
    OperationStatusComponent.prototype.operationStatusUpdateEvent = function (operations) {
        this.userOperations = operations;
        underscore__WEBPACK_IMPORTED_MODULE_1__["each"](this.userOperations, function (operation) {
            operation.description = this.templateService.getTemplateString('operationStatus.' + operation.cmsOperation.toString() + '.' + operation.status.toString(), operation.data);
            operation.progress = operation.completedEventCount * 100 / operation.totalEventCount;
        }.bind(this));
        this.userOperations = new _common_utils__WEBPACK_IMPORTED_MODULE_7__["utils"]().clone(this.userOperations);
    };
    OperationStatusComponent.prototype.returnCMSOperationName = function (value) {
        var type = _constants__WEBPACK_IMPORTED_MODULE_2__["cmsOperation"][value];
        return type;
    };
    OperationStatusComponent.prototype.navigateToErrorDetail = function (responseId) {
        this.router.navigate(['/errordetail', responseId]);
    };
    OperationStatusComponent.prototype.getClass = function (item) {
        if (item.status === this.constEventStatus.Wait || item.status === this.constEventStatus.Unknown) {
            return 'operation-progress';
        }
        else if (item.status === this.constEventStatus.Success) {
            return 'operation-success';
        }
        else {
            return 'operation-error';
        }
    };
    OperationStatusComponent.prototype.navigateToURL = function (operation) {
        if (operation.url && operation.url.length > 0) {
            this.router.navigateByUrl(operation.url);
            this.emitLocalEvent({ eventName: 'openNotificationSideNav', value: false });
        }
        else {
            return;
        }
    };
    OperationStatusComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-operation-status',
            template: __webpack_require__(/*! ./operation-status.component.html */ "./src/app/operation-status/operation-status.component.html"),
            providers: [_common_template_service__WEBPACK_IMPORTED_MODULE_5__["TemplateService"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_template_service__WEBPACK_IMPORTED_MODULE_5__["TemplateService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], OperationStatusComponent);
    return OperationStatusComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_4__["BaseComponent"]));



/***/ }),

/***/ "./src/app/operation-status/operation-status.service.ts":
/*!**************************************************************!*\
  !*** ./src/app/operation-status/operation-status.service.ts ***!
  \**************************************************************/
/*! exports provided: OperationStatusService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OperationStatusService", function() { return OperationStatusService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _common_notification_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/notification.service */ "./src/app/common/notification.service.ts");
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
/* harmony import */ var _common_storage_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/storage.service */ "./src/app/common/storage.service.ts");
/* harmony import */ var _common_user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/user.service */ "./src/app/common/user.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var OperationStatusService = (function () {
    function OperationStatusService(httpService, storageService, userService, notificationService, localEventEmitterService) {
        this.httpService = httpService;
        this.storageService = storageService;
        this.userService = userService;
        this.notificationService = notificationService;
        this.localEventEmitterService = localEventEmitterService;
        this.operations = [];
        this.loggedInUserId = this.userService.getProfile().userId;
        this.subscribeForOperationEventEmitter();
        this.getOperationsFromLocalStorage();
    }
    OperationStatusService.prototype.getOperationsFromLocalStorage = function () {
        var pendingResponseIds = [];
        var operations = this.storageService.read(this.loggedInUserId + '_pendingOperations');
        if (operations) {
            this.operations = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](operations, function (operation) {
                return operation.status === _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].eventStatus.wait;
            });
            pendingResponseIds = underscore__WEBPACK_IMPORTED_MODULE_2__["pluck"](this.operations, 'responseId');
        }
        this.getPendingResponses(pendingResponseIds);
    };
    OperationStatusService.prototype.subscribeForOperationEventEmitter = function () {
        var _this = this;
        this.localEventEmitterService.operationEvent.subscribe(function (data) {
            if (data.eventName && _this[data.eventName]) {
                _this[data.eventName](data.value);
            }
        });
    };
    OperationStatusService.prototype.updateLocalStorage = function () {
        this.storageService.write(this.loggedInUserId + '_pendingOperations', this.operations);
    };
    OperationStatusService.prototype.operationStatusUpdated = function (payload) {
        this.operations = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.operations, function (operation) {
            if (operation.responseId === payload.responseId) {
                operation.status = payload.status;
                operation.isRead = false;
                operation.completedEventCount = payload.completedEventCount;
                operation.totalEventCount = payload.totalEventCount;
                operation.operationDate = payload.modifiedDate;
                if (operation.url && operation.url.length > 0) {
                    operation.url = this.getUrl(operation.url, payload.data);
                }
            }
            return operation;
        }.bind(this));
        this.updateLocalStorage();
        this.addOperationEvent(this.operations);
    };
    OperationStatusService.prototype.addOperation = function (operation) {
        operation.isRead = false;
        this.operations.unshift(operation);
        this.updateLocalStorage();
        this.addOperationEvent(this.operations);
    };
    OperationStatusService.prototype.markOperationAsRead = function () {
        underscore__WEBPACK_IMPORTED_MODULE_2__["each"](this.operations, function (value) {
            value.isRead = true;
        });
        this.addOperationEvent(this.operations);
    };
    OperationStatusService.prototype.getUnreadOperationCount = function () {
        var unreadOperationList = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.operations, function (value) { return (value.isRead !== true); });
        return unreadOperationList.length;
    };
    OperationStatusService.prototype.getPendingResponses = function (pendingResponseIds) {
        underscore__WEBPACK_IMPORTED_MODULE_2__["each"](pendingResponseIds, function (responseId) {
            var _this = this;
            this.httpService.getResponse(responseId).then(function (response) {
                var payload = response.json();
                underscore__WEBPACK_IMPORTED_MODULE_2__["each"](_this.operations, function (operation) {
                    if (operation.responseId === responseId) {
                        operation.status = payload ? payload.status : _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].eventStatus.unknown;
                        operation.isRead = false;
                        operation.completedEventCount = payload ? payload.completedEventCount : undefined;
                        operation.totalEventCount = payload ? payload.totalEventCount : undefined;
                    }
                });
                if (payload && payload.status === _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].eventStatus.wait) {
                    _this.notificationService.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_3__["applicationConstants"].operation.getPendingResponses });
                }
                _this.addOperationEvent(_this.operations);
            });
        }.bind(this));
    };
    OperationStatusService.prototype.getUrl = function (url, data) {
        var properties = underscore__WEBPACK_IMPORTED_MODULE_2__["keys"](data);
        underscore__WEBPACK_IMPORTED_MODULE_2__["each"](properties, function (aProp) {
            url = url.replace(new RegExp('{{' + aProp + '}}', 'g'), data[aProp]);
        });
        return url;
    };
    OperationStatusService.prototype.addOperationEvent = function (operation) {
        this.localEventEmitterService.operationEvent.emit({ eventName: 'operationStatusUpdateEvent', value: operation });
    };
    OperationStatusService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"], _common_storage_service__WEBPACK_IMPORTED_MODULE_6__["StorageService"], _common_user_service__WEBPACK_IMPORTED_MODULE_7__["UserService"],
            _common_notification_service__WEBPACK_IMPORTED_MODULE_4__["NotificationService"], _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_5__["LocalEventEmitterService"]])
    ], OperationStatusService);
    return OperationStatusService;
}());



/***/ }),

/***/ "./src/app/operation-status/operation.ts":
/*!***********************************************!*\
  !*** ./src/app/operation-status/operation.ts ***!
  \***********************************************/
/*! exports provided: Operation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Operation", function() { return Operation; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};

var Operation = (function () {
    function Operation(responseId, cmsOperation, status, data, url) {
        if (url === void 0) { url = ''; }
        this.responseId = responseId;
        this.cmsOperation = cmsOperation;
        this.status = status;
        this.data = data;
        this.operationDate = new Date().getTime() / 1000;
        this.url = url;
    }
    Operation = __decorate([
        __param(4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()),
        __metadata("design:paramtypes", [Object, Object, Object, Object, Object])
    ], Operation);
    return Operation;
}());



/***/ }),

/***/ "./src/app/personal-updates/personal-update.service.ts":
/*!*************************************************************!*\
  !*** ./src/app/personal-updates/personal-update.service.ts ***!
  \*************************************************************/
/*! exports provided: PersonalUpdateService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PersonalUpdateService", function() { return PersonalUpdateService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PersonalUpdateService = (function () {
    function PersonalUpdateService(httpService) {
        this.httpService = httpService;
    }
    PersonalUpdateService.prototype.getPersonalUpdates = function (lastRecordId, pageSize) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/RealtimeUpdate?LastRecordIdinPaging=' + lastRecordId + '&PageSize=' + pageSize)
            .toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    PersonalUpdateService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"]])
    ], PersonalUpdateService);
    return PersonalUpdateService;
}());



/***/ }),

/***/ "./src/app/personal-updates/personal-updates.component.html":
/*!******************************************************************!*\
  !*** ./src/app/personal-updates/personal-updates.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-list fxLayout=\"column\" class=\"personal-updates-wrapper\">\r\n    <h2 ngClass=\"mb-10\">Personal Updates</h2>\r\n    <mat-progress-bar fxLayout=\"row\" fxLayoutAlign=\"start stretch\" mode=\"indeterminate\" *ngIf=\"isDataLoading\"></mat-progress-bar>\r\n    <div fxLayout=\"column\" slimScroll ngClass=\"personal-updates-scroll\" appInfiniteScroll (scrolldown)=\"onScrollDown()\" [fxHide]=\"!(personalUpdateList && personalUpdateList.length>0)\">\r\n      <mat-list-item fxFlex fxLayoutGap=\"2px\" *ngFor=\"let item of personalUpdateList\">\r\n        <div class=\"left-view\">\r\n          <div class=\"profile-avatar\">\r\n            <div class=\"profile-short-name\" *ngIf=\"!item.profilePicUrl\">\r\n              {{getProfileShortName(item)}}\r\n            </div>\r\n            <img *ngIf=\"item.profilePicUrl\" src=\"{{item.profilePicUrl}}\" ngClass=\"img-responsive w-100\">\r\n          </div>\r\n        </div>\r\n        <div class=\"right-view\" fxLayoutGap=\"5px\">\r\n          <h4 mat-line class=\"h-date\">\r\n            <span>\r\n              <span class=\"name\">{{item.userName}} </span>{{item.created}} </span>\r\n          </h4>\r\n          <div appCustomTooltip>\r\n            <div class=\"oneline-ellipsis\" [innerHTML]=\"item.content |sanitizeHtml\"> </div>\r\n            <div class=\"custom-tooltip-child\" fxLayout=\"column\" fxLayoutGap=\"3px\"  [innerHTML]=\"item.content |sanitizeHtml\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-list-item>\r\n    </div>\r\n  </mat-list>"

/***/ }),

/***/ "./src/app/personal-updates/personal-updates.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/personal-updates/personal-updates.component.ts ***!
  \****************************************************************/
/*! exports provided: PersonalUpdatesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PersonalUpdatesComponent", function() { return PersonalUpdatesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _common_template_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/template.service */ "./src/app/common/template.service.ts");
/* harmony import */ var rxjs_Subject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/Subject */ "./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _personal_update_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./personal-update.service */ "./src/app/personal-updates/personal-update.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var PersonalUpdatesComponent = (function (_super) {
    __extends(PersonalUpdatesComponent, _super);
    function PersonalUpdatesComponent(personalUpdateService, injector, templateService) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.personalUpdateService = personalUpdateService;
        _this.injector = injector;
        _this.templateService = templateService;
        _this.personalUpdateList = [];
        _this.pageSize = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].pageSize;
        _this.subscriptionMap = new Map();
        // this one is demo data
        // once server is ready then UI can remove hard coded values
        _this.updateList = [
            {
                'realtimeUpdateId': '5acc4fcb8bf52a3380a09f48',
                'userId': '5ab35c990ef87210bc0b8a3e',
                'resourceId': '5acc4f918bf52a3380a09f45',
                'firstName': 'Shashi',
                'lastName': 'Kiran',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Shashi_Kiran_968cc7bf-9c2b-43da-9563-f36c98f7a42b.png',
                'realtimeUpdateOperation': 5,
                'resourceProperties': {
                    'draftId': '5acc4f918bf52a3380a09f45',
                    'draftName': 'draft11',
                    'nodeId': '5ab8cd346c4da614e0c6ab2a',
                    'shortTitle': 'ManualVersionszaa',
                    'distributionId': '5ab8cce66c4da614e0c6ab26',
                    'distributionName': '2018.03',
                    'projectId': '5ab3781233c6231f34f9429b',
                    'projectName': 'GSKTest'
                },
                'resourceType': 'Draft',
                'resourceChange': {
                    'resourceName': 'draft11'
                },
                'createdDate': 1523339211
            },
            {
                'realtimeUpdateId': '5acc46698bf52a3380a09f44',
                'userId': '5ab35c990ef87210bc0b8a3e',
                'resourceId': '5acc465e8bf52a3380a09f43',
                'firstName': 'Shashi',
                'lastName': 'Kiran',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Shashi_Kiran_968cc7bf-9c2b-43da-9563-f36c98f7a42b.png',
                'realtimeUpdateOperation': 3,
                'resourceProperties': {
                    'nodeId': '5acc465e8bf52a3380a09f43',
                    'shortTitle': 'node1',
                    'distributionId': '5ab8cce66c4da614e0c6ab26',
                    'distributionName': '2018.03',
                    'projectId': '5ab3781233c6231f34f9429b',
                    'projectName': 'GSKTest'
                },
                'resourceType': 'Node',
                'resourceChange': {
                    'resourceName': 'node1'
                },
                'createdDate': 1523336809
            },
            {
                'realtimeUpdateId': '5acc3d768bf52a3380a09f42',
                'userId': '5ab4f8d2c36a3728b8e325c4',
                'resourceId': '5acc3c9ea4d50f36b8b8612a',
                'firstName': 'Service',
                'lastName': 'Staging',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Service_Staging_3038686a-8bf4-4b1d-831e-d68fb6f083ce.jpeg',
                'realtimeUpdateOperation': 2,
                'resourceProperties': {
                    'distributionId': '5acc3c9ea4d50f36b8b8612a',
                    'distributionName': 'AutoDistributionNameM7YXHZEX',
                    'projectId': '5acc3c81a4d50f36b8b86128',
                    'projectName': 'AutoCreateProjectNameNSFVB6N0'
                },
                'resourceType': 'Distribution',
                'resourceChange': {
                    'resourceName': 'AutoDistributionNameM7YXHZEX'
                },
                'createdDate': 1523334518
            },
            {
                'realtimeUpdateId': '5acc3c96a4d50f36b8b86129',
                'userId': '5ab4f8d2c36a3728b8e325c4',
                'resourceId': '5acc3c81a4d50f36b8b86128',
                'firstName': 'Service',
                'lastName': 'Staging',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Service_Staging_3038686a-8bf4-4b1d-831e-d68fb6f083ce.jpeg',
                'realtimeUpdateOperation': 1,
                'resourceProperties': {
                    'projectId': '5acc3c81a4d50f36b8b86128',
                    'projectName': 'AutoCreateProjectNameNSFVB6N0'
                },
                'resourceType': 'Project',
                'resourceChange': {
                    'resourceName': 'AutoCreateProjectNameNSFVB6N0'
                },
                'createdDate': 1523334294
            },
            {
                'realtimeUpdateId': '5acc2e3ba4d50f36b8b86127',
                'userId': '5ab395dba247ed14b830e96c',
                'resourceId': '5abd1294caf254274c95fc31',
                'firstName': 'Mark',
                'lastName': 'Dugdale',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Mark_Dugdale_5241c23b-1bb1-4ab9-b2e0-665b37cfb3fe.png',
                'realtimeUpdateOperation': 12,
                'resourceProperties': {
                    'draftId': '5abd1294caf254274c95fc31',
                    'draftName': 'asdjbasjda',
                    'nodeId': '5abd0127caf254274c95fbfa',
                    'shortTitle': 'ManualVersions',
                    'distributionId': '5abd0112caf254274c95fbf8',
                    'distributionName': '2017.1',
                    'projectId': '5abd00dccaf254274c95fbf7',
                    'projectName': 'MarkTest2'
                },
                'resourceType': 'Draft',
                'resourceChange': {
                    'resourceName': 'asdjbasjda'
                },
                'createdDate': 1523330619
            },
            {
                'realtimeUpdateId': '5acc2825a4d50f36b8b86123',
                'userId': '5ab395dba247ed14b830e96c',
                'resourceId': '5acc27dca4d50f36b8b860ea',
                'firstName': 'Mark',
                'lastName': 'Dugdale',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Mark_Dugdale_5241c23b-1bb1-4ab9-b2e0-665b37cfb3fe.png',
                'realtimeUpdateOperation': 2,
                'resourceProperties': {
                    'distributionId': '5acc27dca4d50f36b8b860ea',
                    'distributionName': '2018.3',
                    'projectId': '5abd00dccaf254274c95fbf7',
                    'projectName': 'MarkTest2'
                },
                'resourceType': 'Distribution',
                'resourceChange': {
                    'resourceName': '2018.3'
                },
                'createdDate': 1523329061
            },
            {
                'realtimeUpdateId': '5acc1a01a4d50f36b8b860e9',
                'userId': '5ab395dba247ed14b830e96c',
                'resourceId': '5acc19dda4d50f36b8b860e5',
                'firstName': 'Mark',
                'lastName': 'Dugdale',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Mark_Dugdale_5241c23b-1bb1-4ab9-b2e0-665b37cfb3fe.png',
                'realtimeUpdateOperation': 5,
                'resourceProperties': {
                    'draftId': '5acc19dda4d50f36b8b860e5',
                    'draftName': 'Example draft',
                    'nodeId': '5acc124ea4d50f36b8b860ac',
                    'shortTitle': 'UnityManual',
                    'distributionId': '5acc123ca4d50f36b8b860ab',
                    'distributionName': '2018.2',
                    'projectId': '5abd00dccaf254274c95fbf7',
                    'projectName': 'MarkTest2'
                },
                'resourceType': 'Draft',
                'resourceChange': {
                    'resourceName': 'Example draft'
                },
                'createdDate': 1523325441
            },
            {
                'realtimeUpdateId': '5acc12c7a4d50f36b8b860e4',
                'userId': '5ab395dba247ed14b830e96c',
                'resourceId': '5acc123ca4d50f36b8b860ab',
                'firstName': 'Mark',
                'lastName': 'Dugdale',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Mark_Dugdale_5241c23b-1bb1-4ab9-b2e0-665b37cfb3fe.png',
                'realtimeUpdateOperation': 2,
                'resourceProperties': {
                    'distributionId': '5acc123ca4d50f36b8b860ab',
                    'distributionName': '2018.2',
                    'projectId': '5abd00dccaf254274c95fbf7',
                    'projectName': 'MarkTest2'
                },
                'resourceType': 'Distribution',
                'resourceChange': {
                    'resourceName': '2018.2'
                },
                'createdDate': 1523323591
            },
            {
                'realtimeUpdateId': '5acb9fbc3a172931f42e01bb',
                'userId': '5ab4f8d2c36a3728b8e325c4',
                'resourceId': '5acb9ef33a172931f42e017b',
                'firstName': 'Service',
                'lastName': 'Staging',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Service_Staging_3038686a-8bf4-4b1d-831e-d68fb6f083ce.jpeg',
                'realtimeUpdateOperation': 2,
                'resourceProperties': {
                    'distributionId': '5acb9ef33a172931f42e017b',
                    'distributionName': 'AutoDistributionName5FBK0HWE',
                    'projectId': '5acb9ed43a172931f42e0179',
                    'projectName': 'AutoCreateProjectNameGCG3F6LD'
                },
                'resourceType': 'Distribution',
                'resourceChange': {
                    'resourceName': 'AutoDistributionName5FBK0HWE'
                },
                'createdDate': 1523294140
            },
            {
                'realtimeUpdateId': '5acb9eed3a172931f42e017a',
                'userId': '5ab4f8d2c36a3728b8e325c4',
                'resourceId': '5acb9ed43a172931f42e0179',
                'firstName': 'Service',
                'lastName': 'Staging',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Service_Staging_3038686a-8bf4-4b1d-831e-d68fb6f083ce.jpeg',
                'realtimeUpdateOperation': 1,
                'resourceProperties': {
                    'projectId': '5acb9ed43a172931f42e0179',
                    'projectName': 'AutoCreateProjectNameGCG3F6LD'
                },
                'resourceType': 'Project',
                'resourceChange': {
                    'resourceName': 'AutoCreateProjectNameGCG3F6LD'
                },
                'createdDate': 1523293933
            },
            {
                'realtimeUpdateId': '5acb9a943a172931f42e0138',
                'userId': '5ab4f8d2c36a3728b8e325c4',
                'resourceId': '5acb9a813a172931f42e0137',
                'firstName': 'Service',
                'lastName': 'Staging',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Service_Staging_3038686a-8bf4-4b1d-831e-d68fb6f083ce.jpeg',
                'realtimeUpdateOperation': 1,
                'resourceProperties': {
                    'projectId': '5acb9a813a172931f42e0137',
                    'projectName': 'AutoCreateProjectNameV9CZXF9A'
                },
                'resourceType': 'Project',
                'resourceChange': {
                    'resourceName': 'AutoCreateProjectNameV9CZXF9A'
                },
                'createdDate': 1523292820
            },
            {
                'realtimeUpdateId': '5acb61933a172931f42e0136',
                'userId': '5ab35c990ef87210bc0b8a3e',
                'resourceId': '5acb60543a172931f42e00f6',
                'firstName': 'Shashi',
                'lastName': 'Kiran',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Shashi_Kiran_968cc7bf-9c2b-43da-9563-f36c98f7a42b.png',
                'realtimeUpdateOperation': 2,
                'resourceProperties': {
                    'distributionId': '5acb60543a172931f42e00f6',
                    'distributionName': '2018.04.04',
                    'projectId': '5ab3781233c6231f34f9429b',
                    'projectName': 'GSKTest'
                },
                'resourceType': 'Distribution',
                'resourceChange': {
                    'resourceName': '2018.04.04'
                },
                'createdDate': 1523278227
            },
            {
                'realtimeUpdateId': '5acb5ec73a172931f42e00f4',
                'userId': '5ab35c990ef87210bc0b8a3e',
                'resourceId': '5acb5e813a172931f42e00f0',
                'firstName': 'Shashi',
                'lastName': 'Kiran',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Shashi_Kiran_968cc7bf-9c2b-43da-9563-f36c98f7a42b.png',
                'realtimeUpdateOperation': 5,
                'resourceProperties': {
                    'draftId': '5acb5e813a172931f42e00f0',
                    'draftName': 'Draft1',
                    'nodeId': '5acb5e393a172931f42e00ee',
                    'shortTitle': 'UTest',
                    'distributionId': '5ab8cce66c4da614e0c6ab26',
                    'distributionName': '2018.03',
                    'projectId': '5ab3781233c6231f34f9429b',
                    'projectName': 'GSKTest'
                },
                'resourceType': 'Draft',
                'resourceChange': {
                    'resourceName': 'Draft1'
                },
                'createdDate': 1523277511
            },
            {
                'realtimeUpdateId': '5acb5e453a172931f42e00ef',
                'userId': '5ab35c990ef87210bc0b8a3e',
                'resourceId': '5acb5e393a172931f42e00ee',
                'firstName': 'Shashi',
                'lastName': 'Kiran',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Shashi_Kiran_968cc7bf-9c2b-43da-9563-f36c98f7a42b.png',
                'realtimeUpdateOperation': 3,
                'resourceProperties': {
                    'nodeId': '5acb5e393a172931f42e00ee',
                    'shortTitle': 'UTest',
                    'distributionId': '5ab8cce66c4da614e0c6ab26',
                    'distributionName': '2018.03',
                    'projectId': '5ab3781233c6231f34f9429b',
                    'projectName': 'GSKTest'
                },
                'resourceType': 'Node',
                'resourceChange': {
                    'resourceName': 'UTest'
                },
                'createdDate': 1523277381
            },
            {
                'realtimeUpdateId': '5acb52d13a172931f42e00ed',
                'userId': '5ab4f8d2c36a3728b8e325c4',
                'resourceId': '5acb52553a172931f42e00ad',
                'firstName': 'Service',
                'lastName': 'Staging',
                'profilePicUrl': 'https://docworksstagingstorage.blob.core.windows.net:443/userprofilepic/Service_Staging_3038686a-8bf4-4b1d-831e-d68fb6f083ce.jpeg',
                'realtimeUpdateOperation': 2,
                'resourceProperties': {
                    'distributionId': '5acb52553a172931f42e00ad',
                    'distributionName': 'AutoDistributionNameZD1QQRIS',
                    'projectId': '5acb52373a172931f42e00ab',
                    'projectName': 'AutoCreateProjectNameOFQL0O76'
                },
                'resourceType': 'Distribution',
                'resourceChange': {
                    'resourceName': 'AutoDistributionNameZD1QQRIS'
                },
                'createdDate': 1523274449
            }
        ];
        _this.topic = undefined;
        return _this;
    }
    PersonalUpdatesComponent.prototype.ngOnInit = function () {
        this.constructTemplateData(this.updateList, false);
        // this.getPersonalUpdates();
    };
    PersonalUpdatesComponent.prototype.subscribeUpdates = function () {
        this.unsubscribeUpdates();
        this.subscriptionEpoc = Math.round(new Date().getTime() / 1000);
        this.subscriptionMap.set(this.subscriptionEpoc, new rxjs_Subject__WEBPACK_IMPORTED_MODULE_4__["Subject"]());
        this.notificationService.subscribeTopicWithQuery('PersonalUpdate', 'updatedTimeInEpoch', '>', this.subscriptionEpoc, 'GetPersonalUpdate');
    };
    PersonalUpdatesComponent.prototype.getPersonalUpdates = function () {
        var _this = this;
        // this.isDataLoading = true;
        this.personalUpdateService.getPersonalUpdates(this.lastRecordId, this.pageSize).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_7__["applicationConstants"].operation.getPersonalUpdate });
            _this.subscribeUpdates();
        });
    };
    PersonalUpdatesComponent.prototype.unsubscribeUpdates = function () {
        if (this.subscriptionMap.get(this.subscriptionEpoc)) {
            this.subscriptionMap.get(this.subscriptionEpoc).next();
            this.subscriptionMap.get(this.subscriptionEpoc).complete();
        }
        this.notificationService.unsubscribeTopic(this.subscriptionEpoc);
    };
    PersonalUpdatesComponent.prototype.GetPersonalUpdate = function (notification) {
        this.isDataLoading = false;
        var isTop = notification.isTop;
        if (isTop) {
            underscore__WEBPACK_IMPORTED_MODULE_5__["each"](notification.data, function (value) {
                this.constructTemplateData([value.realtimeUpdateContent], isTop);
            }.bind(this));
            this.subscribeUpdates();
        }
        else {
            this.constructTemplateData(notification.data.content.personalUpdateList, isTop);
        }
    };
    PersonalUpdatesComponent.prototype.constructTemplateData = function (personalUpdateList, isTopRecord) {
        var totalRecordCount = personalUpdateList ? personalUpdateList.length : 0;
        underscore__WEBPACK_IMPORTED_MODULE_5__["each"](personalUpdateList, function (value, index) {
            var templateId = 'personalUpdates.' + value.realtimeUpdateOperation.toString();
            if (templateId) {
                var data = this.setTemplateData(value);
                value.content = this.templateService.getTemplateString(templateId, data);
                if (isTopRecord) {
                    this.personalUpdateList.unshift(value);
                }
                else {
                    this.personalUpdateList.push(value);
                    this.lastRecordId = (index + 1) === totalRecordCount ? value.realtimeUpdateId : this.lastRecordId;
                }
            }
        }.bind(this));
    };
    PersonalUpdatesComponent.prototype.setTemplateData = function (value) {
        var data = value.resourceChange;
        data.draftId = value.resourceProperties.draftId;
        data.draftName = value.resourceProperties.draftName;
        data.nodeId = value.resourceProperties.nodeId;
        data.shortTitle = value.resourceProperties.shortTitle;
        data.distributionId = value.resourceProperties.distributionId;
        data.distributionName = value.resourceProperties.distributionName;
        data.projectId = value.resourceProperties.projectId;
        data.projectName = value.resourceProperties.projectName;
        data.userName = value.firstName + ' ' + value.lastName;
        return data;
    };
    PersonalUpdatesComponent.prototype.onScrollDown = function () {
        this.getPersonalUpdates();
    };
    PersonalUpdatesComponent.prototype.ngOnDestroy = function () {
        this.unsubscribeUpdates();
    };
    PersonalUpdatesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-personal-updates',
            template: __webpack_require__(/*! ./personal-updates.component.html */ "./src/app/personal-updates/personal-updates.component.html"),
            providers: [_personal_update_service__WEBPACK_IMPORTED_MODULE_6__["PersonalUpdateService"], _common_template_service__WEBPACK_IMPORTED_MODULE_3__["TemplateService"]]
        }),
        __metadata("design:paramtypes", [_personal_update_service__WEBPACK_IMPORTED_MODULE_6__["PersonalUpdateService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_template_service__WEBPACK_IMPORTED_MODULE_3__["TemplateService"]])
    ], PersonalUpdatesComponent);
    return PersonalUpdatesComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/app/project-add/project-add.component.html":
/*!********************************************************!*\
  !*** ./src/app/project-add/project-add.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" class=\"add-project-wrapper\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>Create New Project</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxFlexFill>\r\n    <form [formGroup]=\"projectForm\" fxLayout=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"start stretch\">\r\n      <mat-form-field>\r\n        <input maxlength=\"100\" matInput placeholder=\"Project Title\" required [formControl]=\"projectTitle\">\r\n        <small matSuffix>{{projectTitle.value?.length || 0}}/100</small>\r\n        <mat-error *ngIf=\"projectTitle.hasError('required')\">Project Title is required</mat-error>\r\n        <mat-error *ngIf=\"projectTitle.hasError('minlength')\">Please enter at least 5 characters</mat-error>\r\n        <mat-error *ngIf=\"projectTitle.hasError('maxlength')\">Please enter maximum of 100 characters</mat-error>\r\n        <mat-error *ngIf=\"projectTitle.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field>\r\n        <mat-select placeholder=\"Type of Content\" required [formControl]=\"typeOfContent\">\r\n          <mat-option *ngFor=\"let item of typeOfContentArray\" [value]=\"item.key\"> {{ item.value }}</mat-option>\r\n        </mat-select>\r\n        <mat-error *ngIf=\"typeOfContent.hasError('required')\">Type Of Content is required</mat-error>\r\n        <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isContentDataLoadInProgress\"></mat-progress-bar>\r\n      </mat-form-field>\r\n\r\n\r\n      <mat-form-field>\r\n        <mat-select placeholder=\"Source Control Provider\" required [formControl]=\"sourceControlProviderType\" (change)=\"sourceControlProviderChange()\">\r\n          <mat-option *ngFor=\"let provider of sourceControlProvidersArray\" [value]=\"provider\"> {{provider.providerName}}</mat-option>\r\n        </mat-select>\r\n        <mat-error *ngIf=\"sourceControlProviderType.hasError('required')\">Source Control provider is required</mat-error>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field [fxHide]=\"sourceControlProviderType.value.sourceControlType==sourceControlTypes.Mercurial\">\r\n        <mat-select placeholder=\"Repository\" [required]=\"sourceControlProviderType.value.sourceControlType==sourceControlTypes.GIT\" [formControl]=\"repoUrl\">\r\n          <mat-option *ngFor=\"let item of repositoriesArray\" [value]=\"item\"> {{ item.cloneUrl | repoName}}</mat-option>\r\n        </mat-select>\r\n        <mat-error *ngIf=\"repoUrl.hasError('required')\">Repository is required</mat-error>\r\n        <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isRepoURLDataLoadInProgress\"></mat-progress-bar>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field [fxHide]=\"sourceControlProviderType.value.sourceControlType==sourceControlTypes.GIT\">\r\n        <input maxlength=\"100\" matInput placeholder=\"Mercurial Repo Path\" [required]=\"sourceControlProviderType.value.sourceControlType==sourceControlTypes.Mercurial\" [formControl]=\"mercurialRepoPath\">\r\n        <small matSuffix>{{mercurialRepoPath.value?.length || 0}}/100</small>\r\n        <mat-error *ngIf=\"mercurialRepoPath.hasError('maxlength')\">Please enter maximum of 100 characters</mat-error>\r\n        <mat-error *ngIf=\"mercurialRepoPath.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field>\r\n        <input maxlength=\"100\" matInput placeholder=\"Published Path\" required [formControl]=\"publishedPath\">\r\n        <small matSuffix>{{publishedPath.value?.length || 0}}/100</small>\r\n        <mat-error *ngIf=\"publishedPath.hasError('required')\">Published Path is required</mat-error>\r\n        <mat-error *ngIf=\"publishedPath.hasError('minlength')\">Please enter at least 5 characters</mat-error>\r\n        <mat-error *ngIf=\"publishedPath.hasError('maxlength')\">Please enter maximum of 100 characters</mat-error>\r\n        <mat-error *ngIf=\"publishedPath.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field>\r\n        <textarea maxlength=\"1000\" matInput placeholder=\"Description\" [formControl]=\"description\"></textarea>\r\n        <small matSuffix>{{description.value?.length || 0}}/1000</small>\r\n        <mat-error *ngIf=\"description.hasError('maxlength')\">Please enter maximum of 1000 characters</mat-error>\r\n        <mat-error *ngIf=\"description.hasError('whitespace')\">Leading and trailing white spaces not allowed</mat-error>\r\n      </mat-form-field>\r\n\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"10px\"  [fxHide]=\"!isOperationAllowed([cmsOperations.CreateProject])\" >\r\n        <button mat-raised-button color=\"primary\" [disabled]=\"!projectForm.valid\" (click)=\"addProject();\" class=\"btn\">\r\n          Create Project\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </mat-dialog-content>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/project-add/project-add.component.ts":
/*!******************************************************!*\
  !*** ./src/app/project-add/project-add.component.ts ***!
  \******************************************************/
/*! exports provided: ProjectAddComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectAddComponent", function() { return ProjectAddComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/whitespace-validator */ "./src/app/common/whitespace-validator.ts");
/* harmony import */ var _sourceControlProviders__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sourceControlProviders */ "./src/app/project-add/sourceControlProviders.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ProjectAddComponent = (function (_super) {
    __extends(ProjectAddComponent, _super);
    function ProjectAddComponent(projectService, injector, formBuilder, dialogRef) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_4__["pageTitleList"].addProject }) || this;
        _this.projectService = projectService;
        _this.injector = injector;
        _this.formBuilder = formBuilder;
        _this.dialogRef = dialogRef;
        _this.sourceControlTypes = _constants__WEBPACK_IMPORTED_MODULE_4__["SourceControlType"];
        _this.sourceControlProvidersArray = _sourceControlProviders__WEBPACK_IMPORTED_MODULE_8__["sourceControlProviderTypes"];
        _this.projectTitle = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__["WhiteSpaceValidator"]]);
        _this.typeOfContent = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]);
        _this.sourceControlProviderType = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]);
        _this.mercurialRepoPath = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].maxLength(1000), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__["WhiteSpaceValidator"]]);
        _this.repoUrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        _this.description = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].maxLength(1000), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__["WhiteSpaceValidator"]]);
        _this.publishedPath = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_7__["WhiteSpaceValidator"]]);
        _this.isRepoURLDataLoadInProgress = true;
        _this.isContentDataLoadInProgress = true;
        _this.createAddProjectForm();
        return _this;
    }
    ProjectAddComponent.prototype.ngOnInit = function () {
        this.getTypeOfContent();
        this.sourceControlProviderType.setValue(this.sourceControlProvidersArray[0], { onlySelf: true });
        this.getRepositories();
    };
    ProjectAddComponent.prototype.createAddProjectForm = function () {
        this.projectForm = this.formBuilder.group({
            projectTitle: this.projectTitle,
            typeOfContent: this.typeOfContent,
            repoUrl: this.repoUrl,
            description: this.description,
            publishedPath: this.publishedPath,
            sourceControlProviderType: this.sourceControlProviderType,
            mercurialRepoPath: this.mercurialRepoPath
        });
    };
    ProjectAddComponent.prototype.getRepositories = function () {
        var _this = this;
        this.repositoriesArray = [];
        this.isRepoURLDataLoadInProgress = true;
        var serviceResponse;
        serviceResponse = this.projectService.getRepositories(this.sourceControlProviderType.value.providerId);
        if (serviceResponse.data && serviceResponse.data.length >= 0) {
            this.setRepositoryList(serviceResponse.data);
        }
        serviceResponse.responseObservable.toPromise().then(function (response) {
            var responseId = response.json().responseId;
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].operation.getRepositoryList });
        });
    };
    ProjectAddComponent.prototype.getTypeOfContent = function () {
        var _this = this;
        this.projectService.getTypeOfContent().then(function (response) {
            _this.typeOfContentArray = response;
            _this.isContentDataLoadInProgress = false;
        });
    };
    ProjectAddComponent.prototype.addProject = function () {
        var _this = this;
        var project = this.createProjectObject(this.projectForm.value);
        this.projectService.addProject(project).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_4__["applicationConstants"].operation.createProject });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_3__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_4__["cmsOperation"].CreateProject, _constants__WEBPACK_IMPORTED_MODULE_4__["eventStatus"].Wait, { projectName: project.projectName });
            _this.addOperationEvent(operation);
        });
        this.dialogRef.close();
    };
    ProjectAddComponent.prototype.getRepositoryListEvent = function (notification) {
        this.setRepositoryList(notification.data.content.repositories);
    };
    ProjectAddComponent.prototype.setRepositoryList = function (repositories) {
        this.isRepoURLDataLoadInProgress = false;
        this.repositoriesArray = repositories;
    };
    ProjectAddComponent.prototype.createProjectObject = function (value) {
        return {
            projectName: value.projectTitle,
            repositoryId: value.sourceControlProviderType.sourceControlType === this.sourceControlTypes.GIT ? value.repoUrl.repositoryId : 0,
            repositoryName: value.sourceControlProviderType.sourceControlType === this.sourceControlTypes.GIT ? value.repoUrl.repositoryName : '',
            typeOfContent: value.typeOfContent,
            description: value.description,
            publishedPath: value.publishedPath,
            sourceControlProviderType: value.sourceControlProviderType.providerId,
            mercurialRepositoryUrl: value.sourceControlProviderType.sourceControlType === this.sourceControlTypes.Mercurial ? value.mercurialRepoPath : ''
        };
    };
    ProjectAddComponent.prototype.sourceControlProviderChange = function () {
        this.getRepositories();
    };
    ProjectAddComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-project-add',
            template: __webpack_require__(/*! ./project-add.component.html */ "./src/app/project-add/project-add.component.html")
        }),
        __metadata("design:paramtypes", [_project_project_service__WEBPACK_IMPORTED_MODULE_1__["ProjectService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _angular_material__WEBPACK_IMPORTED_MODULE_6__["MatDialogRef"]])
    ], ProjectAddComponent);
    return ProjectAddComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_5__["BaseComponent"]));



/***/ }),

/***/ "./src/app/project-add/sourceControlProviders.ts":
/*!*******************************************************!*\
  !*** ./src/app/project-add/sourceControlProviders.ts ***!
  \*******************************************************/
/*! exports provided: sourceControlProviderTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sourceControlProviderTypes", function() { return sourceControlProviderTypes; });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");

var sourceControlProviderTypes = [
    {
        'providerName': 'GitLab',
        'providerId': _constants__WEBPACK_IMPORTED_MODULE_0__["SourceControlProviderType"].GitLab,
        'sourceControlType': _constants__WEBPACK_IMPORTED_MODULE_0__["SourceControlType"].GIT
    },
    {
        'providerName': 'GitHub',
        'providerId': _constants__WEBPACK_IMPORTED_MODULE_0__["SourceControlProviderType"].GitHub,
        'sourceControlType': _constants__WEBPACK_IMPORTED_MODULE_0__["SourceControlType"].GIT
    },
    {
        'providerName': 'Ono',
        'providerId': _constants__WEBPACK_IMPORTED_MODULE_0__["SourceControlProviderType"].Mercurial,
        'sourceControlType': _constants__WEBPACK_IMPORTED_MODULE_0__["SourceControlType"].Mercurial
    }
];


/***/ }),

/***/ "./src/app/project/project.component.html":
/*!************************************************!*\
  !*** ./src/app/project/project.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<router-outlet></router-outlet>"

/***/ }),

/***/ "./src/app/project/project.component.ts":
/*!**********************************************!*\
  !*** ./src/app/project/project.component.ts ***!
  \**********************************************/
/*! exports provided: ProjectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectComponent", function() { return ProjectComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ProjectComponent = (function (_super) {
    __extends(ProjectComponent, _super);
    function ProjectComponent(route, injector) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.route = route;
        _this.injector = injector;
        return _this;
    }
    ProjectComponent.prototype.ngOnInit = function () {
        this.subscribeForRouteParams();
    };
    ProjectComponent.prototype.subscribeForRouteParams = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.projectId = params.projectId;
            _this.projectService.setProjectIdToCache(params.projectId);
            _this.unsubscribe();
            _this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_2__["topics"].Project + '/' + _this.projectId, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_2__["topics"].Project + '/' + _this.projectId, eventName: 'updateDistributionList' };
            _this.subscribeTopic();
            _this.getDistributionList(_this.projectId);
        });
    };
    ProjectComponent.prototype.updateDistributionList = function (value) {
        this.getDistributionList(this.projectId);
    };
    ProjectComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-project',
            template: __webpack_require__(/*! ./project.component.html */ "./src/app/project/project.component.html"),
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"]])
    ], ProjectComponent);
    return ProjectComponent;
}(_operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_3__["OperationBaseComponent"]));



/***/ }),

/***/ "./src/app/project/project.service.ts":
/*!********************************************!*\
  !*** ./src/app/project/project.service.ts ***!
  \********************************************/
/*! exports provided: ProjectService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectService", function() { return ProjectService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _common_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/storage.service */ "./src/app/common/storage.service.ts");
/* harmony import */ var _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/authoring-cache.service */ "./src/app/common/authoring-cache.service.ts");
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ProjectService = (function () {
    function ProjectService(httpService, storageService, injector, authoringCacheService, localEventEmitterService) {
        this.httpService = httpService;
        this.storageService = storageService;
        this.injector = injector;
        this.authoringCacheService = authoringCacheService;
        this.localEventEmitterService = localEventEmitterService;
    }
    ProjectService.prototype.getProjectsFromCache = function () {
        return this.authoringCacheService.getProjects();
    };
    ProjectService.prototype.getProjects = function () {
        return {
            data: this.authoringCacheService.getProjects(),
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Projects')
        };
    };
    ProjectService.prototype.setProjects = function (value) {
        this.authoringCacheService.setProjects(value);
    };
    ProjectService.prototype.setProjectIdToCache = function (projectId) {
        this.authoringCacheService.selectedProjectId = projectId;
    };
    ProjectService.prototype.getSelectedProject = function () {
        return this.authoringCacheService.getSelectedProject();
    };
    ProjectService.prototype.getSelectedProjectId = function () {
        return this.authoringCacheService.selectedProjectId;
    };
    ProjectService.prototype.addProject = function (project) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/projects', project).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    ProjectService.prototype.getTypeOfContent = function () {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/StaticFields/DocumentationType').toPromise().then(function (response) {
            return response.json();
        });
    };
    ProjectService.prototype.getRepositories = function (providerId) {
        return {
            data: undefined,
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Repositories/' + providerId)
        };
    };
    ProjectService.prototype.addTagGroupsToProject = function (requestModel) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Projects/AddTagGroupsToProject', requestModel).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    ProjectService.prototype.removeTagGroupsFromProject = function (requestModel) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Projects/DeleteTagGroupsFromProject', requestModel).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    ProjectService.prototype.getTagGroupsForProject = function (projectId) {
        return {
            data: undefined,
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Projects/' + projectId + '/tagGroups')
        };
    };
    ProjectService.prototype.updateProjectInLocalStorage = function (project, key, isAdd, isRecent) {
        if (isRecent) {
            this.updateRecentProjects(project, key);
        }
        else {
            this.updateFavouriteProjects(project, key, isAdd);
        }
    };
    ProjectService.prototype.updateRecentProjects = function (project, key) {
        var projectList = this.storageService.read(key);
        if (projectList) {
            projectList = underscore__WEBPACK_IMPORTED_MODULE_3__["filter"](projectList, function (value) { return project.projectId !== value.projectId; });
            projectList.unshift(project);
        }
        else {
            projectList = [project];
        }
        this.storageService.write(key, projectList);
    };
    ProjectService.prototype.updateFavouriteProjects = function (project, key, isAdd) {
        var projectList = this.storageService.read(key);
        if (projectList) {
            projectList = underscore__WEBPACK_IMPORTED_MODULE_3__["filter"](projectList, function (value) { return project !== value; });
            if (isAdd) {
                projectList.unshift(project);
            }
        }
        else {
            projectList = isAdd ? [project] : [];
        }
        this.storageService.write(key, projectList);
    };
    ProjectService.prototype.getProjectsFromLocalStorage = function (key) {
        return this.storageService.read(key);
    };
    ProjectService.prototype.updateCachedProject = function (data) {
        this.authoringCacheService.updateProjectTagGroups(data);
    };
    ProjectService.prototype.deleteProject = function (project) {
        return this.httpService.delete(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/projects/' + project._id)
            .toPromise()
            .then(function (response) {
            return response.json().responseId;
        });
    };
    ProjectService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"],
            _common_storage_service__WEBPACK_IMPORTED_MODULE_4__["StorageService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_5__["AuthoringCacheService"],
            _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_6__["LocalEventEmitterService"]])
    ], ProjectService);
    return ProjectService;
}());



/***/ }),

/***/ "./src/app/project/project.ts":
/*!************************************!*\
  !*** ./src/app/project/project.ts ***!
  \************************************/
/*! exports provided: Project, ProjectContent, TypeOfContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Project", function() { return Project; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectContent", function() { return ProjectContent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TypeOfContent", function() { return TypeOfContent; });
var Project = (function () {
    function Project() {
    }
    return Project;
}());

var ProjectContent = (function () {
    function ProjectContent() {
    }
    return ProjectContent;
}());

var TypeOfContent = (function () {
    function TypeOfContent() {
    }
    return TypeOfContent;
}());



/***/ }),

/***/ "./src/app/project/projectList.component.html":
/*!****************************************************!*\
  !*** ./src/app/project/projectList.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"15px\">\r\n  <div fxFlex=\"50%\" fxLayout=\"row\">\r\n    <span fxFlex ngClass=\"custom-form-field project-search\" fxLayoutAlign=\"stretch center\">\r\n      <input type=\"Search\" [(ngModel)]=\"searchString\" name=\"searchString\" fxFlex placeholder=\"Filter projects\">\r\n      <i class=\"mdi mdi-magnify mdi-24px\"></i>\r\n    </span>\r\n  </div>\r\n  <div fxFlex=\"5%\">\r\n    <span ngClass=\"cursor-pointer\">\r\n      <i *ngIf=\"isGridView\" (click)=\"isGridView=!isGridView\" class=\"mdi mdi-view-list mdi-24px\"></i>\r\n      <i *ngIf=\"!isGridView\" (click)=\"isGridView=!isGridView\" class=\"mdi mdi-view-module mdi-24px\"></i>\r\n    </span>\r\n  </div>\r\n  <div fxFlex=\"45%\" fxLayoutAlign=\"space-between center\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxFlex=\"0 0 calc(100% - 20px)\">\r\n      <button color=\"primary\" (click)=\"openCreateProjectDialog()\" [fxHide]=\"!isOperationAllowed([cmsOperations.CreateProject])\" class=\"btn-primary\">Create Project</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<mat-accordion fxLayout=\"column\">\r\n  <mat-expansion-panel [expanded]=\"true\" ngClass=\"bg-transparent\" fxFlexOffset=\"25px\">\r\n    <mat-expansion-panel-header ngClass=\"p-0\" collapsedHeight=\"24px\" expandedHeight=\"24px\">\r\n      <mat-panel-title>\r\n        <h2>Recent &amp; Favourite Projects</h2>\r\n      </mat-panel-title>\r\n    </mat-expansion-panel-header>\r\n    <div ngClass=\"project-list-wrapper\" fxLayout=\"column\">\r\n      <div fxLayout=\"{{isGridView ? 'row':'column'}}\" fxLayoutWrap fxLayoutAlign=\"start {{isGridView ? 'start':'stretch'}}\" fxLayoutGap=\"15px\"\r\n        ngClass=\"{{isGridView ? 'grid-view-wrapper':''}}\">\r\n        <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill fxFlexOffset=\"1.5\" *ngIf=\"!isGridView&&projectsLoaded\">\r\n          <div fxLayout=\"row\" fxFlex=\"100\" fxFlexOffset=\"1.5\" fxFlexAlign=\"stretch\">\r\n            <mat-card fxLayout=\"row\" fxFlex=\"0 0 calc(100% - 20px)\">\r\n              <mat-card-content fxLayout=\"row\" fxFlex=\"100\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\">\r\n                <div fxFlex=\"20%\">Project Name</div>\r\n                <div fxFlex=\"30%\">Project Description</div>\r\n                <div fxFlex=\"10%\">Total Drafts</div>\r\n                <div fxFlex=\"11%\">Total Articles</div>\r\n                <div fxFlex=\"12%\">Last Updated</div>\r\n                <div fxFlex=\"4%\">&nbsp;</div>\r\n                <div fxFlex=\"6%\">&nbsp;</div>\r\n                <div fxFlex=\"7%\">&nbsp;</div>\r\n              </mat-card-content>\r\n            </mat-card>\r\n          </div>\r\n        </div>\r\n        <div fxLayout=\"column\" fxFlex=\"{{isGridView ? '31.5':'100'}}\" fxFlex.md=\"{{isGridView ? '47':'100'}}\" ngClass=\"{{isGridView ? 'grid-view':'list-view'}} {{getProjectClass(project)}}\"\r\n          *ngFor=\"let project of favouriteAndRecentProjects | filter: 'projectName': searchString\">\r\n          <mat-card fxFlexOffset=\"15px\" fxFlex=\"100\" *ngIf=\"isGridView\">\r\n            <mat-card-title fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n              <div ngClass=\"oneline-ellipsis\" matTooltip=\"{{project.projectName}}\" fxFlex>{{project.projectName}}</div>\r\n              <div fxFlex=\"130px\" fxLayoutAlign=\"end center\">\r\n                <small fxFlex fxLayoutAlign=\"end\">2h</small>\r\n                <a [mat-menu-trigger-for]=\"menu\" (click)=\"$event.stopPropagation()\" ngClass=\"cursor-pointer\" fxFlexOffset=\"10px\" [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution,cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject,cmsOperations.AssignOrRemoveProjectAdmin])\">\r\n                  <i class=\"mdi mdi-settings mdi-24px\"></i>\r\n                  <i class=\"mdi mdi-chevron-down\" fxFlexOffset=\"-5px\"></i>\r\n                </a>\r\n                <mat-menu #menu=\"matMenu\" [overlapTrigger]=\"false\" xPosition=\"before\" class=\"arrowtop\">\r\n                  <button mat-menu-item [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution,cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject,cmsOperations.AssignOrRemoveProjectAdmin])\">Project Settings</button>\r\n                  <button mat-menu-item *ngIf=\"project.typeOfContent !== documentationType.KnowledgeBase\" (click)=\"createDistribution(project)\"\r\n                    [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution])\">\r\n                    Distributions\r\n                  </button>\r\n                  <button mat-menu-item (click)=\"openManageTagGroupsDialog(project)\" [fxHide]=\"!checkAccess(project,[cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject])\">Manage Tag Groups</button>\r\n                  <button mat-menu-item (click)=\"openManageAdminDialog(project)\" [fxHide]=\"!checkAccess(project,[cmsOperations.AssignOrRemoveProjectAdmin])\">Manage Admins</button>\r\n                  <button mat-menu-item (click)=\"deleteProject(project)\">Delete Project</button>\r\n                </mat-menu>\r\n              </div>\r\n            </mat-card-title>\r\n            <mat-divider></mat-divider>\r\n            <mat-card-content fxLayout=\"column\" class=\"word-break\">\r\n              <p class=\"mt-10\" title=\"{{project.description}}\">{{project.description}}</p>\r\n            </mat-card-content>\r\n            <mat-divider></mat-divider>\r\n\r\n            <mat-card-actions fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"5px\" ngClass=\"m-0\">\r\n              <mat-chip-list fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <mat-chip color=\"primary\" selected=\"true\" ngClass=\"p-5 circle\" fxLayoutAlign=\"center\" fxFlex=\"30px\">\r\n                  <small>156</small>\r\n                </mat-chip>\r\n                <small fxFlexOffset=\"3px\">Total Articles</small>\r\n              </mat-chip-list>\r\n              <mat-chip-list fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <mat-chip ngClass=\"p-5 circle\" fxLayoutAlign=\"center\" fxFlex=\"30px\">\r\n                  <small>45</small>\r\n                </mat-chip>\r\n                <small fxFlexOffset=\"3px\">Drafts</small>\r\n              </mat-chip-list>\r\n              <span class=\"favourite-project-icon cursor-pointer\" (click)=\"addRemoveFavouriteProject(!project.isFavourite, project._id)\">\r\n                <i [class]=\"project.isFavourite?'mdi-star mdi mdi-24px':'mdi-star-outline mdi mdi-24px'\"></i>\r\n              </span>\r\n              <span>\r\n                <button class=\"btn-primary\" color=\"primary\" (click)=\"navigateToAuthoringPane(project)\">\r\n                  Open</button>\r\n              </span>\r\n            </mat-card-actions>\r\n          </mat-card>\r\n          <div fxLayout=\"row\" fxFlex=\"100\" fxFlexAlign=\"stretch\" fxFlexFill *ngIf=\"!isGridView\">\r\n            <mat-card fxLayout=\"row\" ngClass=\"cursor-pointer\" fxFlex=\"0 0 calc(100% - 20px)\">\r\n              <mat-card-content fxLayout=\"row\" fxFlex=\"100\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\">\r\n                <div class=\"oneline-ellipsis\" fxFlex=\"22%\">{{project.projectName}}</div>\r\n                <div class=\"word-break\" fxFlex=\"33%\" title=\"{{project.description}}\">\r\n                  {{project.description}}\r\n                </div>\r\n                <div fxFlex=\"10%\">\r\n                  <mat-chip-list>\r\n                    <mat-chip color=\"warn\" selected=\"true\">158</mat-chip>\r\n                  </mat-chip-list>\r\n                </div>\r\n                <div fxFlex=\"11%\">\r\n                  <mat-chip-list>\r\n                    <mat-chip color=\"warn\" selected=\"true\">158</mat-chip>\r\n                  </mat-chip-list>\r\n                </div>\r\n                <div class=\"project-update-date\" fxFlex=\"16%\">Sep 4,2017</div>\r\n                <div fxFlex=\"4%\">\r\n                  <span class=\"favourite-project-icon cursor-pointer\" (click)=\"addRemoveFavouriteProject(!project.isFavourite, project._id)\">\r\n                    <i [class]=\"project.isFavourite?'mdi-star mdi mdi-24px':'mdi-star-outline mdi mdi-24px'\"></i>\r\n                  </span>\r\n                </div>\r\n                <div fxFlex=\"6%\">\r\n                  <a [mat-menu-trigger-for]=\"menu\" (click)=\"$event.stopPropagation()\" ngClass=\"cursor-pointer\" fxFlexOffset=\"10px\" [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution,cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject,cmsOperations.AssignOrRemoveProjectAdmin])\">\r\n                    <i class=\"mdi mdi-settings mdi-24px\"></i>\r\n                  </a>\r\n                  <mat-menu #menu=\"matMenu\" [overlapTrigger]=\"false\" xPosition=\"before\" class=\"arrowtop\">\r\n                    <button mat-menu-item [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution,cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject,cmsOperations.AssignOrRemoveProjectAdmin])\">Project Settings</button>\r\n                    <button mat-menu-item *ngIf=\"project.typeOfContent !== documentationType.KnowledgeBase\" (click)=\"createDistribution(project)\"\r\n                      [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution])\">Distributions</button>\r\n                    <button mat-menu-item (click)=\"openManageTagGroupsDialog(project)\" [fxHide]=\"!checkAccess(project,[cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject])\">Manage Tag Groups</button>\r\n                    <button mat-menu-item (click)=\"openManageAdminDialog(project)\" [fxHide]=\"!checkAccess(project,[cmsOperations.AssignOrRemoveProjectAdmin])\">Manage Admins</button>\r\n                    <button mat-menu-item (click)=\"deleteProject(project)\">Delete Project</button>\r\n                  </mat-menu>\r\n                </div>\r\n                <div fxFlex=\"7%\">\r\n                  <button mat-raised-button color=\"primary\" (click)=\"navigateToAuthoringPane(project)\">Open</button>\r\n                </div>\r\n              </mat-card-content>\r\n            </mat-card>\r\n          </div>\r\n          <div class=\"project-status\">\r\n            <mat-progress-bar ngClass=\"mt-0\" mode=\"indeterminate\"></mat-progress-bar>\r\n            <div ngClass=\"project-validation\"></div>\r\n          </div>\r\n          <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isProgressShow && project._id === selectedProject._id\"></mat-progress-bar>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-expansion-panel>\r\n</mat-accordion>\r\n<mat-accordion fxLayout=\"column\">\r\n\r\n  <mat-expansion-panel [expanded]=\"true\" ngClass=\"bg-transparent\" fxFlexOffset=\"25px\">\r\n    <mat-expansion-panel-header ngClass=\"p-0\" collapsedHeight=\"24px\" expandedHeight=\"24px\">\r\n      <mat-panel-title>\r\n        <h2>Other Projects</h2>\r\n      </mat-panel-title>\r\n    </mat-expansion-panel-header>\r\n    <div *ngIf=\"!projectsLoaded\" class=\"loadingholder\">\r\n      <div class=\"middle\"></div>\r\n      <div class=\"logoicon logoloader\"></div>\r\n    </div>\r\n    <div ngClass=\"project-list-wrapper\" fxLayout=\"column\">\r\n      <div fxLayout=\"{{isGridView ? 'row':'column'}}\" fxLayoutWrap fxLayoutAlign=\"start {{isGridView ? 'start':'stretch'}}\" fxLayoutGap=\"15px\"\r\n        ngClass=\"{{isGridView ? 'grid-view-wrapper':''}}\">\r\n        <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill fxFlexOffset=\"1.5\" *ngIf=\"!isGridView&&projectsLoaded\">\r\n          <div fxLayout=\"row\" fxFlex=\"100\" fxFlexOffset=\"1.5\" fxFlexAlign=\"stretch\">\r\n            <mat-card fxLayout=\"row\" fxFlex=\"0 0 calc(100% - 20px)\">\r\n              <mat-card-content fxLayout=\"row\" fxFlex=\"100\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\">\r\n                <div fxFlex=\"20%\">Project Name</div>\r\n                <div fxFlex=\"30%\">Project Description</div>\r\n                <div fxFlex=\"10%\">Total Drafts</div>\r\n                <div fxFlex=\"11%\">Total Articles</div>\r\n                <div fxFlex=\"12%\">Last Updated</div>\r\n                <div fxFlex=\"4%\">&nbsp;</div>\r\n                <div fxFlex=\"6%\">&nbsp;</div>\r\n                <div fxFlex=\"7%\">&nbsp;</div>\r\n              </mat-card-content>\r\n            </mat-card>\r\n          </div>\r\n        </div>\r\n        <div fxLayout=\"column\" fxFlex=\"{{isGridView ? '31.5':'100'}}\" fxFlex.md=\"{{isGridView ? '47':'100'}}\" ngClass=\"{{isGridView ? 'grid-view':'list-view'}} {{getProjectClass(project)}}\"\r\n          *ngFor=\"let project of projects | sort: 'projectName' | filterProperties:[['isFavourite', false], ['isRecent', false]] | filter: 'projectName': searchString\">\r\n          <mat-card fxFlexOffset=\"15px\" fxFlex=\"100\" *ngIf=\"isGridView\">\r\n            <mat-card-title fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n              <div ngClass=\"oneline-ellipsis\" matTooltip=\"{{project.projectName}}\" fxFlex>{{project.projectName}}</div>\r\n              <div fxFlex=\"130px\" fxLayoutAlign=\"end center\">\r\n                <small fxFlex fxLayoutAlign=\"end\">2h</small>\r\n                <a [mat-menu-trigger-for]=\"menu\" (click)=\"$event.stopPropagation()\" ngClass=\"cursor-pointer\" fxFlexOffset=\"10px\" [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution,cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject,cmsOperations.AssignOrRemoveProjectAdmin])\">\r\n                  <i class=\"mdi mdi-settings mdi-24px\"></i>\r\n                  <i class=\"mdi mdi-chevron-down\" fxFlexOffset=\"-5px\"></i>\r\n                </a>\r\n                <mat-menu #menu=\"matMenu\" [overlapTrigger]=\"false\" xPosition=\"before\" class=\"arrowtop\">\r\n                  <button mat-menu-item [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution,cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject,cmsOperations.AssignOrRemoveProjectAdmin])\">Project Settings</button>\r\n                  <button mat-menu-item *ngIf=\"project.typeOfContent !== documentationType.KnowledgeBase\" (click)=\"createDistribution(project)\"\r\n                    [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution])\">\r\n                    Distributions\r\n                  </button>\r\n                  <button mat-menu-item (click)=\"openManageTagGroupsDialog(project)\" [fxHide]=\"!checkAccess(project,[cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject])\">Manage Tag Groups</button>\r\n                  <button mat-menu-item (click)=\"openManageAdminDialog(project)\" [fxHide]=\"!checkAccess(project,[cmsOperations.AssignOrRemoveProjectAdmin])\">Manage Admins</button>\r\n                  <button mat-menu-item (click)=\"deleteProject(project)\">Delete Project</button>\r\n                </mat-menu>\r\n              </div>\r\n            </mat-card-title>\r\n            <mat-divider></mat-divider>\r\n            <mat-card-content fxLayout=\"column\" class=\"word-break\">\r\n              <p class=\"mt-10\" title=\"{{project.description}}\">{{project.description}}</p>\r\n            </mat-card-content>\r\n            <mat-divider></mat-divider>\r\n\r\n            <mat-card-actions fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"5px\" ngClass=\"m-0\">\r\n              <mat-chip-list fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <mat-chip color=\"primary\" selected=\"true\" ngClass=\"p-5 circle\" fxLayoutAlign=\"center\" fxFlex=\"30px\">\r\n                  <small>156</small>\r\n                </mat-chip>\r\n                <small fxFlexOffset=\"3px\">Total Articles</small>\r\n              </mat-chip-list>\r\n              <mat-chip-list fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                <mat-chip ngClass=\"p-5 circle\" fxLayoutAlign=\"center\" fxFlex=\"30px\">\r\n                  <small>45</small>\r\n                </mat-chip>\r\n                <small fxFlexOffset=\"3px\">Drafts</small>\r\n              </mat-chip-list>\r\n              <span class=\"favourite-project-icon cursor-pointer\" (click)=\"addRemoveFavouriteProject(!project.isFavourite, project._id)\">\r\n                <i [class]=\"project.isFavourite?'mdi-star mdi mdi-24px':'mdi-star-outline mdi mdi-24px'\"></i>\r\n              </span>\r\n              <span>\r\n                <button class=\"btn-primary\" color=\"primary\" (click)=\"navigateToAuthoringPane(project)\">\r\n                  Open</button>\r\n              </span>\r\n            </mat-card-actions>\r\n          </mat-card>\r\n          <div fxLayout=\"row\" fxFlex=\"100\" fxFlexAlign=\"stretch\" fxFlexFill *ngIf=\"!isGridView\">\r\n            <mat-card fxLayout=\"row\" ngClass=\"cursor-pointer\" fxFlex=\"0 0 calc(100% - 20px)\">\r\n              <mat-card-content fxLayout=\"row\" fxFlex=\"100\" fxLayoutAlign=\"start center\" fxLayoutGap=\"10px\">\r\n                <div class=\"oneline-ellipsis\" fxFlex=\"22%\">{{project.projectName}}</div>\r\n                <div class=\"word-break\" fxFlex=\"33%\" title=\"{{project.description}}\">\r\n                  {{project.description}}\r\n                </div>\r\n                <div fxFlex=\"10%\">\r\n                  <mat-chip-list>\r\n                    <mat-chip color=\"warn\" selected=\"true\">158</mat-chip>\r\n                  </mat-chip-list>\r\n                </div>\r\n                <div fxFlex=\"11%\">\r\n                  <mat-chip-list>\r\n                    <mat-chip color=\"warn\" selected=\"true\">158</mat-chip>\r\n                  </mat-chip-list>\r\n                </div>\r\n                <div class=\"project-update-date\" fxFlex=\"16%\">Sep 4,2017</div>\r\n                <div fxFlex=\"4%\">\r\n                  <span class=\"favourite-project-icon cursor-pointer\" (click)=\"addRemoveFavouriteProject(!project.isFavourite, project._id)\">\r\n                    <i [class]=\"project.isFavourite?'mdi-star mdi mdi-24px':'mdi-star-outline mdi mdi-24px'\"></i>\r\n                  </span>\r\n                </div>\r\n                <div fxFlex=\"6%\">\r\n                  <a [mat-menu-trigger-for]=\"menu\" (click)=\"$event.stopPropagation()\" ngClass=\"cursor-pointer\" fxFlexOffset=\"10px\" [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution,cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject,cmsOperations.AssignOrRemoveProjectAdmin])\">\r\n                    <i class=\"mdi mdi-settings mdi-24px\"></i>\r\n                  </a>\r\n                  <mat-menu #menu=\"matMenu\" [overlapTrigger]=\"false\" xPosition=\"before\" class=\"arrowtop\">\r\n                    <button mat-menu-item [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution,cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject,cmsOperations.AssignOrRemoveProjectAdmin])\">Project Settings</button>\r\n                    <button mat-menu-item *ngIf=\"project.typeOfContent !== documentationType.KnowledgeBase\" (click)=\"createDistribution(project)\"\r\n                      [fxHide]=\"!checkAccess(project,[cmsOperations.CreateDistribution])\">Distributions</button>\r\n                    <button mat-menu-item (click)=\"openManageTagGroupsDialog(project)\" [fxHide]=\"!checkAccess(project,[cmsOperations.AddTagGroupsToProject,cmsOperations.DeleteTagGroupsFromProject])\">Manage Tag Groups</button>\r\n                    <button mat-menu-item (click)=\"openManageAdminDialog(project)\" [fxHide]=\"!checkAccess(project,[cmsOperations.AssignOrRemoveProjectAdmin])\">Manage Admins</button>\r\n                    <button mat-menu-item (click)=\"deleteProject(project)\">Delete Project</button>\r\n                  </mat-menu>\r\n                </div>\r\n                <div fxFlex=\"7%\">\r\n                  <button mat-raised-button color=\"primary\" (click)=\"navigateToAuthoringPane(project)\">Open</button>\r\n                </div>\r\n              </mat-card-content>\r\n            </mat-card>\r\n          </div>\r\n          <div class=\"project-status\">\r\n            <mat-progress-bar ngClass=\"mt-0\" mode=\"indeterminate\"></mat-progress-bar>\r\n            <div ngClass=\"project-validation\"></div>\r\n          </div>\r\n\r\n          <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isProgressShow && project._id === selectedProject._id\"></mat-progress-bar>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-expansion-panel>\r\n</mat-accordion>\r\n"

/***/ }),

/***/ "./src/app/project/projectList.component.ts":
/*!**************************************************!*\
  !*** ./src/app/project/projectList.component.ts ***!
  \**************************************************/
/*! exports provided: navigationType, ProjectListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "navigationType", function() { return navigationType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectListComponent", function() { return ProjectListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _create_distribution_create_distribution_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../create-distribution/create-distribution.component */ "./src/app/create-distribution/create-distribution.component.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _manage_project_tag_group_manage_project_tag_group_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../manage-project-tag-group/manage-project-tag-group.component */ "./src/app/manage-project-tag-group/manage-project-tag-group.component.ts");
/* harmony import */ var _project_add_project_add_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../project-add/project-add.component */ "./src/app/project-add/project-add.component.ts");
/* harmony import */ var _confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../confirm-dialog/confirm-dialog.component */ "./src/app/confirm-dialog/confirm-dialog.component.ts");
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
/* harmony import */ var _manage_admins_manage_project_admins_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../manage-admins/manage-project-admins.component */ "./src/app/manage-admins/manage-project-admins.component.ts");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
/* harmony import */ var _delete_project_confirmation_dialog_delete_project_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../delete-project-confirmation-dialog/delete-project-confirmation-dialog.component */ "./src/app/delete-project-confirmation-dialog/delete-project-confirmation-dialog.component.ts");
/* harmony import */ var _common_signalr_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/signalr.service */ "./src/app/common/signalr.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var navigationType = {
    NavigateToDistribution: 'NavigateToDistribution',
    CreateDistribution: 'CreateDistribution'
};
var ProjectListComponent = (function (_super) {
    __extends(ProjectListComponent, _super);
    function ProjectListComponent(injector, router, dialog, localEventEmitterService, signalr) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_5__["pageTitleList"].projectList }) || this;
        _this.injector = injector;
        _this.router = router;
        _this.dialog = dialog;
        _this.localEventEmitterService = localEventEmitterService;
        _this.signalr = signalr;
        _this.projects = [];
        _this.isGridView = true;
        _this.entityStatus = _constants__WEBPACK_IMPORTED_MODULE_5__["entityStatus"];
        _this.documentationType = _constants__WEBPACK_IMPORTED_MODULE_5__["DocumentationType"];
        _this.projectsLoaded = false;
        _this.isProgressShow = false;
        _this.startupParameters = {
            reference: _this,
            startupRequestCallbacks: [_this.getProjects],
            events: [{
                    name: 'GotProjects',
                    callback: _this.gotProjectsResponse
                }
            ]
        };
        _this.loggedInUserId = _this.userService.user ? (_this.userService.user.profile ? _this.userService.user.profile.userId : '') : '';
        return _this;
        // this.topic = { value: topics.Dashboard, subscriptionTopic: topics.Dashboard, eventName: 'refreshProjectAndTagGroupEvent' };
        // this.subscribeTopic();
    }
    ProjectListComponent.prototype.ngOnInit = function () {
        // this.getProjects();
        this.signalr.startup(this.constructor.name, this.startupParameters);
    };
    ProjectListComponent.prototype.gotProjectsResponse = function (response) {
        var newValue = response;
        var oldValue = this.authoringCacheService.getProjects();
        var equals = this.equals(oldValue, newValue);
        if (!equals) {
            this.refreshProjects({ value: newValue });
            this.projectService.setProjects(newValue);
        }
    };
    ProjectListComponent.prototype.refreshProjectAndTagGroupEvent = function () {
        this.getProjects();
    };
    ProjectListComponent.prototype.refreshProjects = function (data) {
        this.projectsLoaded = true;
        var projects = data.value;
        var pageNumber = 0;
        this.projects = [];
        this.projects = projects;
        this.getFavouriteAndRecentProjects();
    };
    ProjectListComponent.prototype.navigateToAuthoringPane = function (project) {
        this.navigationType = navigationType.NavigateToDistribution;
        this.selectedProject = project;
        this.isProgressShow = true;
        this.projectService.setProjectIdToCache(project._id);
        var isProjectAdmin = this.authorizationService.isProjectAdmin(project.projectAdmins);
        if (isProjectAdmin) {
            this.userService.assignRole(_constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].roles.ProjectAdmin);
        }
        else {
            this.userService.removeRole(_constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].roles.ProjectAdmin);
        }
        this.getDistributionList(this.selectedProject._id, false);
    };
    ProjectListComponent.prototype.refreshDistributions = function (data) {
        if (data.value.projectId === this.selectedProject._id) {
            this.isProgressShow = false;
            if (this.navigationType === navigationType.NavigateToDistribution) {
                if (data.value.distributions.length > 0) {
                    var distribution = this.findDefaultDistribution(data.value.distributions);
                    if (distribution) {
                        var distributionId = distribution.distributionId;
                        this.distributionService.setDistrubutionIdToCache(distributionId);
                        this.addToRecentProjects();
                        this.router.navigate(['/project', this.selectedProject._id, 'distribution', distributionId]);
                    }
                    else {
                        this.navigationType = undefined;
                        this.checkDistributionCreationAccess();
                    }
                }
                else {
                    this.navigationType = undefined;
                    this.checkDistributionCreationAccess();
                }
            }
            else if (this.navigationType === navigationType.CreateDistribution) {
                this.openDistributionsDialog(this.selectedProject, data.value.distributions);
            }
        }
    };
    ProjectListComponent.prototype.addToRecentProjects = function () {
        var key = _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].recentProjectLocalStorageKey + this.userService.user.profile.userId;
        var project = {
            projectId: this.selectedProject._id,
            addedOn: new Date().getTime() / 1000
        };
        this.projectService.updateProjectInLocalStorage(project, key, true, true);
    };
    ProjectListComponent.prototype.findDefaultDistribution = function (distributions) {
        return underscore__WEBPACK_IMPORTED_MODULE_4__["find"](distributions, function (value) {
            return value.status === _constants__WEBPACK_IMPORTED_MODULE_5__["entityStatus"].Ok;
        });
    };
    ProjectListComponent.prototype.checkDistributionCreationAccess = function () {
        var isProjectAdmin = this.authorizationService.isProjectAdmin(this.selectedProject.projectAdmins);
        if (this.authorizationService.isOperationAllowed([this.cmsOperations.CreateDistribution]) || isProjectAdmin) {
            this.showUnavailableDistributionsDialog();
        }
        else {
            this.dialog.open(_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_8__["ConfirmDialogComponent"], {
                data: { message: 'No distributions available, Please contact system/project admin.', showButton: false },
                width: '400px'
            });
        }
    };
    ProjectListComponent.prototype.showUnavailableDistributionsDialog = function () {
        var _this = this;
        this.isProgressShow = false;
        if (this.selectedProject.typeOfContent !== _constants__WEBPACK_IMPORTED_MODULE_5__["DocumentationType"].KnowledgeBase) {
            var dialogRef = this.dialog.open(_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_8__["ConfirmDialogComponent"], {
                data: {
                    message: 'No distributions available.Do you want to create one?',
                    showButton: true,
                    buttonText: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].confirmButtonText.Create
                }, width: '400px'
            });
            dialogRef.afterClosed().subscribe(function (result) {
                if (result) {
                    _this.openDistributionsDialog(_this.selectedProject, []);
                }
            });
        }
        else {
            this.dialog.open(_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_8__["ConfirmDialogComponent"], {
                data: { message: 'No distributions available', showButton: false }, width: '400px'
            });
        }
    };
    ProjectListComponent.prototype.openDistributionsDialog = function (project, distributions) {
        var _this = this;
        this.navigationType = undefined;
        var dialogRef = this.dialog.open(_create_distribution_create_distribution_component__WEBPACK_IMPORTED_MODULE_3__["CreateDistributionComponent"], {
            data: { selectedProject: project, distributions: distributions },
            width: '560px',
            minHeight: '480px',
            maxHeight: '530px'
        });
        dialogRef.afterClosed().subscribe(function (result) {
            _this.isProgressShow = false;
        });
    };
    ProjectListComponent.prototype.createDistribution = function (project) {
        this.selectedProject = project;
        this.navigationType = navigationType.CreateDistribution;
        this.isProgressShow = true;
        this.getDistributionList(this.selectedProject._id);
    };
    ProjectListComponent.prototype.openCreateProjectDialog = function () {
        this.dialog.open(_project_add_project_add_component__WEBPACK_IMPORTED_MODULE_7__["ProjectAddComponent"], {
            width: '560px',
        });
    };
    ProjectListComponent.prototype.openManageTagGroupsDialog = function (project) {
        this.dialog.open(_manage_project_tag_group_manage_project_tag_group_component__WEBPACK_IMPORTED_MODULE_6__["ManageProjectTagGroupComponent"], {
            data: {
                project: project,
            }, width: '990px', height: '600px'
        });
    };
    ProjectListComponent.prototype.openManageAdminDialog = function (project) {
        this.dialog.open(_manage_admins_manage_project_admins_component__WEBPACK_IMPORTED_MODULE_10__["ManageProjectAdminsComponent"], {
            data: {
                project: project,
            }, width: '990px', height: '600px'
        });
    };
    ProjectListComponent.prototype.getProjectClass = function (project) {
        if (project.status === this.entityStatus.Wait) {
            return 'wait';
        }
        else if (project.status === this.entityStatus.None || project.status === this.entityStatus.Error) {
            return 'error';
        }
        else {
            return 'success';
        }
    };
    ProjectListComponent.prototype.ProjectTagGroupsUpdateEvent = function (data) {
        this.projectService.updateCachedProject(data);
    };
    ProjectListComponent.prototype.addRemoveFavouriteProject = function (isAdd, projectId) {
        var key = _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].favouriteProjectLocalStorageKey + this.userService.user.profile.userId;
        this.projectService.updateProjectInLocalStorage(projectId, key, isAdd, false);
        this.getFavouriteAndRecentProjects();
    };
    ProjectListComponent.prototype.getFavouriteAndRecentProjects = function () {
        this.setFavouriteToProjectCollection();
        this.setRecentToProjectCollection();
        this.favouriteAndRecentProjects = underscore__WEBPACK_IMPORTED_MODULE_4__["sortBy"](underscore__WEBPACK_IMPORTED_MODULE_4__["filter"](this.projects, function (project) {
            return (project.isFavourite || project.isRecent);
        }), 'recentlyViewedTime').reverse();
    };
    ProjectListComponent.prototype.setFavouriteToProjectCollection = function () {
        if (this.userService.user && this.userService.user.profile && this.userService.user.profile.userId) {
            var favouriteProjectskey = _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].favouriteProjectLocalStorageKey + this.userService.user.profile.userId;
            var favouriteProjects_1 = this.projectService.getProjectsFromLocalStorage(favouriteProjectskey);
            if (favouriteProjects_1) {
                underscore__WEBPACK_IMPORTED_MODULE_4__["each"](this.projects, function (project) {
                    project.isFavourite = underscore__WEBPACK_IMPORTED_MODULE_4__["contains"](favouriteProjects_1, project._id);
                });
            }
        }
    };
    ProjectListComponent.prototype.setRecentToProjectCollection = function () {
        if (this.userService.user && this.userService.user.profile && this.userService.user.profile.userId) {
            var recentProjectskey = _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].recentProjectLocalStorageKey + this.userService.user.profile.userId;
            var recentProjects_1 = this.projectService.getProjectsFromLocalStorage(recentProjectskey);
            if (recentProjects_1) {
                underscore__WEBPACK_IMPORTED_MODULE_4__["each"](this.projects, function (project) {
                    var matchedProject = underscore__WEBPACK_IMPORTED_MODULE_4__["find"](recentProjects_1, function (value) {
                        return project._id === value.projectId;
                    });
                    project.isRecent = matchedProject ? true : false;
                    project.recentlyViewedTime = matchedProject ? matchedProject.addedOn : null;
                });
            }
        }
    };
    ProjectListComponent.prototype.deleteProject = function (project) {
        this.dialog.open(_delete_project_confirmation_dialog_delete_project_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_12__["DeleteProjectConfirmationDialogComponent"], {
            data: project, width: '560px', minHeight: '480px', maxHeight: '530px'
        });
    };
    ProjectListComponent.prototype.ngOnDestroy = function () {
        this.signalr.shutdown(this.constructor.name);
    };
    ProjectListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-project-list',
            template: __webpack_require__(/*! ./projectList.component.html */ "./src/app/project/projectList.component.html"),
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"], _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialog"],
            _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_9__["LocalEventEmitterService"], _common_signalr_service__WEBPACK_IMPORTED_MODULE_13__["SignalrService"]])
    ], ProjectListComponent);
    return ProjectListComponent;
}(_operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_11__["OperationBaseComponent"]));



/***/ }),

/***/ "./src/app/publish-configuration/publish-configuration.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/publish-configuration/publish-configuration.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" ngClass=\"publish-distribution-wrapper\" fxFlexFill>\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>{{distributionTitle}} Live Documents - Publish</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content ngClass=\"publish-distribution-content-wrapper\" mat-dialog-content fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxFlex=\"100\">\r\n    <div ngClass=\"publish-distribution-content-left\" fxFlex=\"65\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"15px\">\r\n      <div fxFlex fxLayout=\"row\" fxLayoutAlign=\"start stretch\">\r\n        <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlex>\r\n          <h2 ngClass=\"mb-10\">Publish Configuration</h2>\r\n          <div ngClass=\"publish-configuration mb-15\" fxFlex=\"calc(100% - 199px)\">\r\n            <div ngClass=\"mat-checkbox-group-wrapper mb-15\">\r\n              <mat-checkbox [(indeterminate)]=\"indeterminate\">Publish Online</mat-checkbox>\r\n              <div ngClass=\"mat-checkbox-group\" fxLayout=\"column\">\r\n                <mat-checkbox>Publish homepage</mat-checkbox>\r\n                <mat-checkbox>Visible from homepage</mat-checkbox>\r\n                <mat-checkbox>Skip manifests</mat-checkbox>\r\n              </div>\r\n            </div>\r\n            <div ngClass=\"mat-checkbox-group-wrapper mb-15\">\r\n              <mat-checkbox [(indeterminate)]=\"indeterminate\">Publish Offline</mat-checkbox>\r\n              <div ngClass=\"mat-checkbox-group\" fxLayout=\"column\">\r\n                <mat-checkbox>Website download</mat-checkbox>\r\n                <mat-checkbox>Editor download</mat-checkbox>\r\n                <mat-checkbox>Hub download</mat-checkbox>\r\n              </div>\r\n            </div>\r\n            <div ngClass=\"mat-checkbox-group-wrapper mb-15\">\r\n              <mat-checkbox [(indeterminate)]=\"indeterminate\">Publish ZIP</mat-checkbox>\r\n              <div ngClass=\"mat-checkbox-group\" fxLayout=\"column\">\r\n                <mat-checkbox>Debug online components</mat-checkbox>\r\n                <mat-checkbox>NDA docs</mat-checkbox>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div fxFlex=\"161px\">\r\n            <h2 ngClass=\"mb-10\">Deployment Environment</h2>\r\n            <div ngClass=\"deployment-environment-wrapper mb-20\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n              <mat-form-field ngClass=\"custom-input-field custom-select-field\" floatPlaceholder=\"never\">\r\n                <mat-select placeholder=\"Staging\">\r\n                  <mat-option>Select 1</mat-option>\r\n                  <mat-option>Select 2</mat-option>\r\n                  <mat-option>Select 3</mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n            </div>\r\n            <h2 ngClass=\"mb-10\">HTML Template</h2>\r\n            <div ngClass=\"deployment-environment-wrapper\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n              <mat-form-field ngClass=\"custom-input-field custom-select-field\" floatPlaceholder=\"never\">\r\n                <mat-select placeholder=\"Staging\">\r\n                  <mat-option>Select 1</mat-option>\r\n                  <mat-option>Select 2</mat-option>\r\n                  <mat-option>Select 3</mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div fxFlex=\"60\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\">\r\n        <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlex>\r\n          <h2 ngClass=\"mb-10\">Exclude Tags</h2>\r\n          <div ngClass=\"mb-15\" fxLayout=\"row\" fxLayoutAlign=\"stretch center\" fxFlex=\"37px\">\r\n            <input type=\"Search\" ngClass=\"form-control\" placeholder=\"Type to Search\" fxFlex>\r\n          </div>\r\n          <div ngClass=\"publish-distribution-tags-wrapper mb-15\" fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start stretch\" fxFlex=\"calc(50% - 87px)\">\r\n            <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlex>\r\n              <h3 ngClass=\"mb-5\">Available Tags</h3>\r\n              <div ngClass=\"publish-distribution-tags available-tags\" fxFlex>\r\n                <mat-accordion ngClass=\"custom-mat-accordion\">\r\n                  <mat-expansion-panel (opened)=\"panelOpenState = true\" *ngFor=\"let tagGroup of availableTagGroups\">\r\n                    <mat-expansion-panel-header>\r\n                      <mat-panel-title>\r\n                        <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                          <i class=\"mdi mdi-tag mdi-18px\"></i>\r\n                          <span>{{tagGroup.tagGroupName}}</span>\r\n                        </div>\r\n                      </mat-panel-title>\r\n                    </mat-expansion-panel-header>\r\n                    <mat-chip-list ngClass=\"mat-chip-list-stacked\" aria-orientation=\"vertical\">\r\n                      <mat-chip selected=\"true\" fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"space-between center\" *ngFor=\"let tag of tagGroup.tags\">\r\n                        <span>{{tag.tagName}}</span>\r\n                        <i class=\"mdi mdi-plus-circle mdi-18px\" (click)=\"addTag(tag,tagGroup)\"></i>\r\n                      </mat-chip>\r\n                    </mat-chip-list>\r\n                  </mat-expansion-panel>\r\n                </mat-accordion>\r\n              </div>\r\n            </div>\r\n            <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlex>\r\n              <h3 ngClass=\"mb-5\">Assigned Tags</h3>\r\n              <div ngClass=\"publish-distribution-tags assigned-tags\" fxFlex>\r\n                <mat-accordion ngClass=\"custom-mat-accordion\">\r\n                  <mat-expansion-panel (opened)=\"panelOpenState = true\" *ngFor=\"let tagGroup of assignedTagGroups\">\r\n                    <mat-expansion-panel-header>\r\n                      <mat-panel-title>\r\n                        <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                          <i class=\"mdi mdi-tag mdi-18px\"></i>\r\n                          <span>{{tagGroup.tagGroupName}}</span>\r\n                        </div>\r\n                      </mat-panel-title>\r\n                    </mat-expansion-panel-header>\r\n                    <mat-chip-list ngClass=\"mat-chip-list-stacked\" aria-orientation=\"vertical\">\r\n                      <mat-chip selected=\"true\" fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"space-between center\" *ngFor=\"let tag of tagGroup.tags\">\r\n                        <span>{{tag.tagName}}</span>\r\n                        <i class=\"mdi mdi-minus-circle mdi-18px\" (click)=\"removeTag(tag,tagGroup)\"></i>\r\n                      </mat-chip>\r\n                    </mat-chip-list>\r\n                  </mat-expansion-panel>\r\n                </mat-accordion>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <h2 ngClass=\"mb-10\">Exclude Nodes</h2>\r\n          <div ngClass=\"exclude-nodes-wrapper\" fxFlex>\r\n            <p-tree [value]=\"filteredNodes\" fxLayout=\"row\" fxFlexFill *ngIf=\"!treeLoadInProgress\">\r\n            </p-tree>\r\n            <div *ngIf=\"treeLoadInProgress\" class=\"loadingholder\">\r\n              <div class=\"middle\"></div>\r\n              <div class=\"logoicon logoloader\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div fxLayout=\"column\" ngClass=\"publish-distribution-content-right\" fxFlex=\"35\">\r\n      <h2 ngClass=\"mb-10\">Publish Report</h2>\r\n      <div ngClass=\"publish-report-wrapper\" fxLayout=\"column\" fxFlex=\"calc(100% - 28px)\">\r\n        <mat-accordion ngClass=\"custom-mat-accordion\">\r\n          <mat-expansion-panel>\r\n            <mat-expansion-panel-header>\r\n              <mat-panel-title>\r\n                <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                  <span>Dependencies</span>\r\n                  <mat-chip>9</mat-chip>\r\n                </div>\r\n              </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n            <mat-list role=\"list\">\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution B </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project B, Distribution C </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project B, Distribution C </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution R </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution R </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution R </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project B, Distribution C </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution R </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution B </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-expansion-panel>\r\n          <mat-expansion-panel>\r\n            <mat-expansion-panel-header>\r\n              <mat-panel-title>\r\n                <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                  <span>Draft in Progress</span>\r\n                  <mat-chip>2</mat-chip>\r\n                </div>\r\n              </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n            <mat-list role=\"list\">\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution B </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project B, Distribution C </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-expansion-panel>\r\n          <mat-expansion-panel>\r\n            <mat-expansion-panel-header>\r\n              <mat-panel-title>\r\n                <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                  <span>Publishing Queue</span>\r\n                  <mat-chip>9</mat-chip>\r\n                </div>\r\n              </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n            <mat-list role=\"list\">\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution B </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project B, Distribution C </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project B, Distribution C </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution R </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution R </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution R </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project B, Distribution C </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution R </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution B </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-expansion-panel>\r\n          <mat-expansion-panel>\r\n            <mat-expansion-panel-header>\r\n              <mat-panel-title>\r\n                <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                  <span>Localisation Status</span>\r\n                  <mat-chip>1</mat-chip>\r\n                </div>\r\n              </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n            <mat-list role=\"list\">\r\n              <mat-list-item>\r\n                <p mat-line>Project A, Distribution B </p>\r\n                <p fxFlex=\"150px\" fxLayoutAlign=\"end\">15 References</p>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-expansion-panel>\r\n        </mat-accordion>\r\n      </div>\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions fxLayoutAlign=\"end center\">\r\n    <button mat-raised-button ngClass=\"secondary-btn\" (click)=\"publishClick()\">\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n        <i class=\"mdi mdi-upload mdi-24px\"></i>\r\n        <span>Publish</span>\r\n      </div>\r\n    </button>\r\n  </mat-dialog-actions>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/publish-configuration/publish-configuration.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/publish-configuration/publish-configuration.component.ts ***!
  \**************************************************************************/
/*! exports provided: PublishConfigurationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishConfigurationComponent", function() { return PublishConfigurationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/authoring-cache.service */ "./src/app/common/authoring-cache.service.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../treeview/treeview.service */ "./src/app/treeview/treeview.service.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
/* harmony import */ var _publish_list_publish_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../publish-list/publish.service */ "./src/app/publish-list/publish.service.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};











var PublishConfigurationComponent = (function (_super) {
    __extends(PublishConfigurationComponent, _super);
    function PublishConfigurationComponent(dialogRef, injector, authoringCacheService, publishService, treeViewService, tagCacheService, data) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_9__["pageTitleList"].publishList }) || this;
        _this.dialogRef = dialogRef;
        _this.injector = injector;
        _this.authoringCacheService = authoringCacheService;
        _this.publishService = publishService;
        _this.treeViewService = treeViewService;
        _this.tagCacheService = tagCacheService;
        _this.data = data;
        _this.selectedProjectId = '';
        _this.selectedDistributionId = '';
        _this.distributionTitle = '';
        _this.selectedNodeIdList = [];
        _this.treeLoadInProgress = false;
        _this.selectedTags = [];
        _this.assignedTagGroups = [];
        _this.availableTagGroups = [];
        _this.indeterminate = false;
        _this.selectedProjectId = data.selectedProjectId;
        _this.selectedDistributionId = data.selectedDistributionId;
        _this.selectedNodeIdList = data.selectedNodes;
        _this.distributionTitle = data.selectedDistributionTitle;
        return _this;
    }
    PublishConfigurationComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.treeLoadInProgress = true;
        var selectedproject = this.authoringCacheService.getProjectById(this.selectedProjectId);
        this.availableTagGroups = this.tagCacheService.getTagGroupsForIds(selectedproject.tagGroups);
        this.publishService.getNodeListForPublish(this.selectedNodeIdList, this.selectedDistributionId).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].operation.getNodeListForPublish });
        }, function (error) {
            _this.treeLoadInProgress = false;
        });
    };
    PublishConfigurationComponent.prototype.getNodeListForPublishEvent = function (notification) {
        if (notification.data.content.distributionId === this.selectedDistributionId) {
            this.nodeList = notification.data.content.distributionSnapshotDataList;
            this.treeLoadInProgress = false;
            this.filterNodes();
        }
    };
    PublishConfigurationComponent.prototype.filterNodes = function () {
        this.filteredNodes = JSON.parse(JSON.stringify(this.nodeList));
        this.filteredNodes = this.filterNodesBySelectedTagGroups(this.filteredNodes);
        this.filteredNodes = this.treeViewService.convertToPrimeNgTree(new _common_utils__WEBPACK_IMPORTED_MODULE_6__["utils"]().listToTree(this.filteredNodes), 'fa-folder-open', 'fa-folder', 'fa-file-word-o', true);
        this.filteredNodes = new _common_utils__WEBPACK_IMPORTED_MODULE_6__["utils"]().searchTree(this.filteredNodes, '', true);
    };
    PublishConfigurationComponent.prototype.filterNodesBySelectedTagGroups = function (nodes) {
        var tagIds = [];
        underscore__WEBPACK_IMPORTED_MODULE_5__["each"](this.assignedTagGroups, function (tagGroup) {
            if (tagGroup.tags && tagGroup.tags.length > 0) {
                var tags = underscore__WEBPACK_IMPORTED_MODULE_5__["pluck"](tagGroup.tags, 'tagId');
                tagIds = tagIds.concat(tags);
            }
        });
        return underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](nodes, function (treeNode) {
            treeNode.styleClass = 'visible';
            if (underscore__WEBPACK_IMPORTED_MODULE_5__["intersection"](tagIds, treeNode.tags).length < 1) {
                treeNode.styleClass = 'inVisible';
            }
            return treeNode;
        }.bind(this));
    };
    PublishConfigurationComponent.prototype.addTag = function (tag, tagGroup) {
        if (!underscore__WEBPACK_IMPORTED_MODULE_5__["find"](this.assignedTagGroups, function (atagGroup) { return tagGroup.tagGroupId === atagGroup['tagGroupId']; })) {
            this.assignedTagGroups.push({
                tagGroupName: tagGroup.tagGroupName,
                tagGroupId: tagGroup.tagGroupId,
                colour: tagGroup.colour,
                tagGroupType: tagGroup.tagGroupType,
                tags: []
            });
        }
        this.assignedTagGroups = this.assignTagToTagGroup(tag, tagGroup.tagGroupId, this.assignedTagGroups);
        this.availableTagGroups = this.removeTagFromTagGroup(tag.tagId, tagGroup.tagGroupId, this.availableTagGroups);
        this.filterNodes();
    };
    PublishConfigurationComponent.prototype.removeTag = function (tag, tagGroup) {
        this.assignedTagGroups = this.removeTagFromTagGroup(tag.tagId, tagGroup.tagGroupId, this.assignedTagGroups);
        this.availableTagGroups = this.assignTagToTagGroup(tag, tagGroup.tagGroupId, this.availableTagGroups);
        this.filterNodes();
    };
    PublishConfigurationComponent.prototype.assignTagToTagGroup = function (tag, tagGroupId, tagGroups) {
        tagGroups = underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](tagGroups, function (item) {
            if (item.tagGroupId === tagGroupId) {
                item.tags.push(tag);
            }
            return item;
        });
        return tagGroups;
    };
    PublishConfigurationComponent.prototype.removeTagFromTagGroup = function (tagId, tagGroupId, tagGroups) {
        tagGroups = underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](tagGroups, function (item) {
            if (item.tagGroupId === tagGroupId) {
                item.tags = underscore__WEBPACK_IMPORTED_MODULE_5__["filter"](item.tags, function (atag) {
                    if (atag.tagId !== tagId) {
                        return atag;
                    }
                });
            }
            return item;
        });
        return tagGroups;
    };
    PublishConfigurationComponent.prototype.publishClick = function () {
        var _this = this;
        var tags = [];
        underscore__WEBPACK_IMPORTED_MODULE_5__["each"](this.assignedTagGroups, function (tagGroup) {
            underscore__WEBPACK_IMPORTED_MODULE_5__["each"](tagGroup.tags, function (tag) {
                tags.push(tag.tagId);
            });
        });
        var value = { distributionId: this.selectedDistributionId, selectedNodeIdList: this.selectedNodeIdList, excludedTagIdList: tags };
        this.publishService.publishDistribution(value).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].operation.publishDistribution });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_8__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_9__["cmsOperation"].PublishDistribution, _constants__WEBPACK_IMPORTED_MODULE_9__["eventStatus"].Wait, { distributionName: _this.distributionTitle });
            _this.addOperationEvent(operation);
            _this.dialogRef.close(responseId);
        }, function (error) {
            console.log(error);
        });
    };
    PublishConfigurationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-publish-configuration',
            template: __webpack_require__(/*! ./publish-configuration.component.html */ "./src/app/publish-configuration/publish-configuration.component.html"),
            providers: [_treeview_treeview_service__WEBPACK_IMPORTED_MODULE_4__["TreeViewService"], _publish_list_publish_service__WEBPACK_IMPORTED_MODULE_7__["PublishService"]]
        }),
        __param(6, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"],
            _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_2__["AuthoringCacheService"],
            _publish_list_publish_service__WEBPACK_IMPORTED_MODULE_7__["PublishService"],
            _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_4__["TreeViewService"],
            _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_3__["TagCacheService"], Object])
    ], PublishConfigurationComponent);
    return PublishConfigurationComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_10__["BaseComponent"]));



/***/ }),

/***/ "./src/app/publish-list/publish-list.component.html":
/*!**********************************************************!*\
  !*** ./src/app/publish-list/publish-list.component.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"content-body-wrapper publish-wrapper\" fxLayout=\"column\" fxFlexFill fxLayoutAlign=\"start stretch\">\r\n  <div ngClass=\"content-header docworksDarkTheme\" fxLayout=\"column\" fxFlex=\"60px\">\r\n    <mat-toolbar color=\"primary\" fxFlex=\"60px\">\r\n      <div ngClass=\"content-toolbar\" fxLayout=\"row\" fxFlexFill fxLayoutAlign=\"space-between stretch\">\r\n        <mat-tab-group fxFlexAlign=\"end\" (selectedTabChange)=\"changeTab($event)\">\r\n          <mat-tab label=\"Publish Queue\"></mat-tab>\r\n          <mat-tab label=\"Publish History\"></mat-tab>\r\n        </mat-tab-group>\r\n        <div ngClass=\"inner-page-search-wrapper\" fxFlex=\"700px\" fxFlexAlign=\"center\">\r\n          <div fxFlex fxLayoutAlign=\"stretch center\">\r\n            <div fxFlex fxFlexOffset=\"10px\">\r\n              <input type=\"Search\" ngClass=\"form-control\" placeholder=\"Search\" [(ngModel)]=\"searchString\" fxFlex>\r\n            </div>\r\n            <button mat-raised-button fxFlexOffset=\"5px\">\r\n              <i class=\"mdi mdi-magnify mdi-24px\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-toolbar>\r\n  </div>\r\n\r\n  <div ngClass=\"content-body-wrapper\" fxLayout=\"column\" fxFlex=\"100\">\r\n    <div ngClass=\"content-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"15px\" fxFlex=\"100\" fxFlexFill>\r\n      <mat-list fxLayout=\"column\" fxFlexFill [fxHide]=\"isPublishQueue\">\r\n        <h3 matSubheader fxLayout=\"row\" fxLayoutAlign=\"center center\" fxFlex=\"50px\">\r\n          <span fxFlex=\"20%\" fxLayoutAlign=\"left\">\r\n            Publish by\r\n            <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n          </span>\r\n          <span fxFlex=\"10%\" fxLayoutAlign=\"center\">\r\n            Status\r\n            <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n          </span>\r\n          <span fxFlex=\"20%\" fxLayoutAlign=\"left\">\r\n            Project Name\r\n            <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n          </span>\r\n          <span fxFlex=\"20%\" fxLayoutAlign=\"left\">\r\n            Distribution\r\n            <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n          </span>\r\n          <span fxFlex=\"10%\" fxLayoutAlign=\"left\">\r\n            Download Zip\r\n            <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n          </span>\r\n          <span fxFlex=\"20%\" fxLayoutAlign=\"center\">\r\n            Publish Date\r\n            <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n          </span>\r\n        </h3>\r\n        <div slimScroll fxFlexFill class=\"publish-history-container\">\r\n          <div *ngIf=\"isDataLoading\" class=\"loadingholder\">\r\n            <div class=\"middle\"></div>\r\n            <div class=\"logoicon logoloader\"></div>\r\n          </div>\r\n          <mat-list-item *ngFor=\"let item of publishHistoryArray | filter: 'projectName': searchString\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"center center\" fxFlex>\r\n              <span fxFlex=\"20%\" class=\"oneline-ellipsis\" title=\"{{item.publishedBy}}\">{{item.publishedBy}}</span>\r\n              <span fxFlex=\"10%\" fxLayoutAlign=\"center\">{{entityStatus[item.publishStatus]}}</span>\r\n              <span fxFlex=\"20%\" class=\"oneline-ellipsis\" title=\"{{item.projectName}}\">{{item.projectName}}</span>\r\n              <span fxFlex=\"20%\" class=\"oneline-ellipsis\" title=\"{{item.distributionName}}\">{{item.distributionName}}</span>\r\n              <span fxFlex=\"10%\" fxLayoutAlign=\"center\">\r\n                <a href=\"{{item.zipFileLink}}\" target=\"_blank\" *ngIf=\"item.publishStatus===entityStatus.Ok\">\r\n                  <i class=\"mdi mdi-cloud-download\"></i>\r\n                </a>\r\n              </span>\r\n              <span fxFlex=\"20%\" fxLayoutAlign=\"center\">{{(item.publishedDate | epocToDatetime) | date:'mediumDate'}}</span>\r\n\r\n            </div>\r\n          </mat-list-item>\r\n        </div>\r\n      </mat-list>\r\n      <div [fxHide]=\"!isPublishQueue\" fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n        <div fxLayout=\"column\" fxFlex=\"55\">\r\n          <div ngClass=\"publish-project-list-header\" fxLayout=\"row\" fxLayoutAlign=\"space-around center\" fxFlex=\"40px\">\r\n            <div fxFlex=\"10%\" fxLayoutAlign=\"center\">\r\n              #\r\n              <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n            </div>\r\n            <div fxFlex=\"60%\" fxLayoutAlign=\"center\">\r\n              Project Name\r\n              <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n            </div>\r\n            <div fxFlex=\"30%\" fxLayoutAlign=\"center\">\r\n              No of Accept to Live\r\n              <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n            </div>\r\n          </div>\r\n          <div fxLayout=\"row\">\r\n            <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isDataLoading\"></mat-progress-bar>\r\n          </div>\r\n          <div *ngIf=\"!isDataLoading && publishQueueArray && publishQueueArray.length===0\" fxFlexFill class=\"publish-queue-container\">\r\n            No record found.\r\n          </div>\r\n          <div slimScroll fxFlexFill class=\"publish-queue-container\" [fxHide]=\"isDataLoading && !publishQueueArray && publishQueueArray.length===0\">\r\n            <mat-accordion ngClass=\"custom-mat-accordion\">\r\n              <mat-expansion-panel *ngFor=\"let item of publishQueueArray | filter: 'projectName': searchString; let i =index\">\r\n                <mat-expansion-panel-header>\r\n                  <mat-panel-title fxFlex>\r\n                    <div fxLayout=\"row\" fxLayoutAlign=\"space-around center\" fxFlex>\r\n                      <div fxFlex=\"10%\" fxLayoutAlign=\"center\">{{i+1}}</div>\r\n                      <div fxFlex=\"60%\" fxLayoutAlign=\"center\">{{item.projectName}}</div>\r\n                      <div fxFlex=\"30%\" fxLayoutAlign=\"center\">{{getTotalLiveDistributionCount(item.distributions)}}</div>\r\n                    </div>\r\n                  </mat-panel-title>\r\n                </mat-expansion-panel-header>\r\n                <mat-list fxLayout=\"column\" fxFlexFill>\r\n                  <div matSubheader fxLayout=\"row\" fxLayoutAlign=\"center center\" fxFlex=\"35px\">\r\n                    <span fxFlex=\"10%\" fxLayoutAlign=\"center\">\r\n                      #\r\n                      <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n                    </span>\r\n                    <span fxFlex=\"30%\" fxLayoutAlign=\"center\">\r\n                      Distribution Name\r\n                      <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n                    </span>\r\n                    <span fxFlex=\"20%\" fxLayoutAlign=\"center\">\r\n                      Accept to Live\r\n                      <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n                    </span>\r\n                    <span fxFlex=\"19%\" fxLayoutAlign=\"center\">\r\n                      Deleted nodes\r\n                      <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n                    </span>\r\n                    <span fxFlex=\"21%\" fxLayoutAlign=\"center\">\r\n                      Live drafts deleted\r\n                      <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <mat-list-item *ngFor=\"let distribution of item.distributions; let j=index\" ngClass=\"cursor-pointer\" [class]=\"distribution.distributionId===selectedDistributionId?'active':''\"\r\n                                 (click)=\" selectedProjectId = item.projectId; selectedProject = item; getNodeListForLiveDraft(distribution); selectedDistributionId = distribution.distributionId; selectedDistributionTitle = item.projectName +' - '+ distribution.distributionName +' - '\">\r\n                    <div fxLayout=\"row\" fxLayoutAlign=\"center center\" fxFlex>\r\n                      <span fxFlex=\"10%\" fxLayoutAlign=\"center\">{{j+1}}</span>\r\n                      <span fxFlex=\"30%\" fxLayoutAlign=\"center\">{{distribution.distributionName}}</span>\r\n                      <span fxFlex=\"20%\" fxLayoutAlign=\"center\">{{distribution.liveDraftsToBePublishedCount}}</span>\r\n                      <span fxFlex=\"19%\" fxLayoutAlign=\"center\">{{distribution.deletedNodeCount}}</span>\r\n                      <span fxFlex=\"21%\" fxLayoutAlign=\"center\">{{distribution.deletedLiveDraftCount}}</span>\r\n                    </div>\r\n                  </mat-list-item>\r\n                </mat-list>\r\n              </mat-expansion-panel>\r\n            </mat-accordion>\r\n\r\n          </div>\r\n        </div>\r\n        <div fxLayout=\"column\" fxFlex=\"45\" ngClass=\"publish-preview\" fxLayoutAlign=\"start stretch\">\r\n          <mat-toolbar color=\"primary\" fxFlex=\"40px\">\r\n            <h3 class=\"oneline-ellipsis\" title=\"{{selectedDistributionTitle}}\">{{selectedDistributionTitle}} Live Documents</h3>\r\n          </mat-toolbar>\r\n          <mat-progress-bar mode=\"indeterminate\" ngClass=\"margin-top0\" *ngIf=\"isLiveDraftDataLoading\"></mat-progress-bar>\r\n          <div ngClass=\"publish-preview-body\" fxFlex=\"100\" fxLayout=\"column\" [fxHide]=\"!(liveDraftNodeArray && liveDraftNodeArray.length>0)\" fxLayoutGap=\"10px\">\r\n\r\n            <div slimScroll fxFlexFill class=\"publish-preview-container\">\r\n              <mat-list role=\"list\">\r\n                <mat-list-item class=\"mb-10\">\r\n                  <input type=\"Search\" ngClass=\"form-control\" placeholder=\"Search\" [(ngModel)]=\"filterNodes\" (ngModelChange)=\"checkIndeterminate()\" fxFlex>\r\n                  <mat-checkbox class=\"ml-10\" [(ngModel)]=\"selectAllNodes\" [(indeterminate)]=\"indeterminate\" (click)=\"selectAll()\" labelPosition=\"before\"> Select All</mat-checkbox>\r\n                </mat-list-item>\r\n                <mat-list-item *ngFor=\"let item of liveDraftNodeArray | filter: 'title': filterNodes\" ngClass=\"publishList-{{publishNodeOperation[item.documentOperation].class}}\">\r\n                  <div fxLayout=\"row\" fxLayoutAlign=\"center center\" fxFlex>\r\n                    <span fxFlex=\"100%\" class=\"oneline-ellipsis\" title=\"{{item.title}}\">\r\n                      {{item.title}}\r\n                      <i *ngFor=\"let operation of item.documentOperationList\" title=\"{{publishNodeOperation[operation.documentOperation].title}}\" class=\"mdi mdi-{{publishNodeOperation[operation.documentOperation].icon}}\"></i>\r\n                    </span>\r\n                    <mat-checkbox [(ngModel)]=\"item.isSelected\" (change)=\"checkIndeterminate()\"></mat-checkbox>\r\n                  </div>\r\n                </mat-list-item>\r\n              </mat-list>\r\n            </div>\r\n            <mat-divider></mat-divider>\r\n            <div ngClass=\"publish-list-legend mb-20\" fxLayoutAlign=\"end center\" fxLayoutGap=\"25px\" fxLayout=\"row\">\r\n              <div fxFlex fxLayout=\"row\" fxLayoutWrap fxLayoutGap=\"3\">\r\n                <span fxFlex=\"47\"><i class=\"mdi mdi-tag-plus\"></i> Tags Added</span>\r\n                <span fxFlex=\"47\"><i class=\"mdi mdi-tag-remove\"></i> Tags Removed</span>\r\n                <span fxFlex=\"47\"><i class=\"mdi mdi-delete-sweep\"></i> Live draft deleted</span>\r\n                <span fxFlex=\"47\"><i class=\"mdi mdi-file-tree\"></i> TOC path changed</span>\r\n                <span fxFlex=\"47\"><i class=\"mdi mdi-delete-circle\"></i> Node deleted</span>\r\n                <span fxFlex=\"47\"><i class=\"mdi mdi-pencil-box-outline\"></i> Content Modified</span>\r\n                <span fxFlex=\"47\"><i class=\"mdi mdi-pencil-circle-outline\"></i> Rename Short Title</span>\r\n                <span fxFlex=\"47\"><i class=\"mdi mdi-pencil-box-outline\"></i> Rename File Name</span>\r\n              </div>\r\n              <div fxFlex=\"200px\" *ngIf=\"liveDraftNodeArray.length>0\" [fxHide]=\"!checkAccess(selectedProject, [cmsOperations.PublishDistribution])\">\r\n                <button mat-raised-button color=\"primary\" (click)=\"publishConfiguration()\" [disabled]=\"isPublishDistributionInProgress\">\r\n                  <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n                    <i class=\"mdi mdi-upload mdi-24px\"></i>\r\n                    <span>Publish Configuration</span>\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/publish-list/publish-list.component.ts":
/*!********************************************************!*\
  !*** ./src/app/publish-list/publish-list.component.ts ***!
  \********************************************************/
/*! exports provided: PublishListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishListComponent", function() { return PublishListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _publish_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./publish.service */ "./src/app/publish-list/publish.service.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _publish_configuration_publish_configuration_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../publish-configuration/publish-configuration.component */ "./src/app/publish-configuration/publish-configuration.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var PublishListComponent = (function (_super) {
    __extends(PublishListComponent, _super);
    function PublishListComponent(injector, publishService, dialog, projectService) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_1__["pageTitleList"].publishList }) || this;
        _this.injector = injector;
        _this.publishService = publishService;
        _this.dialog = dialog;
        _this.projectService = projectService;
        _this.entityStatus = _constants__WEBPACK_IMPORTED_MODULE_1__["entityStatus"];
        _this.isPublishQueue = true;
        _this.publishHistoryArray = [];
        _this.publishQueueArray = [];
        _this.liveDraftNodeArray = [];
        _this.filterNodes = '';
        _this.selectAllNodes = false;
        _this.indeterminate = false;
        _this.publishNodeOperation = _constants__WEBPACK_IMPORTED_MODULE_1__["PublishNodeOperation"];
        return _this;
    }
    PublishListComponent.prototype.ngOnInit = function () {
        this.subscribeTabs();
    };
    PublishListComponent.prototype.subscribeTabs = function () {
        this.unsubscribe();
        this.topic = this.isPublishQueue ? { value: _constants__WEBPACK_IMPORTED_MODULE_1__["topics"].PublishQueue, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_1__["topics"].PublishQueue, eventName: 'getDistributionsQueuedForPublish' } : { value: _constants__WEBPACK_IMPORTED_MODULE_1__["topics"].PublishHistory, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_1__["topics"].PublishHistory, eventName: 'getPublishHistoryList' };
        this.subscribeTopic();
        this.getTabData();
    };
    PublishListComponent.prototype.changeTab = function (event) {
        this.isPublishQueue = event.index === 0;
        this.subscribeTabs();
    };
    PublishListComponent.prototype.getTabData = function () {
        this.isPublishDistributionInProgress = false;
        this.publishHistoryArray = [];
        this.publishQueueArray = [];
        this.liveDraftNodeArray = [];
        this.selectedDistributionTitle = '';
        if (this.isPublishQueue) {
            this.getDistributionsQueuedForPublish();
        }
        else {
            this.getPublishHistoryList();
        }
    };
    PublishListComponent.prototype.getPublishHistoryList = function () {
        var _this = this;
        this.isDataLoading = true;
        this.publishHistoryArray = [];
        this.publishService.getPublishHistoryQueues().then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_1__["applicationConstants"].operation.getPublishHistory });
        });
    };
    PublishListComponent.prototype.getPublishHistoryEvent = function (notification) {
        this.publishHistoryArray = notification.data.content.publishHistory;
        this.isDataLoading = false;
    };
    PublishListComponent.prototype.getDistributionsQueuedForPublish = function () {
        var _this = this;
        this.isDataLoading = true;
        this.publishQueueArray = [];
        this.publishService.getDistributionsQueuedForPublish().then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_1__["applicationConstants"].operation.getDistributionsQueuedForPublish });
        }, function (error) {
            _this.isDataLoading = false;
        });
    };
    PublishListComponent.prototype.getDistributionsQueuedForPublishEvent = function (notification) {
        this.publishQueueArray = notification.data.content.projects;
        if (this.publishQueueArray && this.publishQueueArray.length > 0 && this.publishQueueArray[0].distributions && this.publishQueueArray[0].distributions.length > 0) {
            this.selectedDistributionId = this.publishQueueArray[0].distributions[0].distributionId;
            this.selectedProjectId = this.publishQueueArray[0].projectId;
            this.selectedProject = this.publishQueueArray[0];
            this.selectedDistributionTitle = this.publishQueueArray[0].projectName + ' - ' + this.publishQueueArray[0].distributions[0].distributionName + ' - ';
            this.getNodeListForLiveDraft(this.publishQueueArray[0].distributions[0]);
        }
        else {
            this.publishQueueArray = [];
        }
        this.isDataLoading = false;
    };
    PublishListComponent.prototype.getNodeListForLiveDraft = function (distribution) {
        var _this = this;
        this.indeterminate = false;
        this.selectAllNodes = false;
        this.isLiveDraftDataLoading = true;
        this.isPublishDistributionInProgress = false;
        this.liveDraftNodeArray = [];
        this.userService.removeRole(_constants__WEBPACK_IMPORTED_MODULE_1__["applicationConstants"].roles.ProjectAdmin);
        var project = this.projectService.getSelectedProject();
        var isProjectAdmin = this.authorizationService.isProjectAdmin(project.projectAdmins);
        if (isProjectAdmin) {
            this.userService.assignRole(_constants__WEBPACK_IMPORTED_MODULE_1__["applicationConstants"].roles.ProjectAdmin);
        }
        else {
            this.userService.removeRole(_constants__WEBPACK_IMPORTED_MODULE_1__["applicationConstants"].roles.ProjectAdmin);
        }
        this.publishService.getNodesForLiveDraftsAfterDistributionPublish(distribution.distributionId).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_1__["applicationConstants"].operation.getNodesForLiveDraftsAfterDistributionPublish });
        });
    };
    PublishListComponent.prototype.getNodesForLiveDraftsAfterDistributionPublishEvent = function (notification) {
        this.isLiveDraftDataLoading = false;
        if (notification.data.content.nodeList && notification.data.content.nodeList.length > 0) {
            this.liveDraftNodeArray = notification.data.content.nodeList;
        }
        else {
            this.liveDraftNodeArray = [];
        }
    };
    PublishListComponent.prototype.publishConfiguration = function () {
        var _this = this;
        var nodes = underscore__WEBPACK_IMPORTED_MODULE_4__["filter"](this.liveDraftNodeArray, function (node) {
            return node.isSelected;
        });
        var selectedNodeIdList = underscore__WEBPACK_IMPORTED_MODULE_4__["pluck"](nodes, 'nodeId');
        var dialogRef = this.dialog.open(_publish_configuration_publish_configuration_component__WEBPACK_IMPORTED_MODULE_7__["PublishConfigurationComponent"], {
            data: { selectedProjectId: this.selectedProjectId, selectedDistributionId: this.selectedDistributionId, selectedDistributionTitle: this.selectedDistributionTitle, selectedNodes: selectedNodeIdList },
            width: '90vw',
            height: '85vh',
            panelClass: 'publish-distribution-dialog',
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.isPublishDistributionInProgress = true;
            }
        });
    };
    PublishListComponent.prototype.publishDistributionEvent = function (notification) {
        this.getTabData();
    };
    PublishListComponent.prototype.getTotalLiveDistributionCount = function (distributions) {
        var totalCount = 0;
        underscore__WEBPACK_IMPORTED_MODULE_4__["each"](distributions, function (distribution) {
            try {
                // tslint:disable-next-line:radix
                totalCount = totalCount + (distribution.liveDraftsToBePublishedCount ? parseInt(distribution.liveDraftsToBePublishedCount) : 0);
            }
            catch (e) {
                console.log(distribution.liveDraftsToBePublishedCount + ' not a valid number.');
            }
        });
        return totalCount;
    };
    PublishListComponent.prototype.ngOnDestroy = function () {
        this.userService.removeRole(_constants__WEBPACK_IMPORTED_MODULE_1__["applicationConstants"].roles.ProjectAdmin);
        this.cleanUp();
    };
    PublishListComponent.prototype.selectAll = function () {
        underscore__WEBPACK_IMPORTED_MODULE_4__["each"](this.liveDraftNodeArray, function (node) {
            if (node.title.toLowerCase().indexOf(this.filterNodes.toLowerCase()) >= 0) {
                node.isSelected = !this.selectAllNodes;
            }
        }.bind(this));
    };
    PublishListComponent.prototype.checkIndeterminate = function () {
        var isNodeSelected = false;
        var isNodeUnselecetd = false;
        underscore__WEBPACK_IMPORTED_MODULE_4__["each"](this.liveDraftNodeArray, function (node) {
            if (node.title.toLowerCase().indexOf(this.filterNodes.toLowerCase()) >= 0 && node.isSelected) {
                isNodeSelected = true;
            }
        }.bind(this));
        underscore__WEBPACK_IMPORTED_MODULE_4__["each"](this.liveDraftNodeArray, function (node) {
            if (node.title.toLowerCase().indexOf(this.filterNodes.toLowerCase()) >= 0 && !node.isSelected) {
                isNodeUnselecetd = true;
            }
        }.bind(this));
        if (isNodeSelected && isNodeUnselecetd) {
            this.indeterminate = true;
        }
        else if (isNodeSelected) {
            this.indeterminate = false;
            this.selectAllNodes = true;
        }
        else {
            this.indeterminate = false;
            this.selectAllNodes = false;
        }
    };
    PublishListComponent.prototype.acceptDraftToLiveEvent = function () {
        this.getTabData();
    };
    PublishListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-publish-list',
            template: __webpack_require__(/*! ./publish-list.component.html */ "./src/app/publish-list/publish-list.component.html"),
            providers: [_publish_service__WEBPACK_IMPORTED_MODULE_2__["PublishService"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"],
            _publish_service__WEBPACK_IMPORTED_MODULE_2__["PublishService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_6__["MatDialog"],
            _project_project_service__WEBPACK_IMPORTED_MODULE_5__["ProjectService"]])
    ], PublishListComponent);
    return PublishListComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_3__["BaseComponent"]));



/***/ }),

/***/ "./src/app/publish-list/publish.service.ts":
/*!*************************************************!*\
  !*** ./src/app/publish-list/publish.service.ts ***!
  \*************************************************/
/*! exports provided: PublishService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishService", function() { return PublishService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PublishService = (function () {
    function PublishService(httpService) {
        this.httpService = httpService;
    }
    PublishService.prototype.getPublishHistoryQueues = function () {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Publishing/GetPublishHistory').toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    PublishService.prototype.publishDistribution = function (value) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Publishing/PublishDistribution', value).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    PublishService.prototype.getNodesForLiveDraftsAfterDistributionPublish = function (value) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Publishing/GetNodesForLiveDraftsAfterDistributionPublish/' + value).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    PublishService.prototype.getDistributionsQueuedForPublish = function () {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Publishing/GetDistributionsQueuedForPublish').toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    PublishService.prototype.getNodeListForPublish = function (nodeList, distributionId) {
        var requestObject = { distributionId: distributionId, selectedNodeIdList: nodeList };
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Publishing/GetNodeListForPublish', requestObject).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    PublishService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"]])
    ], PublishService);
    return PublishService;
}());



/***/ }),

/***/ "./src/app/realtime-updates/realtime-update.service.ts":
/*!*************************************************************!*\
  !*** ./src/app/realtime-updates/realtime-update.service.ts ***!
  \*************************************************************/
/*! exports provided: RealtimeUpdateService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RealtimeUpdateService", function() { return RealtimeUpdateService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var RealtimeUpdateService = (function () {
    function RealtimeUpdateService(httpService) {
        this.httpService = httpService;
    }
    RealtimeUpdateService.prototype.getRealTimeUpdates = function (lastRecordId, pageSize) {
        return { data: undefined, responseObservable: this.getRealTimeUpdateList(lastRecordId, pageSize) };
    };
    RealtimeUpdateService.prototype.getRealTimeUpdateList = function (lastRecordId, pageSize) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/RealtimeUpdate?LastRecordIdinPaging=' + lastRecordId + '&PageSize=' + pageSize);
    };
    RealtimeUpdateService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"]])
    ], RealtimeUpdateService);
    return RealtimeUpdateService;
}());



/***/ }),

/***/ "./src/app/realtime-updates/realtime-updates.component.html":
/*!******************************************************************!*\
  !*** ./src/app/realtime-updates/realtime-updates.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-list fxLayout=\"column\" class=\"realtime-wrapper\">\r\n  <h2 ngClass=\"mb-10\">Realtime Updates</h2>\r\n  <mat-progress-bar *ngIf=\"isDataLoading\"  ngClass=\"mt-0\" mode=\"indeterminate\"></mat-progress-bar>\r\n  <div fxLayout=\"column\" slimScroll ngClass=\"realupdates-scroll\" appInfiniteScroll (scrolldown)=\"onScrollDown()\" [fxHide]=\"!(realTimeUpdateList && realTimeUpdateList.length>0)\">\r\n    <mat-list-item fxFlex fxLayoutGap=\"2px\" *ngFor=\"let item of realTimeUpdateList\">\r\n      <div class=\"left-view\">\r\n        <div class=\"profile-avatar\">\r\n          <div class=\"profile-short-name\" *ngIf=\"!item.profilePicUrl\">\r\n            {{getProfileShortName(item)}}\r\n          </div>\r\n          <img *ngIf=\"item.profilePicUrl\" src=\"{{item.profilePicUrl}}\" ngClass=\"img-responsive w-100\">\r\n        </div>\r\n      </div>\r\n      <div class=\"right-view realtime-card\" fxLayoutGap=\"5px\">\r\n        <h4 mat-line class=\"h-date\">\r\n            <span class=\"name\">{{item.userName}} User Name</span> {{item.createdDate | relativeDate}}\r\n        </h4>\r\n        <div appCustomTooltip>\r\n          <div class=\"oneline-ellipsis\" [innerHTML]=\"item.content |sanitizeHtml\"> </div>\r\n          <div class=\"custom-tooltip-child\" fxLayout=\"column\" fxLayoutGap=\"3px\" [innerHTML]=\"item.content |sanitizeHtml\">\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </mat-list-item>\r\n  </div>\r\n</mat-list>\r\n"

/***/ }),

/***/ "./src/app/realtime-updates/realtime-updates.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/realtime-updates/realtime-updates.component.ts ***!
  \****************************************************************/
/*! exports provided: RealtimeUpdatesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RealtimeUpdatesComponent", function() { return RealtimeUpdatesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _realtime_update_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./realtime-update.service */ "./src/app/realtime-updates/realtime-update.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _common_template_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/template.service */ "./src/app/common/template.service.ts");
/* harmony import */ var _common_signalr_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/signalr.service */ "./src/app/common/signalr.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var RealtimeUpdatesComponent = (function () {
    function RealtimeUpdatesComponent(realtimeUpdateService, templateService, signalr) {
        this.realtimeUpdateService = realtimeUpdateService;
        this.templateService = templateService;
        this.signalr = signalr;
        this.realTimeUpdateList = [];
        this.pageSize = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].pageSize;
        this.startupParameters = {
            reference: this,
            topics: ['RealtimeUpdates'],
            startupRequestCallbacks: [this.getRealtimeUpdates],
            events: [{
                    name: 'GotRealtimeUpdates',
                    callback: this.realtimeUpdateResponse
                },
                {
                    name: 'NewRealtimeUpdate',
                    callback: this.newRealtimeUpdate
                }
            ]
        };
    }
    RealtimeUpdatesComponent.prototype.ngOnInit = function () {
        this.signalr.startup(this.constructor.name, this.startupParameters);
    };
    RealtimeUpdatesComponent.prototype.getRealtimeUpdates = function () {
        this.isDataLoading = true;
        var serviceResponse;
        serviceResponse = this.realtimeUpdateService.getRealTimeUpdates(this.lastRecordId, this.pageSize);
        serviceResponse.responseObservable.toPromise().then(function (response) {
            var responseId = response.json().responseId;
        });
    };
    RealtimeUpdatesComponent.prototype.getProfileShortName = function (value) {
        return (value.firstName ? value.firstName.charAt(0).toString().toUpperCase() : '') + (value.lastName ? value.lastName.charAt(0).toString().toUpperCase() : '');
    };
    RealtimeUpdatesComponent.prototype.realtimeUpdateResponse = function (notification) {
        this.isDataLoading = false;
        var realtimeUpdates = [];
        if (notification && notification[0]) {
            realtimeUpdates = notification[0].realtimeUpdateList;
        }
        this.constructTemplateData(realtimeUpdates, false);
    };
    RealtimeUpdatesComponent.prototype.newRealtimeUpdate = function (data) {
        if (!data || !data.content || !data.content.realtimeUpdate) {
            return;
        }
        this.constructTemplateData([data.content.realtimeUpdate], true);
    };
    RealtimeUpdatesComponent.prototype.constructTemplateData = function (realTimeUpdateList, isTopRecord) {
        var totalRecordCount = realTimeUpdateList ? realTimeUpdateList.length : 0;
        underscore__WEBPACK_IMPORTED_MODULE_3__["each"](realTimeUpdateList, function (value, index) {
            var templateId = 'realtimeUpdates.' + value.realtimeUpdateOperation.toString();
            if (templateId) {
                var data = this.setTemplateData(value);
                value.content = this.templateService.getTemplateString(templateId, data);
                if (isTopRecord) {
                    this.realTimeUpdateList.unshift(value);
                }
                else {
                    this.realTimeUpdateList.push(value);
                    this.lastRecordId = (index + 1) === totalRecordCount ? value.realtimeUpdateId : this.lastRecordId;
                }
            }
        }.bind(this));
    };
    RealtimeUpdatesComponent.prototype.setTemplateData = function (value) {
        var data;
        data = value.resourceChange;
        data.draftId = value.resourceProperties.draftId;
        data.draftName = value.resourceProperties.draftName;
        data.nodeId = value.resourceProperties.nodeId;
        data.shortTitle = value.resourceProperties.shortTitle;
        data.distributionId = value.resourceProperties.distributionId;
        data.distributionName = value.resourceProperties.distributionName;
        data.projectId = value.resourceProperties.projectId;
        data.projectName = value.resourceProperties.projectName;
        data.userName = value.firstName + ' ' + value.lastName;
        return data;
    };
    RealtimeUpdatesComponent.prototype.onScrollDown = function () {
        this.getRealtimeUpdates();
    };
    RealtimeUpdatesComponent.prototype.ngOnDestroy = function () {
        this.signalr.shutdown(this.constructor.name);
    };
    RealtimeUpdatesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-realtime-updates',
            template: __webpack_require__(/*! ./realtime-updates.component.html */ "./src/app/realtime-updates/realtime-updates.component.html"),
            providers: [_realtime_update_service__WEBPACK_IMPORTED_MODULE_1__["RealtimeUpdateService"], _common_template_service__WEBPACK_IMPORTED_MODULE_4__["TemplateService"]],
        }),
        __metadata("design:paramtypes", [_realtime_update_service__WEBPACK_IMPORTED_MODULE_1__["RealtimeUpdateService"],
            _common_template_service__WEBPACK_IMPORTED_MODULE_4__["TemplateService"], _common_signalr_service__WEBPACK_IMPORTED_MODULE_5__["SignalrService"]])
    ], RealtimeUpdatesComponent);
    return RealtimeUpdatesComponent;
}());



/***/ }),

/***/ "./src/app/recently-viewed-document/recently-viewed-document.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/recently-viewed-document/recently-viewed-document.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-list fxLayout=\"column\">\r\n  <h2 ngClass=\"mb-10\">Recently Viewed Documents</h2>\r\n  <div fxLayout=\"column\" slimScroll>\r\n    <div *ngIf=\"recentlyViewedDocuments && recentlyViewedDocuments.length>0\">\r\n      <mat-list-item *ngFor=\"let document of recentlyViewedDocuments\" fxLayout=\"row\" [routerLink]=\"[document.url]\">\r\n        <div ngClass=\"oneline-ellipsis\" fxLayout=\"column\" fxFlex>\r\n          <div fxLayout=\"row\" matLine fxLayoutAlign=\"start center\">\r\n            <button mat-icon-button color=\"primary\">\r\n              <mat-icon mat-list-icon ngClass=\"p-0\">\r\n                <i class=\"mdi mdi-file mdi-18px\"></i>\r\n              </mat-icon>\r\n            </button>\r\n            <h4 matLine>{{document.title}}</h4>\r\n          </div>\r\n          <small *ngIf=\"document.projectName&&document.distributionName\">\r\n            <strong>{{document.projectName}} / {{document.distributionName}}</strong>\r\n          </small>\r\n        </div>\r\n        <small fxFlex=\"120px\" fxLayoutAlign=\"end\">\r\n          {{document.date | formatDate}}\r\n        </small>\r\n      </mat-list-item>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"!recentlyViewedDocuments || recentlyViewedDocuments.length<1\">\r\n    <mat-list-item>\r\n      <div ngClass=\"oneline-ellipsis\" fxLayout=\"column\" fxFlex>\r\n        <div fxLayout=\"row\" matLine fxLayoutAlign=\"start center\">\r\n          <h4 matLine> You haven't viewed any document yet.</h4>\r\n        </div>\r\n      </div>\r\n    </mat-list-item>\r\n  </div>\r\n</mat-list>\r\n"

/***/ }),

/***/ "./src/app/recently-viewed-document/recently-viewed-document.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/recently-viewed-document/recently-viewed-document.component.ts ***!
  \********************************************************************************/
/*! exports provided: RecentlyViewedDocumentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecentlyViewedDocumentComponent", function() { return RecentlyViewedDocumentComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_storage_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/storage.service */ "./src/app/common/storage.service.ts");
/* harmony import */ var _common_user_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var RecentlyViewedDocumentComponent = (function () {
    function RecentlyViewedDocumentComponent(storageService, userService, projectService) {
        this.storageService = storageService;
        this.userService = userService;
        this.projectService = projectService;
        this.recentlyViewedDocuments = [];
    }
    RecentlyViewedDocumentComponent.prototype.ngOnInit = function () {
        this.getRecentlyViewedDocuments();
    };
    RecentlyViewedDocumentComponent.prototype.getRecentlyViewedDocuments = function () {
        var projects = this.projectService.getProjectsFromCache();
        var recentlyViewedDocumentArray = this.storageService.read('recently_viewed_documents_' + this.userService.user.profile.userId);
        underscore__WEBPACK_IMPORTED_MODULE_3__["each"](recentlyViewedDocumentArray, function (document) {
            var value = underscore__WEBPACK_IMPORTED_MODULE_3__["find"](projects, function (project) {
                return project._id === document.projectId;
            }.bind(this));
            if (value) {
                this.recentlyViewedDocuments.push(document);
            }
        }.bind(this));
    };
    RecentlyViewedDocumentComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-recently-viewed-document',
            template: __webpack_require__(/*! ./recently-viewed-document.component.html */ "./src/app/recently-viewed-document/recently-viewed-document.component.html")
        }),
        __metadata("design:paramtypes", [_common_storage_service__WEBPACK_IMPORTED_MODULE_1__["StorageService"], _common_user_service__WEBPACK_IMPORTED_MODULE_2__["UserService"], _project_project_service__WEBPACK_IMPORTED_MODULE_4__["ProjectService"]])
    ], RecentlyViewedDocumentComponent);
    return RecentlyViewedDocumentComponent;
}());



/***/ }),

/***/ "./src/app/replace-asset-confirmation/replace-asset-confirmation.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/replace-asset-confirmation/replace-asset-confirmation.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\">\r\n    <mat-toolbar color=\"primary\">\r\n      <h3 fxFlex>Confirm Message</h3>\r\n    </mat-toolbar>\r\n    <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"end center\" fxFlex=\"70px\">\r\n        <h3>Are you sure you want to replace?</h3>\r\n    </mat-dialog-content>\r\n    <mat-dialog-actions fxFlexFill fxLayoutAlign=\"center center\">\r\n        <div class=\"button-row\" fxFlexAlign=\"center\">\r\n          <button mat-raised-button mat-dialog-close>CANCEL</button>\r\n          <button mat-raised-button color=\"primary\" (click)=\"replaceAsset()\">REPLACE</button>\r\n      </div>\r\n    </mat-dialog-actions>\r\n  </div>"

/***/ }),

/***/ "./src/app/replace-asset-confirmation/replace-asset-confirmation.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/replace-asset-confirmation/replace-asset-confirmation.component.ts ***!
  \************************************************************************************/
/*! exports provided: ReplaceAssetConfirmationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReplaceAssetConfirmationComponent", function() { return ReplaceAssetConfirmationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ReplaceAssetConfirmationComponent = (function () {
    function ReplaceAssetConfirmationComponent(dialogRef) {
        this.dialogRef = dialogRef;
    }
    ReplaceAssetConfirmationComponent.prototype.replaceAsset = function () {
        this.dialogRef.close(true);
    };
    ReplaceAssetConfirmationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-replace-asset-confirmation',
            template: __webpack_require__(/*! ./replace-asset-confirmation.component.html */ "./src/app/replace-asset-confirmation/replace-asset-confirmation.component.html"),
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"]])
    ], ReplaceAssetConfirmationComponent);
    return ReplaceAssetConfirmationComponent;
}());



/***/ }),

/***/ "./src/app/system-setting/system-setting.component.html":
/*!**************************************************************!*\
  !*** ./src/app/system-setting/system-setting.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"content-body-wrapper system-wrapper\" fxLayout=\"column\" fxFlexFill fxLayoutAlign=\"start stretch\">\r\n  <div ngClass=\"content-header docworksDarkTheme\" fxLayout=\"column\" fxFlex=\"60px\">\r\n    <mat-toolbar color=\"primary\" fxFlex=\"60px\">\r\n      <div ngClass=\"content-toolbar\" fxLayout=\"row\" fxFlexFill fxLayoutAlign=\"space-between stretch\">\r\n        <mat-tab-group fxFlexAlign=\"end\" (selectedIndexChange)=\"selectedTabIndex=$event\" [selectedIndex]=\"selectedTabIndex\">\r\n          <mat-tab label=\"Tag Groups\"></mat-tab>\r\n          <mat-tab label=\"System Admins\"></mat-tab>\r\n        </mat-tab-group>\r\n      </div>\r\n    </mat-toolbar>\r\n  </div>\r\n  <app-tag-group-dashboard [fxHide]=\"selectedTabIndex!=0\" [selectedTabIndex]=\"selectedTabIndex\" fxFlex>\r\n  </app-tag-group-dashboard>\r\n  <app-manage-system-admins [fxHide]=\"selectedTabIndex!=1\" [selectedTabIndex]=\"selectedTabIndex\" fxFlex>\r\n  </app-manage-system-admins>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/system-setting/system-setting.component.ts":
/*!************************************************************!*\
  !*** ./src/app/system-setting/system-setting.component.ts ***!
  \************************************************************/
/*! exports provided: SystemSettingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SystemSettingComponent", function() { return SystemSettingComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var SystemSettingComponent = (function () {
    function SystemSettingComponent() {
        this.selectedTabIndex = 0;
    }
    SystemSettingComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-system',
            template: __webpack_require__(/*! ./system-setting.component.html */ "./src/app/system-setting/system-setting.component.html")
        }),
        __metadata("design:paramtypes", [])
    ], SystemSettingComponent);
    return SystemSettingComponent;
}());



/***/ }),

/***/ "./src/app/tag-group-dashboard/tag-group-dashboard.component.html":
/*!************************************************************************!*\
  !*** ./src/app/tag-group-dashboard/tag-group-dashboard.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"content-body\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"15px\" fxFlex>\r\n  <mat-list fxLayout=\"column\" fxFlex=\"100\" fxLayoutAlign=\"start stretch\">\r\n    <div ngClass=\"docworksDarkTheme content-title\">\r\n      <mat-toolbar fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"start center\">\r\n        <div fxFlex>Manage Tag Groups</div>\r\n        <div ngClass=\"inner-page-search-wrapper\" fxFlex=\"300px\" fxLayout=\"row\" fxLayoutAlign=\"end\">\r\n          <div fxFlex fxLayoutAlign=\"stretch center\" fxFlexOffset=\"10px\">\r\n            <input type=\"Search\" ngClass=\"form-control\" [(ngModel)]=\"searchString\" placeholder=\"Type to Search\" fxFlex>\r\n          </div>\r\n        </div>\r\n        <div fxLayoutAlign=\"end\">\r\n          <button mat-raised-button color=\"primary\" (click)=\"addNewTagGroup()\" [fxHide]=\"!isOperationAllowed([cmsOperations.CreateTagGroup])\">CREATE TAG GROUP</button>\r\n        </div>\r\n      </mat-toolbar>\r\n    </div>\r\n    <h3 matSubheader fxLayout=\"row\" fxLayoutAlign=\"center center\" fxFlex=\"50px\">\r\n      <span fxFlex=\"20%\" fxLayoutAlign=\"left\">\r\n        Name\r\n        <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n      </span>\r\n      <span fxFlex=\"18%\" fxLayoutAlign=\"center\">\r\n        Display on published page\r\n        <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n      </span>\r\n      <span fxFlex=\"18%\" fxLayoutAlign=\"center\">\r\n        Include in published meta\r\n        <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n      </span>\r\n      <span fxFlex=\"15%\" fxLayoutAlign=\"center\">\r\n        Projects Pointed\r\n        <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n      </span>\r\n      <span fxFlex=\"9%\" fxLayoutAlign=\"center\">\r\n        No of Tags\r\n        <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n      </span>\r\n      <span fxFlex=\"15%\" fxLayoutAlign=\"center\">\r\n        Last Modified\r\n        <i class=\"mdi mdi-unfold-more-horizontal mdi-18px cursor-pointer\"></i>\r\n      </span>\r\n      <div fxFlex=\"5%\" fxLayoutAlign=\"center\">&nbsp;</div>\r\n    </h3>\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" slimScroll ngClass=\"system-dashboard-scroll\">\r\n      <div *ngFor=\"let tagGroup of tagGroups | sort: 'tagGroupName'| filter: 'tagGroupName': searchString\">\r\n        <mat-list-item>\r\n          <div fxLayout=\"row\" fxFlex fxLayoutAlign=\"start center\">\r\n            <span fxFlex=\"20%\" fxLayoutAlign=\"left\" fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n              <i [ngStyle]=\"{'color': tagGroup.colour}\" class=\"mdi mdi-tag mdi-18px\"></i>\r\n              <span>{{tagGroup.tagGroupName}}</span>\r\n            </span>\r\n            <span fxFlex=\"18%\" fxLayoutAlign=\"center\">{{tagGroup.public}}</span>\r\n            <span fxFlex=\"18%\" fxLayoutAlign=\"center\">{{tagGroup.publish}}</span>\r\n            <span fxFlex=\"15%\" fxLayoutAlign=\"center\">50</span>\r\n            <span fxFlex=\"9%\" fxLayoutAlign=\"center\">{{tagGroup.tags.length}}</span>\r\n            <span fxFlex=\"15%\" fxLayoutAlign=\"center\">{{\"05/01/2017\" | date : 'mediumDate'}}</span>\r\n            <mat-spinner *ngIf=\"tagGroup.inProgress\" fxFlex=\"5%\" fxLayoutAlign=\"center\" style=\"float:right;\" ngClass=\"tag-view-loader\"></mat-spinner>\r\n            <mat-icon fxFlex=\"5%\" fxLayoutAlign=\"center\" *ngIf=\"!tagGroup.isSystemManaged&&!tagGroup.inProgress\">\r\n              <i class=\"mdi mdi-dots-vertical mdi-24px cursor-pointer\" [matMenuTriggerFor]=\"manageEditTags\" [fxHide]=\"!isOperationAllowed([cmsOperations.EditTag,cmsOperations.CreateTagGroup])\"></i>\r\n            </mat-icon>\r\n            <mat-menu #manageEditTags=\"matMenu\">\r\n              <button mat-menu-item (click)=\"editTagGroup(tagGroup)\" [fxHide]=\"!isOperationAllowed([cmsOperations.CreateTagGroup])\">Edit Tag Group</button>\r\n              <button mat-menu-item (click)=\"manageTags(tagGroup)\" [fxHide]=\"tagGroup.tagGroupType===tagGroupType.UserTagGroup||!isOperationAllowed([cmsOperations.EditTag])\">Manage Tags</button>\r\n              <button mat-menu-item (click)=\"deleteTagGroup(tagGroup)\">Delete Tag group</button>\r\n            </mat-menu>\r\n          </div>\r\n        </mat-list-item>\r\n      </div>\r\n\r\n      <div *ngIf=\"(tagGroups | filter: 'tagGroupName': searchString).length<1\" fxLayoutAlign=\"center stretch\" fxLayoutGap=\"40px\">\r\n        <b>\r\n          No Record Found\r\n        </b>\r\n      </div>\r\n    </div>\r\n  </mat-list>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/tag-group-dashboard/tag-group-dashboard.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/tag-group-dashboard/tag-group-dashboard.component.ts ***!
  \**********************************************************************/
/*! exports provided: TagGroupDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagGroupDashboardComponent", function() { return TagGroupDashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _create_tag_group_create_tag_group_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../create-tag-group/create-tag-group.component */ "./src/app/create-tag-group/create-tag-group.component.ts");
/* harmony import */ var _manage_tags_manage_tags_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../manage-tags/manage-tags.component */ "./src/app/manage-tags/manage-tags.component.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _delete_tag_group_confirmation_dialog_delete_tag_group_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../delete-tag-group-confirmation-dialog/delete-tag-group-confirmation-dialog.component */ "./src/app/delete-tag-group-confirmation-dialog/delete-tag-group-confirmation-dialog.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var TagGroupDashboardComponent = (function (_super) {
    __extends(TagGroupDashboardComponent, _super);
    function TagGroupDashboardComponent(tagCacheService, injector, dialog) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_5__["pageTitleList"].system }) || this;
        _this.tagCacheService = tagCacheService;
        _this.injector = injector;
        _this.dialog = dialog;
        _this.searchString = '';
        _this.tagGroupType = _constants__WEBPACK_IMPORTED_MODULE_5__["TagGroupType"];
        return _this;
    }
    TagGroupDashboardComponent.prototype.ngOnChanges = function () {
        if (this.selectedTabIndex === 0) {
            this.tagGroups = this.tagCacheService.fetchTagGroups();
        }
    };
    TagGroupDashboardComponent.prototype.tagGroupsUpdate = function (data) {
        this.tagGroups = this.tagCacheService.getTagGroups();
    };
    TagGroupDashboardComponent.prototype.addNewTagGroup = function () {
        this.dialog.open(_create_tag_group_create_tag_group_component__WEBPACK_IMPORTED_MODULE_2__["CreateTagGroupComponent"], { width: '50vw' });
    };
    TagGroupDashboardComponent.prototype.editTagGroup = function (tagGroup) {
        this.dialog.open(_create_tag_group_create_tag_group_component__WEBPACK_IMPORTED_MODULE_2__["CreateTagGroupComponent"], { data: tagGroup, width: '50vw' });
    };
    TagGroupDashboardComponent.prototype.manageTags = function (tagGroup) {
        this.dialog.open(_manage_tags_manage_tags_component__WEBPACK_IMPORTED_MODULE_3__["ManageTagsComponent"], { data: tagGroup, width: '700px' });
    };
    TagGroupDashboardComponent.prototype.deleteTagGroup = function (tagGroup) {
        this.dialog.open(_delete_tag_group_confirmation_dialog_delete_tag_group_confirmation_dialog_component__WEBPACK_IMPORTED_MODULE_7__["DeleteTagGroupConfirmationDialogComponent"], { data: tagGroup, width: '700px', height: '300px' });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], TagGroupDashboardComponent.prototype, "selectedTabIndex", void 0);
    TagGroupDashboardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-tag-group-dashboard',
            template: __webpack_require__(/*! ./tag-group-dashboard.component.html */ "./src/app/tag-group-dashboard/tag-group-dashboard.component.html"),
        }),
        __metadata("design:paramtypes", [_tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__["TagCacheService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]])
    ], TagGroupDashboardComponent);
    return TagGroupDashboardComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_6__["BaseComponent"]));



/***/ }),

/***/ "./src/app/tag-groups/tag-groups.component.html":
/*!******************************************************!*\
  !*** ./src/app/tag-groups/tag-groups.component.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"assign-tags-wrapper show-tags-wrapper\" fxLayout=\"column\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>{{operationType=='TreeFilter'?'Filter Hierarchy':'Select Tag Groups to show on Hierarchy'}}</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"15px\">\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"10px\">\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"30px\">\r\n        <mat-card fxFlex=\"100\">\r\n          <div slimScroll ngClass=\"tag-group-hierarchy\">\r\n            <mat-accordion ngClass=\"custom-mat-accordion\" *ngFor=\"let tagGroup of tagGroups\">\r\n              <mat-expansion-panel *ngIf=\"tagGroup.tags.length>0\">\r\n                <mat-expansion-panel-header ngClass=\"p-2\" collapsedHeight=\"40px\" expandedHeight=\"40px\">\r\n                  <mat-panel-title fxFlex>\r\n                    <div fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\" fxFlex>\r\n                      <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                        <i [ngStyle]=\"{'color': tagGroup.colour}\" class=\"mdi mdi-tag mdi-18px\"></i>\r\n                        <span>{{tagGroup.tagGroupName}}</span>\r\n                      </div>\r\n                      <span fxFlex=\"30px\" fxFlexAlign=\"end\" (click)=\"$event.stopPropagation();\">\r\n                        <mat-checkbox [(ngModel)]=\"tagGroup.selected\" (click)=\"selectTagGroup($event,tagGroup)\" color=\"primary\">\r\n                        </mat-checkbox>\r\n                      </span>\r\n                    </div>\r\n                  </mat-panel-title>\r\n                </mat-expansion-panel-header>\r\n                <mat-chip-list ngClass=\"mat-chip-list-stacked\" aria-orientation=\"vertical\">\r\n                  <mat-chip [ngStyle]=\"{'background-color': tagGroup.colour }\" selected=\"true\" fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"space-between center\"\r\n                    *ngFor=\"let tag of tagGroup.tags\">\r\n                    <span fxLayoutGap=\"5px\">{{tag.tagName}}</span>\r\n                    <mat-checkbox *ngIf=\"operationType=='TreeFilter'\" [(ngModel)]=\"tag.selected\" (click)=\"selectTag($event,tag,tagGroup)\">\r\n                    </mat-checkbox>\r\n\r\n                  </mat-chip>\r\n                </mat-chip-list>\r\n              </mat-expansion-panel>\r\n            </mat-accordion>\r\n          </div>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n  </mat-dialog-content>\r\n\r\n  <mat-dialog-actions fxFlexFill fxLayoutAlign=\"end center\">\r\n    <div class=\"button-row\">\r\n      <button mat-raised-button type=\"submit\" (click)=\"applyChanges()\">APPLY</button>\r\n    </div>\r\n  </mat-dialog-actions>\r\n</div>"

/***/ }),

/***/ "./src/app/tag-groups/tag-groups.component.ts":
/*!****************************************************!*\
  !*** ./src/app/tag-groups/tag-groups.component.ts ***!
  \****************************************************/
/*! exports provided: operationType, TagGroupsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "operationType", function() { return operationType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagGroupsComponent", function() { return TagGroupsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _common_storage_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/storage.service */ "./src/app/common/storage.service.ts");
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};









var operationType = {
    TreeFilter: 'TreeFilter',
    PreferredTagGroups: 'PreferredTagGroups'
};
var TagGroupsComponent = (function (_super) {
    __extends(TagGroupsComponent, _super);
    function TagGroupsComponent(injector, route, localEventEmitterService, storageService, projectService, dialogRef, tagCacheService, data) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.route = route;
        _this.localEventEmitterService = localEventEmitterService;
        _this.storageService = storageService;
        _this.projectService = projectService;
        _this.dialogRef = dialogRef;
        _this.tagCacheService = tagCacheService;
        _this.data = data;
        _this.operationType = data.operationType;
        _this.tagGroups = data.tagGroups;
        _this.selectedTagGroups = data.filteredTags;
        return _this;
    }
    TagGroupsComponent.prototype.ngOnInit = function () {
        this.selectedProject = this.projectService.getSelectedProject();
        this.getTagGroups();
    };
    TagGroupsComponent.prototype.tagGroupsUpdate = function (data) {
        this.getTagGroups();
    };
    TagGroupsComponent.prototype.getTagGroups = function () {
        if (this.operationType === operationType.PreferredTagGroups) {
            this.updatePreferredTagGroups();
        }
        else {
            this.updateFilteredTagGroups();
        }
    };
    TagGroupsComponent.prototype.updatePreferredTagGroups = function () {
        var preferredTagGroupIds = this.storageService.read('PreferredTagGroupIds');
        underscore__WEBPACK_IMPORTED_MODULE_3__["each"](this.tagGroups, function (tagGroup) {
            tagGroup.selected = false;
            if (underscore__WEBPACK_IMPORTED_MODULE_3__["indexOf"](preferredTagGroupIds, tagGroup.tagGroupId) > -1) {
                tagGroup.selected = true;
            }
        });
    };
    TagGroupsComponent.prototype.updateFilteredTagGroups = function () {
        var tagIds = [];
        if (this.selectedTagGroups) {
            underscore__WEBPACK_IMPORTED_MODULE_3__["each"](this.selectedTagGroups, function (tagGroup) {
                tagIds = tagIds.concat(tagGroup.tagIds);
            });
        }
        underscore__WEBPACK_IMPORTED_MODULE_3__["each"](this.tagGroups, function (tagGroup) {
            tagGroup.selected = false;
            underscore__WEBPACK_IMPORTED_MODULE_3__["each"](tagGroup.tags, function (tag) {
                tag.selected = false;
                if (underscore__WEBPACK_IMPORTED_MODULE_3__["intersection"]([tag.tagId], tagIds).length > 0) {
                    tag.selected = true;
                }
            });
            if (!underscore__WEBPACK_IMPORTED_MODULE_3__["find"](tagGroup.tags, function (tag) { return !tag.selected; })) {
                tagGroup.selected = true;
            }
        });
    };
    TagGroupsComponent.prototype.treeFilter = function () {
        var tagGroups = [];
        underscore__WEBPACK_IMPORTED_MODULE_3__["each"](this.tagGroups, function (tagGroup) {
            var selectedTagIds = underscore__WEBPACK_IMPORTED_MODULE_3__["pluck"](underscore__WEBPACK_IMPORTED_MODULE_3__["filter"](tagGroup.tags, function (tag) {
                if (tag.selected) {
                    return tag.tagId;
                }
            }), 'tagId');
            tagGroups.push({ tagGroupId: tagGroup.tagGroupId, tagIds: selectedTagIds });
        });
        this.emitLocalEvent({ eventName: this.operationType, value: { tagGroups: tagGroups, isSource: this.data.isSource } });
        this.dialogRef.close();
    };
    TagGroupsComponent.prototype.applyChanges = function () {
        this.operationType === operationType.PreferredTagGroups ? this.preferredTagGroups() : this.treeFilter();
    };
    TagGroupsComponent.prototype.preferredTagGroups = function () {
        var tagGroupIds = [];
        underscore__WEBPACK_IMPORTED_MODULE_3__["each"](this.tagGroups, function (tagGroup) {
            if (tagGroup.selected) {
                tagGroupIds.push(tagGroup.tagGroupId);
            }
        });
        this.emitLocalEvent({ eventName: this.operationType, value: { tagGroupIds: tagGroupIds, isSource: this.data.isSource } });
        this.dialogRef.close();
    };
    TagGroupsComponent.prototype.selectTag = function (event, tag, tagGroup) {
        if (tag.selected) {
            tagGroup.selected = false;
        }
        event.stopPropagation();
    };
    TagGroupsComponent.prototype.selectTagGroup = function (event, tagGroup) {
        event.stopPropagation();
        if (this.operationType === operationType.PreferredTagGroups) {
            return;
        }
        underscore__WEBPACK_IMPORTED_MODULE_3__["each"](tagGroup.tags, function (tag) {
            tag.selected = !tagGroup.selected;
        });
    };
    TagGroupsComponent.prototype.ngOnDestroy = function () {
        if (this.subscription) {
            this.subscription.next();
            this.subscription.complete();
        }
    };
    TagGroupsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-tag-groups',
            template: __webpack_require__(/*! ./tag-groups.component.html */ "./src/app/tag-groups/tag-groups.component.html"),
        }),
        __param(7, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_4__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_6__["LocalEventEmitterService"],
            _common_storage_service__WEBPACK_IMPORTED_MODULE_5__["StorageService"], _project_project_service__WEBPACK_IMPORTED_MODULE_8__["ProjectService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatDialogRef"],
            _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_1__["TagCacheService"], Object])
    ], TagGroupsComponent);
    return TagGroupsComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_7__["BaseComponent"]));



/***/ }),

/***/ "./src/app/tag-view/tag-view.component.html":
/*!**************************************************!*\
  !*** ./src/app/tag-view/tag-view.component.html ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" slimScroll>\r\n\r\n  <form [formGroup]=\"updateNodeForm\" fxLayout=\"column\" fxLayoutAlign=\"center stretch\" fxFlex>\r\n    <span>Short Title</span>\r\n    <div ngClass=\"custom-mat-input-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex>\r\n      <input type=\"text\" ngClass=\"form-control\" [formControl]=\"shortTitle\" fxFlex>\r\n      <i class=\"mat-suffix mdi mdi-pencil mdi-24px cursor-pointer\" *ngIf=\"!shortTitle.enabled && isOperationAllowed([cmsOperations.UpdateNode])  && !isScriptRef()\"\r\n        (click)=\"doNodeOperation('editShortTitle')\"></i>\r\n      <i class=\"mat-suffix mdi mdi-check mdi-24px cursor-pointer\" *ngIf=\"shortTitle.enabled && isOperationAllowed([cmsOperations.UpdateNode]) && !isScriptRef()\"\r\n        (click)=\"updateNodeForm.valid?doNodeOperation('updateShortTitle'):''\"></i>\r\n      <i class=\"mat-suffix mdi mdi-close mdi-24px cursor-pointer\" *ngIf=\"shortTitle.enabled && isOperationAllowed([cmsOperations.UpdateNode]) && !isScriptRef()\"\r\n        (click)=\"doNodeOperation('editShortTitle')\"></i>\r\n    </div>\r\n    <mat-error *ngIf=\"shortTitle.hasError('required') && shortTitle.touched\">Short Title is required</mat-error>\r\n    <mat-error *ngIf=\"shortTitle.hasError('minlength') && shortTitle.touched\">Please enter at least 5 characters</mat-error>\r\n    <mat-error *ngIf=\"shortTitle.hasError('maxlength') && shortTitle.touched\">Please enter maximum of 100 characters</mat-error>\r\n    <mat-error *ngIf=\"shortTitle.hasError('whitespace') && shortTitle.touched\">Leading and trailing white spaces not allowed</mat-error>\r\n    <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isNodeShortTitleUpdateInProgress\"></mat-progress-bar>\r\n    <span>Document Name</span>\r\n    <div ngClass=\"custom-mat-input-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex *ngIf=\"!isScriptRef()\">\r\n      <input type=\"text\" ngClass=\"form-control\" [formControl]=\"fileName\" fxFlex>\r\n      <i class=\"mat-suffix mdi mdi-pencil mdi-24px cursor-pointer\" *ngIf=\"!fileName.enabled && isOperationAllowed([cmsOperations.UpdateNode])\"\r\n        (click)=\"doNodeOperation('editFileName')\"></i>\r\n      <i class=\"mat-suffix mdi mdi-check mdi-24px cursor-pointer\" *ngIf=\"fileName.enabled && isOperationAllowed([cmsOperations.UpdateNode])\"\r\n        (click)=\"updateNodeForm.valid?doNodeOperation('updateFileName'):''\"></i>\r\n      <i class=\"mat-suffix mdi mdi-close mdi-24px cursor-pointer\" *ngIf=\"fileName.enabled && isOperationAllowed([cmsOperations.UpdateNode])\"\r\n        (click)=\"doNodeOperation('editFileName')\"></i>\r\n    </div>\r\n\r\n    <div ngClass=\"custom-mat-input-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex *ngIf=\"isScriptRef()\">\r\n      <span *ngFor=\"let path of selectedNode.relativeFilePaths?selectedNode.relativeFilePaths:[]\">\r\n        {{path}}\r\n      </span>\r\n    </div>\r\n    <mat-error *ngIf=\"fileName.hasError('pattern') && fileName.touched\">Special characters \\:*?\"\r\n      <>|/ not allowed</mat-error>\r\n    <mat-error *ngIf=\"fileName.hasError('required') && fileName.touched\">File Name is required</mat-error>\r\n    <mat-error *ngIf=\"fileName.hasError('minlength') && fileName.touched\">Please enter at least 5 characters</mat-error>\r\n    <mat-error *ngIf=\"fileName.hasError('maxlength') && fileName.touched\">Please enter maximum of 100 characters</mat-error>\r\n    <mat-error *ngIf=\"fileName.hasError('whitespace') && fileName.touched\">Leading and trailing white spaces not allowed</mat-error>\r\n    <mat-progress-bar mode=\"indeterminate\" *ngIf=\"isNodeFileNameUpdateInProgress\"></mat-progress-bar>\r\n  </form>\r\n\r\n  <mat-accordion fxLayout=\"column\" multi=\"false\" class=\"mt-10\">\r\n    <mat-expansion-panel ngClass=\"bg-transparent\">\r\n      <mat-expansion-panel-header collapsedHeight=\"40px\" expandedHeight=\"40px\">\r\n        <mat-panel-title>\r\n          <h3>All Drafts</h3>\r\n        </mat-panel-title>\r\n      </mat-expansion-panel-header>\r\n      <mat-list ngClass=\"custom-mat-list draft-list\" fxLayout=\"column\">\r\n        <div fxLayout=\"column\" slimScroll ngClass=\"node-drafts-container\">\r\n          <mat-list-item fxFlex *ngFor=\"let draft of nodeDrafts\">\r\n            <div ngClass=\"tag-editing\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex>\r\n              <div *ngIf=\"draft.draftId!=selectedDraft.draftId || !isOperationAllowed([cmsOperations.RenameDraft]) || draft.draftType!=draftType.WorkInProgress\"\r\n                fxLayout=\"row\" FxLayoutAlign=\"space-between center\" fxFlex>\r\n                <span (click)=\"setSelectedDraft(draft)\">{{draft.draftName}}</span>\r\n              </div>\r\n              <div *ngIf=\"draft.draftId==selectedDraft.draftId && isOperationAllowed([cmsOperations.RenameDraft]) && draft.draftType==draftType.WorkInProgress\">\r\n                <mat-form-field floatPlaceholder=\"never\">\r\n                  <input matInput placeholder=\"Draft Name\" name=\"draftName\" autofocus (keyup)=\"checkValidName(selectedDraft)\" maxlength=\"100\"\r\n                    [(ngModel)]=\"selectedDraft.draftName\" required>\r\n                  <small matSuffix>{{selectedDraft.draftName?selectedDraft.draftName.length:0}}/100</small>\r\n                  <mat-error *ngIf=\"!(selectedDraft.draftName.length>0)\">Draft name is required</mat-error>\r\n                  <mat-error *ngIf=\"selectedDraft.draftName.length>0 && selectedDraft.draftName.length<5\">Please enter at least 5 characters</mat-error>\r\n                  <div ngClass=\"tag-handler-icons\" fxLayout=\"row\">\r\n                    <button mat-menu-item [disabled]=\"!isValidDraftName\" (click)=\"draft.inProgress=true;editDraft(); $event.stopPropagation();\">\r\n                      <i class=\"mdi mdi-check mdi-24px\"></i>\r\n                    </button>\r\n                    <button mat-menu-item (click)=\"refreshSelectedDraft(); $event.stopPropagation();\">\r\n                      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n                    </button>\r\n                  </div>\r\n                </mat-form-field>\r\n                <mat-error ngClass=\"invalid-draft-error\" *ngIf=\"!isValidDraftName\">invalid Draft Name</mat-error>\r\n              </div>\r\n\r\n              <mat-icon *ngIf=\"draft.draftType!=draftType.CoderDraft && !draft.inProgress\">\r\n                <i class=\"mdi mdi-delete mdi-24px cursor-pointer\" (click)=\"deleteDraft(draft)\" [fxHide]=\"!isOperationAllowed([cmsOperations.DeleteDraft])\"></i>\r\n              </mat-icon>\r\n              <mat-spinner *ngIf=\"draft.inProgress\" fxFlex=\"5%\" fxLayoutAlign=\"center\" style=\"float:right;\" ngClass=\"tag-view-loader\"></mat-spinner>\r\n            </div>\r\n          </mat-list-item>\r\n        </div>\r\n      </mat-list>\r\n    </mat-expansion-panel>\r\n    <mat-expansion-panel ngClass=\"bg-transparent\" [expanded]=\"true\">\r\n      <mat-expansion-panel-header collapsedHeight=\"40px\" expandedHeight=\"40px\">\r\n        <mat-panel-title>\r\n          <h3>Tags</h3>\r\n        </mat-panel-title>\r\n      </mat-expansion-panel-header>\r\n      <div ngClass=\"tags-list\" slimScroll fxLayout=\"column\">\r\n        <mat-chip-list #chipList>\r\n          <div fxLayout=\"row\" class=\"button-row\" fxFlexFill fxLayoutAlign=\"end end\">\r\n            <button mat-raised-button color=\"primary\" [disabled]=\"!selectedNode||!selectedProject\" fxFlexAlign=\"end\" (click)=\"openDialog();$event.stopPropagation();\">EDIT TAGS</button>\r\n          </div>\r\n          <div class=\"mt-10\">\r\n            <mat-chip class=\"m-5\" *ngFor=\"let tag of assignedTags | sort: 'tagName'\" selectable=\"true\" selected=\"true\" [ngStyle]=\"{'background-color': tag.colour}\">\r\n              {{tag.tagName}}\r\n              <span *ngIf=\"tag.displayGroupName\">({{tag.tagGroupName}})</span>\r\n              <mat-spinner *ngIf=\"tag.inProgress\" ngClass=\"tag-view-loader\"></mat-spinner>\r\n              <mat-icon *ngIf=\"!tag.inProgress\" matChipRemove [fxHide]=\"!isOperationAllowed([cmsOperations.DeleteTagsFromNode])\" (click)=\"removeTag(tag)\">\r\n                <i class=\"mdi mdi-close-circle mdi-18px\"></i>\r\n              </mat-icon>\r\n            </mat-chip>\r\n          </div>\r\n          <div class=\"mt-10\">\r\n            <mat-form-field>\r\n              <input matInput placeholder=\"Enter a tag name\" [matChipInputFor]=\"chipList\" aria-label=\"Tags\" [matAutocomplete]=\"auto\" [formControl]=\"tagCtrl\">\r\n              <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"addTag($event)\" [fxHide]=\"!isOperationAllowed([cmsOperations.AddTagsToNode])\">\r\n                <mat-option *ngFor=\"let tag of filteredTags | async\" [value]=\"tag\">\r\n                  {{tag.tagName}}\r\n                  <span *ngIf=\"tag.displayGroupName\">({{tag.tagGroupName}})</span>\r\n                </mat-option>\r\n              </mat-autocomplete>\r\n            </mat-form-field>\r\n          </div>\r\n        </mat-chip-list>\r\n      </div>\r\n    </mat-expansion-panel>\r\n    <mat-expansion-panel ngClass=\"bg-transparent\">\r\n      <mat-expansion-panel-header collapsedHeight=\"40px\" expandedHeight=\"40px\">\r\n        <mat-panel-title>\r\n          <h3>Available Languages</h3>\r\n        </mat-panel-title>\r\n      </mat-expansion-panel-header>\r\n      <div fxLayout=\"column\">\r\n        <mat-form-field fxFlexFill ngClass=\"language-wrapper\" fxFlexOffset=\"10px\">\r\n          <mat-chip-list>\r\n            <mat-chip>ENGLISH</mat-chip>\r\n          </mat-chip-list>\r\n        </mat-form-field>\r\n      </div>\r\n    </mat-expansion-panel>\r\n  </mat-accordion>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/tag-view/tag-view.component.ts":
/*!************************************************!*\
  !*** ./src/app/tag-view/tag-view.component.ts ***!
  \************************************************/
/*! exports provided: TagViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagViewComponent", function() { return TagViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _manage_node_tag_manage_node_tag_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../manage-node-tag/manage-node-tag.component */ "./src/app/manage-node-tag/manage-node-tag.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _common_error_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/error-handler */ "./src/app/common/error-handler.ts");
/* harmony import */ var _tag_view_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tag-view.service */ "./src/app/tag-view/tag-view.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../treeview/treeview.service */ "./src/app/treeview/treeview.service.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../new-draft/draft.service */ "./src/app/new-draft/draft.service.ts");
/* harmony import */ var _confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../confirm-dialog/confirm-dialog.component */ "./src/app/confirm-dialog/confirm-dialog.component.ts");
/* harmony import */ var _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../common/whitespace-validator */ "./src/app/common/whitespace-validator.ts");
/* harmony import */ var _project_project_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../project/project.service */ "./src/app/project/project.service.ts");
/* harmony import */ var _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../distribution/distribution.service */ "./src/app/distribution/distribution.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

















var TagViewComponent = (function (_super) {
    __extends(TagViewComponent, _super);
    function TagViewComponent(route, tagViewService, draftService, injector, treeViewService, projectService, distributionService, dialog, formBuilder) {
        var _this = _super.call(this, injector, { title: _constants__WEBPACK_IMPORTED_MODULE_10__["pageTitleList"].tagManagementNodeLevel }) || this;
        _this.route = route;
        _this.tagViewService = tagViewService;
        _this.draftService = draftService;
        _this.injector = injector;
        _this.treeViewService = treeViewService;
        _this.projectService = projectService;
        _this.distributionService = distributionService;
        _this.dialog = dialog;
        _this.formBuilder = formBuilder;
        _this.availableTags = [];
        _this.draftType = _constants__WEBPACK_IMPORTED_MODULE_10__["DraftType"];
        _this.selectedDraft = { draftId: '', draftName: '' };
        _this.isValidDraftName = true;
        _this.oldDraftName = '';
        _this.documentationType = _constants__WEBPACK_IMPORTED_MODULE_10__["DocumentationType"];
        _this.shortTitle = new _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormControl"]({ value: '', disabled: true }, [_angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_14__["WhiteSpaceValidator"]]);
        _this.fileName = new _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormControl"]({ value: '', disabled: true }, [_angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].maxLength(100), _common_whitespace_validator__WEBPACK_IMPORTED_MODULE_14__["WhiteSpaceValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].pattern(_constants__WEBPACK_IMPORTED_MODULE_10__["applicationConstants"].inputPattern.fileName)]);
        _this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_10__["topics"].Node, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_10__["topics"].Node, eventName: undefined };
        _this.tagCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormControl"]();
        _this.createUpdateNodeForm();
        return _this;
    }
    TagViewComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.selectedProject = this.projectService.getSelectedProject();
        this.filteredTags = this.tagCtrl.valueChanges.startWith(null).map(function (tag) { return tag ? _this.filterTags(tag) : _this.availableTags.slice(); });
        this.subscribeForRouteParams();
    };
    TagViewComponent.prototype.createUpdateNodeForm = function () {
        this.updateNodeForm = this.formBuilder.group({
            shortTitle: this.shortTitle,
            fileName: this.fileName,
        });
    };
    TagViewComponent.prototype.tagGroupsUpdate = function (data) {
        this.getTags();
    };
    TagViewComponent.prototype.subscribeForRouteParams = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.selectedNodeId = params.documentId;
            _this.selectedNode = _this.treeViewService.getNode(_this.selectedNodeId);
            _this.documentName = _this.selectedNode ? _this.selectedNode.shortTitle : '';
            _this.fileName.setValue(_this.selectedNode ? _this.selectedNode.fileName : '');
            _this.shortTitle.setValue(_this.selectedNode ? _this.selectedNode.shortTitle : '');
            _this.getTags();
        });
    };
    TagViewComponent.prototype.refreshNodesEvent = function (data) {
        this.selectedNode = underscore__WEBPACK_IMPORTED_MODULE_3__["find"](data.value.nodeList, function (node) {
            return node.nodeId === this.selectedNodeId;
        }.bind(this));
        this.getTags();
    };
    TagViewComponent.prototype.getTags = function () {
        if (!this.selectedProject || !this.selectedNode) {
            return;
        }
        var allTags = this.tagViewService.getTagsByTagGroupIds(this.selectedProject.tagGroups);
        this.availableTags = this.tagViewService.getAvailableTags(allTags, this.selectedNode.tags);
        this.assignedTags = this.tagViewService.getAssignedTags(allTags, this.selectedNode.tags);
    };
    TagViewComponent.prototype.filterTags = function (event) {
        var availableTags = this.availableTags.filter(function (tag) {
            if (event.tagName) {
                return tag.tagName.toLowerCase().indexOf(event.tagName.toLowerCase()) === 0;
            }
            else {
                return tag.tagName.toLowerCase().indexOf(event.toLowerCase()) === 0;
            }
        });
        return availableTags;
    };
    TagViewComponent.prototype.addTag = function (event) {
        var _this = this;
        var tag = event.option.value;
        tag.inProgress = true;
        this.availableTags = underscore__WEBPACK_IMPORTED_MODULE_3__["filter"](this.availableTags, function (atag) {
            if (atag.tagId !== tag.tagId) {
                return atag;
            }
        });
        this.assignedTags.push(tag);
        this.selectedNode.tags.push(tag.tagId);
        this.getTags();
        this.tagCtrl.setValue('', { onlySelf: true });
        var requestObject = { nodeId: this.selectedNode.nodeId, tags: [tag.tagId] };
        this.tagViewService.addTagsToNode(requestObject).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_10__["applicationConstants"].operation.addTagsToNode });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_11__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_10__["cmsOperation"].AddTagsToNode, _constants__WEBPACK_IMPORTED_MODULE_10__["eventStatus"].Wait, { tagName: tag.tagName, nodeName: _this.selectedNode.shortTitle });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_4__["commonResponseErrorHandler"])(error);
        });
    };
    TagViewComponent.prototype.removeTag = function (tag) {
        var _this = this;
        tag.inProgress = true;
        this.assignedTags = underscore__WEBPACK_IMPORTED_MODULE_3__["filter"](this.assignedTags, function (atag) {
            if (atag.tagId !== tag.tagId) {
                return atag;
            }
        });
        this.availableTags.push(tag);
        this.selectedNode.tags = underscore__WEBPACK_IMPORTED_MODULE_3__["without"](this.selectedNode.tags, tag.tagId);
        this.getTags();
        var requestObject = { nodeId: this.selectedNode.nodeId, tags: [tag.tagId] };
        this.tagViewService.removeTagsFromNode(requestObject).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_10__["applicationConstants"].operation.deleteTagsFromNode });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_11__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_10__["cmsOperation"].DeleteTagsFromNode, _constants__WEBPACK_IMPORTED_MODULE_10__["eventStatus"].Wait, { tagName: tag.tagName, nodeName: _this.selectedNode.shortTitle });
            _this.addOperationEvent(operation);
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_4__["commonResponseErrorHandler"])(error);
        });
    };
    TagViewComponent.prototype.openDialog = function () {
        this.dialog.open(_manage_node_tag_manage_node_tag_component__WEBPACK_IMPORTED_MODULE_1__["ManageNodeTagComponent"], {
            data: {
                node: this.selectedNode,
                project: this.selectedProject,
            }, width: '990px', height: '600px'
        });
    };
    TagViewComponent.prototype.deleteDraft = function (draft) {
        var _this = this;
        var dialogRef = this.dialog.open(_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_13__["ConfirmDialogComponent"], {
            data: { message: 'Do you want to delete the Draft: ' + draft.draftName + ' ?', showButton: true, buttonText: _constants__WEBPACK_IMPORTED_MODULE_10__["applicationConstants"].confirmButtonText.Delete }, width: '400px'
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.draftService.deleteDraft(draft.draftId).then(function (responseId) {
                    draft.inProgress = true;
                    _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_10__["applicationConstants"].operation.deleteDraft });
                    var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_11__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_10__["cmsOperation"].DeleteDraft, _constants__WEBPACK_IMPORTED_MODULE_10__["eventStatus"].Wait, { draftName: draft.draftName, nodeName: _this.selectedNode.shortTitle });
                    _this.addOperationEvent(operation);
                }, function (error) {
                    var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_4__["commonResponseErrorHandler"])(error);
                });
            }
        });
    };
    TagViewComponent.prototype.checkValidName = function (draft) {
        if (this.draftService.draftNameExists(draft, this.nodeDrafts)) {
            this.isValidDraftName = false;
        }
        else {
            this.isValidDraftName = true;
        }
    };
    TagViewComponent.prototype.setSelectedDraft = function (draft) {
        if (draft.inProgress) {
            return;
        }
        this.isValidDraftName = true;
        this.selectedDraft.draftId = draft.draftId;
        this.selectedDraft.draftName = draft.draftName;
        this.oldDraftName = draft.draftName;
    };
    TagViewComponent.prototype.refreshSelectedDraft = function () {
        this.isValidDraftName = true;
        this.selectedDraft.draftId = '';
        this.selectedDraft.draftName = '';
        this.oldDraftName = '';
    };
    TagViewComponent.prototype.editDraft = function () {
        var _this = this;
        this.draftService.renameDraft({ draftId: this.selectedDraft.draftId, draftName: this.selectedDraft.draftName, draftType: _constants__WEBPACK_IMPORTED_MODULE_10__["DraftType"].WorkInProgress }).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_10__["applicationConstants"].operation.renameDraft });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_11__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_10__["cmsOperation"].RenameDraft, _constants__WEBPACK_IMPORTED_MODULE_10__["eventStatus"].Wait, { oldDraftName: _this.oldDraftName, newDraftName: _this.selectedDraft.draftName });
            _this.addOperationEvent(operation);
            _this.refreshSelectedDraft();
        }, function (error) {
            var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_4__["commonResponseErrorHandler"])(error);
        });
    };
    TagViewComponent.prototype.doNodeOperation = function (requestType) {
        switch (requestType) {
            case 'editShortTitle':
                this.shortTitle.setValue(this.selectedNode.shortTitle);
                this.shortTitle.enabled ? this.shortTitle.disable() : this.shortTitle.enable();
                break;
            case 'updateShortTitle':
                this.isNodeShortTitleUpdateInProgress = true;
                this.updateNode({
                    nodeId: this.selectedNode.nodeId, title: this.selectedNode.title,
                    shortTitle: this.shortTitle.value, fileName: this.selectedNode.fileName
                });
                break;
            case 'editFileName':
                this.fileName.enabled ? this.fileName.disable() : this.fileName.enable();
                this.fileName.setValue(this.selectedNode.fileName);
                break;
            case 'updateFileName':
                this.isNodeFileNameUpdateInProgress = true;
                this.updateNode({
                    nodeId: this.selectedNode.nodeId, title: this.selectedNode.title,
                    shortTitle: this.shortTitle.value, fileName: this.fileName.value
                });
                break;
            default: break;
        }
    };
    TagViewComponent.prototype.isScriptRef = function () {
        if (this.selectedProject['typeOfContent'] === this.documentationType.ScriptRef) {
            return true;
        }
        return false;
    };
    TagViewComponent.prototype.updateNode = function (node) {
        var _this = this;
        this.treeViewService.updateNode(node).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_10__["applicationConstants"].operation.updateNode });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_11__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_10__["cmsOperation"].UpdateNode, _constants__WEBPACK_IMPORTED_MODULE_10__["eventStatus"].Wait, { nodeName: node.title });
            _this.addOperationEvent(operation);
            _this.isNodeFileNameUpdateInProgress = false;
            _this.isNodeShortTitleUpdateInProgress = false;
            _this.shortTitle.enabled ? _this.shortTitle.disable() : _this.shortTitle.enable();
            _this.fileName.enabled ? _this.fileName.disable() : _this.fileName.enable();
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], TagViewComponent.prototype, "nodeDrafts", void 0);
    TagViewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-tag-view',
            template: __webpack_require__(/*! ./tag-view.component.html */ "./src/app/tag-view/tag-view.component.html"),
            providers: [_tag_view_service__WEBPACK_IMPORTED_MODULE_5__["TagViewService"]]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"], _tag_view_service__WEBPACK_IMPORTED_MODULE_5__["TagViewService"], _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_12__["DraftService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _treeview_treeview_service__WEBPACK_IMPORTED_MODULE_8__["TreeViewService"], _project_project_service__WEBPACK_IMPORTED_MODULE_15__["ProjectService"], _distribution_distribution_service__WEBPACK_IMPORTED_MODULE_16__["DistributionService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialog"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormBuilder"]])
    ], TagViewComponent);
    return TagViewComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_9__["BaseComponent"]));



/***/ }),

/***/ "./src/app/tag-view/tag-view.service.ts":
/*!**********************************************!*\
  !*** ./src/app/tag-view/tag-view.service.ts ***!
  \**********************************************/
/*! exports provided: TagViewService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagViewService", function() { return TagViewService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TagViewService = (function () {
    function TagViewService(httpService, tagCacheService) {
        this.httpService = httpService;
        this.tagCacheService = tagCacheService;
    }
    TagViewService.prototype.getAvailableTagGroups = function (tagGroups, nodeTags) {
        var allTagGroups = JSON.parse(JSON.stringify(tagGroups));
        return underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](allTagGroups, function (tagGroup) {
            tagGroup.tags = underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](tagGroup.tags, function (tag) {
                if (underscore__WEBPACK_IMPORTED_MODULE_1__["indexOf"](nodeTags, tag.tagId) < 0) {
                    return tag;
                }
            });
            return tagGroup;
        });
    };
    TagViewService.prototype.getAssignedTagGroups = function (tagGroups, nodeTags) {
        var allTagGroups = JSON.parse(JSON.stringify(tagGroups));
        return underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](allTagGroups, function (tagGroup) {
            tagGroup.tags = underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](tagGroup.tags, function (tag) {
                if (underscore__WEBPACK_IMPORTED_MODULE_1__["indexOf"](nodeTags, tag.tagId) > -1) {
                    return tag;
                }
            });
            return tagGroup;
        });
    };
    TagViewService.prototype.addTagsToNode = function (requestModel) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].API_BASE_URL + '/api/nodes/AddTagsToNode', requestModel)
            .toPromise()
            .then(function (response) {
            return response.json().responseId;
        });
    };
    TagViewService.prototype.removeTagsFromNode = function (requestModel) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].API_BASE_URL + '/api/nodes/DeleteTagsFromNode', requestModel)
            .toPromise()
            .then(function (response) {
            return response.json().responseId;
        });
    };
    TagViewService.prototype.getTagsForNode = function (nodeId) {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].API_BASE_URL + '/api/nodes/' + nodeId + '/tags')
            .toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TagViewService.prototype.getTagsByTagGroupIds = function (tagGroupIds) {
        var tags = [];
        underscore__WEBPACK_IMPORTED_MODULE_1__["each"](tagGroupIds, function (tagGroupId) {
            var tagGroup = this.tagCacheService.getTagGroup(tagGroupId);
            underscore__WEBPACK_IMPORTED_MODULE_1__["each"](tagGroup.tags, function (tag) {
                tag.tagGroupId = tagGroup.tagGroupId;
                tag.limitToOne = tagGroup.limitToOne;
                tag.tagGroupName = tagGroup.tagGroupName;
                tag.displayGroupName = tagGroup.displayGroupName;
                tag.isSystemManaged = tagGroup.isSystemManaged;
                tag.colour = tagGroup.colour;
                tags.push(tag);
            });
        }.bind(this));
        return tags;
    };
    TagViewService.prototype.getAvailableTags = function (tags, tagIds) {
        var allTags = JSON.parse(JSON.stringify(tags));
        return underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](allTags, function (tag) {
            if (underscore__WEBPACK_IMPORTED_MODULE_1__["indexOf"](tagIds, tag.tagId) < 0) {
                if (!tag.isSystemManaged && (!tag.limitToOne || !this.checkLimitToOne(tag, tagIds))) {
                    return tag;
                }
            }
        }.bind(this));
    };
    TagViewService.prototype.checkLimitToOne = function (selectedTag, tagIds) {
        var allTagIds = underscore__WEBPACK_IMPORTED_MODULE_1__["pluck"](this.getTagsByTagGroupIds([selectedTag.tagGroupId]), 'tagId');
        return underscore__WEBPACK_IMPORTED_MODULE_1__["intersection"](allTagIds, tagIds).length > 0 ? true : false;
    };
    TagViewService.prototype.getAssignedTags = function (tags, tagIds) {
        var allTags = JSON.parse(JSON.stringify(tags));
        return underscore__WEBPACK_IMPORTED_MODULE_1__["filter"](allTags, function (tag) {
            if (underscore__WEBPACK_IMPORTED_MODULE_1__["indexOf"](tagIds, tag.tagId) > -1) {
                return tag;
            }
        });
    };
    TagViewService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"],
            _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_4__["TagCacheService"]])
    ], TagViewService);
    return TagViewService;
}());



/***/ }),

/***/ "./src/app/tags/manage-project-tag-group.component.html":
/*!**************************************************************!*\
  !*** ./src/app/tags/manage-project-tag-group.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div ngClass=\"assign-tags-wrapper\" fxLayout=\"column\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>  View / Assign {{manageTagOperation == 'ManageNodeTag' ? 'Tags':'Tag Groups'}} - {{selectedProject.projectName}} <span *ngIf=\"manageTagOperation == 'ManageNodeTag'\"> - {{selectedNode.shortTitle}}</span></h3>\r\n    <button mat-button mat-dialog-close><i class=\"mdi mdi-close mdi-24px\"></i></button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content fxLayout=\"column\" fxLayoutGap=\"15px\">\r\n    <div ngClass=\"custom-mat-input-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start start\" fxFlex=\"40px\">\r\n      <i class=\"mat-prefix mdi mdi-magnify mdi-24px\"></i>\r\n      <input type=\"search\" ngClass=\"form-control\" placeholder=\"Search Tag Groups\" fxFlex [(ngModel)]=\"searchString\">\r\n    </div>\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"10px\">\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"30px\">\r\n        <h2 fxFlex=\"50\">Available Tags</h2>\r\n        <h2 fxFlex=\"50\">Assigned Tags</h2>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"30px\">\r\n        <mat-card fxFlex=\"50\">\r\n          <div slimScroll class=\"manage-project-tag-group\">\r\n            <mat-accordion ngClass=\"custom-mat-accordion\" *ngFor=\"let tagGroup of availableTagGroups  | filterTags:  searchString\">\r\n              <mat-expansion-panel [expanded]=\"true\" *ngIf=\"(tagGroup.tags.length>0&&!tagGroup.isSystemManaged)||tagGroup.tagGroupType===tagGroupType.UserTagGroup\">\r\n                <mat-expansion-panel-header ngClass=\"p-1\" collapsedHeight=\"40px\" expandedHeight=\"40px\">\r\n                  <mat-panel-title fxFlex>\r\n                    <div fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\" fxFlex>\r\n                      <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                        <i [ngStyle]=\"{'color': tagGroup.colour}\" class=\"mdi mdi-tag mdi-18px\"></i>\r\n                        <span>{{tagGroup.tagGroupName}} {{tagGroup.limitToOne ? '(Limit to One)':''}}</span>\r\n                        <span></span>\r\n                      </div>\r\n                      <mat-spinner fxFlex=\"30px\" *ngIf=\"tagGroup.inProgress\" ngClass=\"tag-view-loader\" fxLayoutAlign=\"end\"></mat-spinner>\r\n                      <span fxFlex=\"30px\" fxFlexAlign=\"end\" *ngIf=\"manageTagOperation === 'ManageProjectTagGroup'&&!tagGroup.inProgress\" (click)=\"addTagGroup(tagGroup);$event.stopPropagation();\">\r\n                        <i class=\"mdi mdi-plus-circle mdi-18px\"></i>\r\n                      </span>\r\n                    </div>\r\n                  </mat-panel-title>\r\n                </mat-expansion-panel-header>\r\n                <div fxLayout=\"column\" *ngIf=\"tagGroup.tagGroupType===tagGroupType.OtherTagGroup\">\r\n                  <mat-chip-list ngClass=\"mat-chip-list-stacked\" aria-orientation=\"vertical\">\r\n                    <mat-chip *ngFor=\"let tag of tagGroup.tags\" [ngStyle]=\"{'background-color': tagGroup.colour }\" selected=\"true\" fxLayout=\"row\"\r\n                              fxLayoutGap=\"5px\" fxLayoutAlign=\"start center\">\r\n                      <span>{{tag.tagName}}</span>\r\n                      <mat-spinner *ngIf=\"tag.inProgress\" ngClass=\"tag-view-loader\" fxLayoutAlign=\"end\"></mat-spinner>\r\n                      <i *ngIf=\"manageTagOperation == 'ManageNodeTag'&&!tag.inProgress&&checkLimitToOne(tagGroup)\" (click)=\"addTag(tag,tagGroup)\"\r\n                         class=\"mdi mdi-plus-circle mdi-18px\" fxLayoutAlign=\"end\"></i>\r\n                    </mat-chip>\r\n                  </mat-chip-list>\r\n                </div>\r\n\r\n                <div fxLayout=\"column\" *ngIf=\"manageTagOperation === 'ManageNodeTag' && tagGroup.tagGroupType===tagGroupType.UserTagGroup\">\r\n                  <div fxFlex=\"37px\" fxLayoutAlign=\"stretch center\" fxLayout=\"row\">\r\n                    <input type=\"Search\" ngClass=\"form-control\" [(ngModel)]=\"tagGroup.filterString\" placeholder=\"Type to Filter\" fxFlex [disabled]=\"!checkLimitToOne(tagGroup)\">\r\n                    <button mat-raised-button color=\"primary\" (click)=\"tagGroup.fetchingRecords=true;getUsers(tagGroup,tagGroup.filterString)\" [disabled]=\"!checkLimitToOne(tagGroup)\"><i class=\"mdi mdi-magnify mdi-18px\"></i></button>\r\n                  </div>\r\n                  <mat-progress-bar *ngIf=\"tagGroup.fetchingRecords\" ngClass=\"mt-0\" mode=\"indeterminate\" style=\"margin-bottom:0!important\"></mat-progress-bar>\r\n                  <div *ngIf=\"tagGroup.filteredUsers\" ngClass=\"user-search-info-wrapper\" fxLayoutAlign=\"start stretch\" fxLayout=\"column\">\r\n\r\n                    <div *ngFor=\"let user of tagGroup.filteredUsers\" ngClass=\"user-search-info\" fxFlex=\"37px\" fxLayoutAlign=\"space-between center\" fxLayout=\"row\">\r\n                      <span fxFlexOffset=\"15px\">{{user.firstName}} {{user.lastName}}</span>\r\n                      <span>\r\n                        <button *ngIf=\"!user.inProgress\" [disabled]=\"!checkLimitToOne(tagGroup)\" mat-raised-button color=\"primary\" (click)=\"user.inProgress=true; assignUserToNode(tagGroup,user)\">Add   <i class=\"mdi mdi-account-plus\"></i></button>\r\n                        <mat-spinner *ngIf=\"user.inProgress\" ngClass=\"tag-view-loader\" fxLayoutAlign=\"end\"></mat-spinner>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </mat-expansion-panel>\r\n            </mat-accordion>\r\n          </div>\r\n        </mat-card>\r\n        <mat-card fxFlex=\"50\">\r\n          <div slimScroll class=\"manage-project-tag-group\">\r\n            <mat-accordion ngClass=\"custom-mat-accordion\" *ngFor=\"let tagGroup of assignedTagGroups | filterTags:  searchString\">\r\n              <mat-expansion-panel [expanded]=\"true\" *ngIf=\"(tagGroup.tags.length>0&&(manageTagOperation == 'ManageNodeTag'||!tagGroup.isSystemManaged))||tagGroup.tagGroupType===tagGroupType.UserTagGroup\">\r\n                <mat-expansion-panel-header ngClass=\"p-1\" collapsedHeight=\"40px\" expandedHeight=\"40px\">\r\n                  <mat-panel-title fxFlex>\r\n                    <div fxLayout=\"row\" fxLayoutAlign=\"space-between stretch\" fxFlex>\r\n                      <div fxFlex fxLayout=\"row\" fxLayoutGap=\"5px\">\r\n                        <i [ngStyle]=\"{'color': tagGroup.colour}\" class=\"mdi mdi-tag mdi-18px\"></i>\r\n                        <span>{{tagGroup.tagGroupName}}</span>\r\n                      </div>\r\n                      <mat-spinner fxFlex=\"30px\" *ngIf=\"tagGroup.inProgress\" ngClass=\"tag-view-loader\" fxLayoutAlign=\"end\"></mat-spinner>\r\n                      <span fxFlex=\"30px\" fxFlexAlign=\"end\" *ngIf=\"!tagGroup.inProgress&&manageTagOperation != 'ManageNodeTag'\" (click)=\"removeTagGroup(tagGroup);$event.stopPropagation();\">\r\n                        <i class=\"mdi mdi-close-circle mdi-18px\"></i>\r\n                      </span>\r\n                    </div>\r\n                  </mat-panel-title>\r\n                </mat-expansion-panel-header>\r\n                <mat-chip-list ngClass=\"mat-chip-list-stacked\" aria-orientation=\"vertical\" *ngIf=\"manageTagOperation === 'ManageNodeTag' || tagGroup.tagGroupType===tagGroupType.OtherTagGroup\">\r\n                  <mat-chip *ngFor=\"let tag of tagGroup.tags\" [ngStyle]=\"{'background-color': tagGroup.colour }\" selected=\"true\" fxLayout=\"row\"\r\n                            fxLayoutGap=\"5px\" fxLayoutAlign=\"start center\">\r\n                    <span>{{tag.tagName}}</span>\r\n                    <mat-spinner *ngIf=\"tag.inProgress\" ngClass=\"tag-view-loader\" fxLayoutAlign=\"end\"></mat-spinner>\r\n                    <i *ngIf=\"manageTagOperation == 'ManageNodeTag'&&!tag.inProgress\" (click)=\"removeTag(tag,tagGroup)\" class=\"mdi mdi-close-circle mdi-18px\"\r\n                       fxLayoutAlign=\"end\"></i>\r\n                  </mat-chip>\r\n                </mat-chip-list>\r\n              </mat-expansion-panel>\r\n            </mat-accordion>\r\n          </div>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n  </mat-dialog-content>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/tags/tag-cache.service.ts":
/*!*******************************************!*\
  !*** ./src/app/tags/tag-cache.service.ts ***!
  \*******************************************/
/*! exports provided: TagCacheService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagCacheService", function() { return TagCacheService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _common_storage_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/storage.service */ "./src/app/common/storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TagCacheService = (function () {
    function TagCacheService(httpService, localEventEmitterService, injector, storageService) {
        this.httpService = httpService;
        this.localEventEmitterService = localEventEmitterService;
        this.injector = injector;
        this.storageService = storageService;
        this.tagGroups = {};
        this.tagVsTagGroup = {};
        this.tagGroups = this.getTagGroupsFromLocalStorage();
    }
    TagCacheService.prototype.addTagsToCache = function (tagGroups) {
        this.tagGroups = {};
        this.tagVsTagGroup = {};
        underscore__WEBPACK_IMPORTED_MODULE_2__["each"](tagGroups, function (tagGroup) {
            var tags = {};
            underscore__WEBPACK_IMPORTED_MODULE_2__["each"](tagGroup.tags, function (tag) {
                if (tag.tagId) {
                    tags[tag.tagId] = tag;
                    this.tagVsTagGroup[tag.tagId] = tagGroup.tagGroupId;
                }
            }.bind(this));
            tagGroup.tags = tags;
            this.tagGroups[tagGroup.tagGroupId] = tagGroup;
        }.bind(this));
        this.setTagGroupsToLocalStorage(this.tagGroups);
    };
    TagCacheService.prototype.getTagGroup = function (tagGroupId) {
        var tagGroup = this.tagGroups[tagGroupId];
        tagGroup.tags = underscore__WEBPACK_IMPORTED_MODULE_2__["values"](tagGroup.tags);
        return tagGroup;
    };
    TagCacheService.prototype.getTags = function (TagGroupId) {
        return underscore__WEBPACK_IMPORTED_MODULE_2__["values"](this.tagGroups[TagGroupId].tags);
    };
    TagCacheService.prototype.getTagGroups = function () {
        var tagGroups = underscore__WEBPACK_IMPORTED_MODULE_2__["values"](this.tagGroups);
        return underscore__WEBPACK_IMPORTED_MODULE_2__["each"](tagGroups, function (tagGroup) {
            tagGroup.tags = underscore__WEBPACK_IMPORTED_MODULE_2__["values"](tagGroup.tags);
            return tagGroup;
        });
    };
    TagCacheService.prototype.tagGroupNameExists = function (selectedTagGroup) {
        var foundTagGroup = underscore__WEBPACK_IMPORTED_MODULE_2__["find"](this.getTagGroups(), function (tagGroup) {
            return selectedTagGroup.tagGroupName.toLowerCase() === tagGroup.tagGroupName.toLowerCase() && tagGroup.tagGroupId !== selectedTagGroup.tagGroupId;
        });
        return foundTagGroup ? true : false;
    };
    TagCacheService.prototype.tagNameExists = function (selectedTag, tagGroupId) {
        if (!selectedTag.tagId) {
            selectedTag = { tagId: '', tagName: selectedTag };
        }
        var tagGroup = this.getTagGroup(tagGroupId);
        var tags = underscore__WEBPACK_IMPORTED_MODULE_2__["values"](tagGroup.tags);
        var foundTag = underscore__WEBPACK_IMPORTED_MODULE_2__["find"](tags, function (tag) {
            return tag.tagName.toLowerCase() === selectedTag.tagName.toLowerCase() && tag.tagId !== selectedTag.tagId;
        });
        return foundTag ? true : false;
    };
    TagCacheService.prototype.getTagGroupForTag = function (tagId) {
        return underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.tagGroups, function (tagGroup) {
            if (tagGroup.value.tags[tagId]) {
                return tagGroup.value;
            }
        });
    };
    TagCacheService.prototype.addTag = function (tagGroupId, tag) {
        tag.inProgress = true;
        tag.tagId = '_new';
        this.tagGroups[tagGroupId].tags['_new'] = tag;
        this.emitLocalEvent({ eventName: 'tagGroupsUpdate', value: this.getTagGroups() });
        return tag;
    };
    TagCacheService.prototype.addTagGroup = function (tagGroup) {
        tagGroup.tagGroupId = '_new';
        tagGroup.inProgress = true;
        this.tagGroups['_new'] = tagGroup;
        this.emitLocalEvent({ eventName: 'tagGroupsUpdate', value: this.getTagGroups() });
        return tagGroup;
    };
    TagCacheService.prototype.updateTagGroup = function (tagGroupId, tagGroup) {
        this.tagGroups[tagGroupId].inProgress = true;
        this.tagGroups[tagGroupId].tagGroupName = tagGroup.tagGroupName;
        this.tagGroups[tagGroupId].colour = tagGroup.colour;
        this.tagGroups[tagGroupId].limitToOne = tagGroup.limitToOne;
        this.tagGroups[tagGroupId].childNodesInherit = tagGroup.childNodesInherit;
        this.tagGroups[tagGroupId].displayGroupName = tagGroup.displayGroupName;
        this.tagGroups[tagGroupId].public = tagGroup.public;
        this.tagGroups[tagGroupId].publish = tagGroup.publish;
        this.emitLocalEvent({ eventName: 'tagGroupsUpdate', value: this.getTagGroups() });
    };
    TagCacheService.prototype.updateTag = function (tagGroupId, tagId, tag) {
        underscore__WEBPACK_IMPORTED_MODULE_2__["each"](this.tagGroups[tagGroupId].tags, function (atag) {
            if (atag.tagId === tagId) {
                atag.tagName = tag.tagName;
                atag.inProgress = true;
            }
        });
        this.emitLocalEvent({ eventName: 'tagGroupsUpdate', value: this.getTagGroups() });
    };
    TagCacheService.prototype.getTagByTagId = function (tagId) {
        var tagGroupId = this.tagVsTagGroup[tagId];
        var tagGroup = this.getTagGroup(tagGroupId);
        return underscore__WEBPACK_IMPORTED_MODULE_2__["find"](tagGroup.tags, function (tag) { return tag.tagId === tagId; });
    };
    TagCacheService.prototype.getTagGroupsForIds = function (tagGroupIds) {
        var tagGroups = [];
        var clonedTagGroups = JSON.parse(JSON.stringify(this.getTagGroups()));
        underscore__WEBPACK_IMPORTED_MODULE_2__["each"](clonedTagGroups, function (tagGroup) {
            if (underscore__WEBPACK_IMPORTED_MODULE_2__["indexOf"](tagGroupIds, tagGroup.tagGroupId) > -1) {
                tagGroup.selected = false;
                tagGroup.inProgress = false;
                tagGroups.push(tagGroup);
            }
        }.bind(this));
        return tagGroups;
    };
    TagCacheService.prototype.getExcludedTagGroups = function (tagGroupIds) {
        var tagGroups = [];
        underscore__WEBPACK_IMPORTED_MODULE_2__["each"](this.getTagGroups(), function (tagGroup) {
            if (underscore__WEBPACK_IMPORTED_MODULE_2__["indexOf"](tagGroupIds, tagGroup.tagGroupId) < 0) {
                tagGroup.inProgress = false;
                tagGroups.push(tagGroup);
            }
        }.bind(this));
        return tagGroups;
    };
    TagCacheService.prototype.fetchTagGroups = function () {
        if (!this.pendingResponseId) {
            this.requestTagGroups();
        }
        return this.getTagGroups();
    };
    TagCacheService.prototype.getTagGroupList = function () {
        return {
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].API_BASE_URL + '/api/tagGroups'),
            data: this.getTagGroups()
        };
    };
    TagCacheService.prototype.requestTagGroups = function () {
        return this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].API_BASE_URL + '/api/tagGroups').toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TagCacheService.prototype.postTagGroup = function (tagGroup) {
        this.addTagGroup(tagGroup);
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].API_BASE_URL + '/api/tagGroups', tagGroup).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TagCacheService.prototype.editTagGroup = function (tagGroup) {
        this.updateTagGroup(tagGroup.tagGroupId, tagGroup);
        return this.httpService.put(_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].API_BASE_URL + '/api/tagGroups', tagGroup).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TagCacheService.prototype.postTag = function (tagGroup, tag) {
        this.addTag(tagGroup.tagGroupId, tag);
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].API_BASE_URL + '/api/tags', { tagName: tag.tagName, tagGroupId: tagGroup.tagGroupId }).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TagCacheService.prototype.editTag = function (tagGroup, tag) {
        this.updateTag(tagGroup.tagGroupId, tag.tagId, tag);
        return this.httpService.put(_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].API_BASE_URL + '/api/tags', tag).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TagCacheService.prototype.getTagGroupsFromLocalStorage = function () {
        var tagGroups = this.storageService.read('tagGroups');
        return tagGroups ? tagGroups : {};
    };
    TagCacheService.prototype.setTagGroupsToLocalStorage = function (tagGroups) {
        this.storageService.write('tagGroups', tagGroups);
    };
    TagCacheService.prototype.emitLocalEvent = function (value) {
        this.localEventEmitterService.localEvent.emit(value);
    };
    TagCacheService.prototype.deleteTagGroup = function (tagGroup) {
        return this.httpService.delete(_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].API_BASE_URL + '/api/tagGroups/' + tagGroup.tagGroupId)
            .toPromise()
            .then(function (response) {
            return response.json().responseId;
        });
    };
    TagCacheService.prototype.deleteTag = function (tag) {
        return this.httpService.delete(_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].API_BASE_URL + '/api/tags/' + tag.tagId)
            .toPromise()
            .then(function (response) {
            return response.json().responseId;
        });
    };
    TagCacheService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"], _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_3__["LocalEventEmitterService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_storage_service__WEBPACK_IMPORTED_MODULE_5__["StorageService"]])
    ], TagCacheService);
    return TagCacheService;
}());



/***/ }),

/***/ "./src/app/tags/tagConstants.ts":
/*!**************************************!*\
  !*** ./src/app/tags/tagConstants.ts ***!
  \**************************************/
/*! exports provided: ManageTagOperation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManageTagOperation", function() { return ManageTagOperation; });
var ManageTagOperation = {
    ManageProjectTagGroup: 'ManageProjectTagGroup',
    ManageNodeTag: 'ManageNodeTag'
};


/***/ }),

/***/ "./src/app/treeview/treeview.component.html":
/*!**************************************************!*\
  !*** ./src/app/treeview/treeview.component.html ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p-contextMenu #treeviewContextMenu [model]=\"getContextMenu()\" class=\"context-menu-top\" [fxHide]=\"selectedProject.typeOfContent==documentationType.ScriptRef || !showContextMenu()\"></p-contextMenu>\r\n\r\n<p-contextMenu #emptyParentContextMenu [model]=\"contextMenuForDiv\" class=\"context-menu-top\" [fxHide]=\"selectedProject.typeOfContent==documentationType.ScriptRef || !showContextMenu()\"></p-contextMenu>\r\n\r\n<div *ngIf=\"!filteredNodes && isTreeviewLoading\" class=\"loadingholder\">\r\n  <div class=\"middle\"></div>\r\n  <div class=\"logoicon logoloader\"></div>\r\n</div>\r\n<div *ngIf=\"filteredNodes\" fxFlexFill fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n  <div class=\"tree-search\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex=\"60px\">\r\n    <span fxFlex fxFlexOffset=\"10px\" ngClass=\"custom-form-field\" fxLayoutAlign=\"space-between center\">\r\n      <input type=\"search\" fxFlex [(ngModel)]=\"searchText\" (ngModelChange)=\"searchTree()\" placeholder=\"Search Documents...\" />\r\n      <i class=\"mdi mdi-magnify mdi-24px\"></i>\r\n    </span>\r\n    <span ngClass=\"cursor-pointer\" (click)=\"filterNodesDialog()\" fxFlex=\"20px\" fxFlexOffset=\"10px\">\r\n      <i fxFlex class=\"mdi mdi-tune mdi-24px\"></i>\r\n    </span>\r\n    <span ngClass=\"cursor-pointer\" (click)=\"selectTagGroupsDialog()\" fxFlex=\"20px\" fxFlexOffset=\"10px\">\r\n      <i fxFlex class=\"mdi mdi-tag mdi-24px\"></i>\r\n    </span>\r\n  </div>\r\n  <div fxLayout=\"column\" ngClass=\"tree-body\" fxFlex=\"calc(100% - 60px)\">\r\n    <div fxLayout=\"column\" ngClass=\"tree-node-list-wrapper\" fxFlex=\"70\">\r\n      <p-tree #expandingTree [value]=\"filteredNodes\" fxLayout=\"row\" selectionMode=\"multiple\" [(selection)]=\"selectedNodes\" [draggableNodes]=\"isOperationAllowed([cmsOperations.ChangeNodeLocation])\"\r\n        [droppableNodes]=\"isOperationAllowed([cmsOperations.ChangeNodeLocation])\" (onNodeSelect)=\"onNodeSelect($event)\" (onNodeUnselect)=\"nodeUnselect($event)\"\r\n        (onNodeDrop)=\"nodeDropComplete($event)\" fxFlex=\"0 0 auto\" [contextMenu]=\"treeviewContextMenu\" (onNodeCollapse)=\"nodeCollapse($event)\"\r\n        (onNodeExpand)=\"nodeExpand($event)\">\r\n        <ng-template let-node pTemplate=\"default\" width=\"100%\">\r\n          <div *ngIf=\"node.data.documentId!==updatingNodeId||!node.data.updateInProgress\">\r\n            <span ngClass=\"{{selectedNodeId==node.nodeId ? 'bold' : ''}}\">{{node.label}}</span>\r\n            <span *ngFor=\"let tagGroup of node.tagGroups\">\r\n              <mat-chip *ngFor=\"let tag of tagGroup.tags\" [ngStyle]=\"{'background-color': tagGroup.colour }\">\r\n                {{tag.tagName}}\r\n                <span *ngIf=\"tagGroup.displayGroupName\">({{tagGroup.tagGroupName}})</span>\r\n              </mat-chip>\r\n            </span>\r\n          </div>\r\n          <div *ngIf=\"node.data.updateInProgress && node.data.documentId===updatingNodeId\" fxLayout=\"column\" ngClass=\"update-tree-node\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"spacebetween center\">\r\n              <input matInput placeholder=\"Short Title\" name=\"shortTitle\" autofocus maxlength=\"100\" [(ngModel)]=\"node.label\" required>\r\n              <small matSuffix>{{node.label?node.label.length:0}}/100</small>\r\n              <div ngClass=\"tag-handler-icons\" fxLayout=\"row\">\r\n                <button mat-raised-button [disabled]=\"!(node.label.length>0)\" (click)=\"updateShortTitle(); updatingNodeId=''; $event.stopPropagation();\">\r\n                  <i class=\"mdi mdi-check mdi-24px\"></i>\r\n                </button>\r\n                <button mat-raised-button (click)=\"node.data.updateInProgress=false;updatingNodeId=''; $event.stopPropagation();node.label=oldNodeName;oldNodeName='';\">\r\n                  <i class=\"mdi mdi-close mdi-24px\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <mat-error *ngIf=\"!(node.label.length>0)\">short title is required</mat-error>\r\n          </div>\r\n        </ng-template>\r\n      </p-tree>\r\n      <div ngClass=\"add-parent-node\" (contextmenu)=\"emptyParentContextMenu.show($event)\" fxFlex>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n    <p-tree ngClass=\"orphan-node-list-wrapper\" *ngIf=\"orphanNodes&&orphanNodes.length>0\" #orphanTree [value]=\"orphanNodes\" fxFlex=\"30\"\r\n      fxLayout=\"row\" selectionMode=\"single\" [(selection)]=\"selectedOrphanNode\" [draggableNodes]=\"true\" [droppableNodes]=\"false\"\r\n      fxFlexFill>\r\n    </p-tree>\r\n    <div *ngIf=\"treeNodeOperationInProgress\" ngClass=\"tree-nodeOperationInProgress\"></div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/treeview/treeview.component.ts":
/*!************************************************!*\
  !*** ./src/app/treeview/treeview.component.ts ***!
  \************************************************/
/*! exports provided: TreeViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeViewComponent", function() { return TreeViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primeng/primeng */ "./node_modules/primeng/primeng.js");
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(primeng_primeng__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/utils */ "./src/app/common/utils.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tags/tag-cache.service */ "./src/app/tags/tag-cache.service.ts");
/* harmony import */ var _tag_groups_tag_groups_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tag-groups/tag-groups.component */ "./src/app/tag-groups/tag-groups.component.ts");
/* harmony import */ var _common_storage_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/storage.service */ "./src/app/common/storage.service.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _add_node_add_node_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../add-node/add-node.component */ "./src/app/add-node/add-node.component.ts");
/* harmony import */ var _operation_status_operation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../operation-status/operation */ "./src/app/operation-status/operation.ts");
/* harmony import */ var _confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../confirm-dialog/confirm-dialog.component */ "./src/app/confirm-dialog/confirm-dialog.component.ts");
/* harmony import */ var _common_error_handler__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/error-handler */ "./src/app/common/error-handler.ts");
/* harmony import */ var _manage_tags_to_multiple_nodes_manage_tags_to_multiple_nodes_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../manage-tags-to-multiple-nodes/manage-tags-to-multiple-nodes.component */ "./src/app/manage-tags-to-multiple-nodes/manage-tags-to-multiple-nodes.component.ts");
/* harmony import */ var _operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../operation-base/operation-base.component */ "./src/app/operation-base/operation-base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var TreeViewComponent = (function (_super) {
    __extends(TreeViewComponent, _super);
    function TreeViewComponent(injector, tagCacheService, router, storageService, route, dialog) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.tagCacheService = tagCacheService;
        _this.router = router;
        _this.storageService = storageService;
        _this.route = route;
        _this.dialog = dialog;
        _this.nodeClick = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.selectedNodes = [];
        _this.searchText = '';
        _this.selectedTags = [];
        _this.selectedTagGroups = [];
        _this.filterTree = false;
        _this.documentationType = _constants__WEBPACK_IMPORTED_MODULE_9__["DocumentationType"];
        _this.treeNodeOperationInProgress = false;
        _this.updatingNodeId = '';
        _this.oldNodeName = '';
        _this.isTreeviewLoading = false;
        _this.expandedNodeIds = [];
        _this.contextMenuForNode = [
            {
                label: 'Delete Node',
                icon: 'mdi mdi-delete',
                command: function (event) { return _this.deleteNode(_this.selectedNodes[0]); }
            },
            {
                label: 'Rename Short Title',
                icon: 'mdi mdi-pencil',
                command: function (event) {
                    _this.updatingNodeId = _this.selectedNodes[0].data.documentId;
                    _this.oldNodeName = _this.selectedNodes[0].label;
                    _this.selectedNodes[0].data.updateInProgress = true;
                }
            },
            {
                label: 'Add Tags',
                icon: 'mdi mdi-plus',
                command: function (event) { return _this.addTags(_this.selectedNodes); }
            },
            {
                label: 'Remove Tags',
                icon: 'mdi mdi-delete',
                command: function (event) { return _this.removeTags(_this.selectedNodes); }
            }
        ];
        _this.contextMenuForFolderNode = [
            {
                label: 'New Node',
                icon: 'mdi mdi-plus',
                command: function (event) { return _this.addNode(_this.selectedNodes[0]); }
            },
            {
                label: 'New Folder Node',
                icon: 'mdi mdi-plus',
                command: function (event) { return _this.addFolder(); }
            },
            {
                label: 'Delete Node',
                icon: 'mdi mdi-delete',
                command: function (event) { return _this.deleteNode(_this.selectedNodes[0]); }
            },
            {
                label: 'Rename Short Title',
                icon: 'mdi mdi-pencil',
                command: function (event) {
                    _this.updatingNodeId = _this.selectedNodes[0].data.documentId;
                    _this.oldNodeName = _this.selectedNodes[0].label;
                    _this.selectedNodes[0].data.updateInProgress = true;
                }
            }
        ];
        _this.contextMenuForDiv = [
            {
                label: 'Add Folder Node',
                icon: 'mdi mdi-plus',
                command: function (event) { return _this.addFolder(); }
            }
        ];
        _this.contextMenuForMultipleNodes = [
            {
                label: 'Add Tags',
                icon: 'mdi mdi-plus',
                command: function (event) { return _this.addTags(_this.selectedNodes); }
            },
            {
                label: 'Remove Tags',
                icon: 'mdi mdi-delete',
                command: function (event) { return _this.removeTags(_this.selectedNodes); }
            }
        ];
        _this.subscribeToRouteParams();
        return _this;
    }
    TreeViewComponent.prototype.ngOnInit = function () {
        this.getTagGroupsFromLocalStorage();
    };
    TreeViewComponent.prototype.getTagGroupsFromLocalStorage = function () {
        var preferredTagGroupIds = this.storageService.read('PreferredTagGroupIds');
        this.selectedTagGroups = this.tagCacheService.getTagGroupsForIds(preferredTagGroupIds);
        this.filterNodes();
    };
    TreeViewComponent.prototype.subscribeToRouteParams = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.filteredNodes = undefined;
            _this.selectedProjectId = _this.projectService.getSelectedProjectId();
            _this.selectedDistributionId = _this.distributionService.getDistributionIdFromCache();
            _this.selectedProject = _this.projectService.getSelectedProject();
            _this.tagGroups = _this.tagCacheService.getTagGroupsForIds(_this.selectedProject.tagGroups);
            _this.isTreeviewLoading = true;
            _this.getNodes(_this.selectedDistributionId);
            _this.unsubscribe();
            _this.topic = { value: _constants__WEBPACK_IMPORTED_MODULE_9__["topics"].Distribution + '/' + _this.selectedDistributionId, subscriptionTopic: _constants__WEBPACK_IMPORTED_MODULE_9__["topics"].Distribution + '/' + _this.selectedDistributionId, eventName: 'updateNodeList' };
            _this.subscribeTopic();
            _this.expandedNodeIds = [];
        });
    };
    TreeViewComponent.prototype.refreshNodes = function (data) {
        if (data.value.distributionId === this.selectedDistributionId) {
            if (data.value.nodeList) {
                this.filterNodes();
                this.treeNodeOperationInProgress = false;
            }
            this.getOrphanNodes(this.selectedDistributionId);
            if (!this.treeViewService.getSelectedNodeId()) {
                this.emitLocalEvent({ eventName: 'nodeSelectedEvent', value: undefined });
            }
            this.isTreeviewLoading = false;
        }
        this.emitLocalEvent({ eventName: 'refreshNodesEvent', value: data.value });
    };
    TreeViewComponent.prototype.TreeFilter = function (data) {
        this.selectedTags = data.value.tagGroups;
        if (underscore__WEBPACK_IMPORTED_MODULE_2__["find"](this.selectedTags, function (tagGroup) {
            return tagGroup.tagIds.length > 0;
        })) {
            this.filterTree = true;
        }
        this.filterNodes();
    };
    TreeViewComponent.prototype.PreferredTagGroups = function (data) {
        this.selectedTagGroups = this.tagCacheService.getTagGroupsForIds(data.value.tagGroupIds);
        this.storageService.write('PreferredTagGroupIds', data.value.tagGroupIds);
        this.filterNodes();
    };
    TreeViewComponent.prototype.tagGroupsUpdate = function (data) {
        this.getTagGroupsFromLocalStorage();
        this.filterNodes();
    };
    TreeViewComponent.prototype.getOrphanNodes = function (distributionId) {
        var nodes = this.distributionService.authoringCacheService.getOrphanNodes(distributionId);
        if (nodes) {
            this.orphanNodes = nodes;
            this.formatOrphanNodes();
        }
    };
    TreeViewComponent.prototype.onNodeSelect = function (event) {
        if (event.originalEvent.ctrlKey) {
            if (event.node.isFolder) {
                if (event.node.expanded) {
                    this.selectedNodes = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.selectedNodes, function (node) {
                        return node.nodeId !== event.node.nodeId;
                    }.bind(this));
                    return;
                }
                else {
                    this.setChildrenSelected(event.node);
                    return;
                }
            }
            else {
                this.setChildrenSelected(event.node);
                return;
            }
        }
        if (event.node.data.updateInProgress) {
            return;
        }
        this.openAuthoringPane();
    };
    TreeViewComponent.prototype.openAuthoringPane = function () {
        if (!this.selectedNodes[0]['isFolder']) {
            this.nodeClick.emit();
            this.selectedNodeId = this.selectedNodes[0].data.documentId;
            this.treeViewService.setNodeIdToCache(this.selectedNodes[0].data.documentId);
            this.emitLocalEvent({ eventName: 'nodeSelectedEvent', value: this.selectedNodes[0].data.documentId });
            this.router.navigate(['./document', this.selectedNodes[0].data.documentId], { relativeTo: this.route });
        }
        else {
            this.selectedNodes = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.selectedNodes, function (node) {
                return node.nodeId !== this.selectedNodes[0].nodeId;
            }.bind(this));
        }
    };
    TreeViewComponent.prototype.nodeCollapse = function (event) {
        this.selectedNodes = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.selectedNodes, function (node) {
            return node.nodeId !== event.node.nodeId;
        }.bind(this));
        var isAnyChildSelected = underscore__WEBPACK_IMPORTED_MODULE_2__["find"](this.selectedNodes, function (node) {
            return node.parentId === event.node.nodeId;
        }.bind(this));
        if (isAnyChildSelected) {
            this.selectedNodes.push(event.node);
        }
        this.expandedNodeIds = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.expandedNodeIds, function (nodeId) {
            return nodeId !== event.node.nodeId;
        }.bind(this));
    };
    TreeViewComponent.prototype.nodeExpand = function (event) {
        this.selectedNodes = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.selectedNodes, function (node) {
            return node.nodeId !== event.node.nodeId;
        }.bind(this));
        var value = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.expandedNodeIds, function (nodeId) {
            return nodeId === event.node.nodeId;
        }.bind(this));
        if (!value) {
            this.expandedNodeIds.push(event.node.nodeId);
        }
    };
    TreeViewComponent.prototype.setChildrenSelected = function (node) {
        if (node.children) {
            underscore__WEBPACK_IMPORTED_MODULE_2__["each"](node.children, function (childNode) {
                if (childNode.children) {
                    this.setChildrenSelected(childNode);
                }
                this.selectedNodes = underscore__WEBPACK_IMPORTED_MODULE_2__["union"](this.selectedNodes, [childNode]);
            }.bind(this));
        }
    };
    TreeViewComponent.prototype.setParentSelected = function (node) {
        if (node.parent) {
            var unSelectedChild = underscore__WEBPACK_IMPORTED_MODULE_2__["find"](node.parent.children, function (item) {
                return !this.checkNodeSelected(item);
            }.bind(this));
            if (!unSelectedChild) {
                this.selectedNodes = underscore__WEBPACK_IMPORTED_MODULE_2__["union"](this.selectedNodes, [node.parent]);
                this.setParentSelected(node.parent);
            }
        }
    };
    TreeViewComponent.prototype.checkNodeSelected = function (item) {
        var selectedNode = underscore__WEBPACK_IMPORTED_MODULE_2__["find"](this.selectedNodes, function (node) {
            return node.data.documentId === item.data.documentId;
        });
        return selectedNode ? true : false;
    };
    TreeViewComponent.prototype.nodeUnselect = function (event) {
        if (event.originalEvent.ctrlKey) {
            this.unselectParentNodes(event.node);
            this.unselectChildNodes(event.node);
        }
    };
    TreeViewComponent.prototype.unselectParentNodes = function (node) {
        if (node.parent) {
            this.unselectParentNodes(node.parent);
        }
        this.selectedNodes = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.selectedNodes, function (childNode) {
            return childNode.data.documentId !== node.data.documentId;
        });
    };
    TreeViewComponent.prototype.unselectChildNodes = function (node) {
        if (node.children) {
            underscore__WEBPACK_IMPORTED_MODULE_2__["each"](node.children, function (childNode) {
                if (childNode.children) {
                    this.unselectChildNodes(childNode);
                }
                this.selectedNodes = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.selectedNodes, function (item) {
                    return item.data.documentId !== childNode.data.documentId;
                });
            }.bind(this));
        }
    };
    TreeViewComponent.prototype.searchTree = function () {
        var clonedNodes = JSON.parse(JSON.stringify(this.nodes));
        if (clonedNodes && clonedNodes.length > 0) {
            this.filteredNodes = new _common_utils__WEBPACK_IMPORTED_MODULE_4__["utils"]().searchTree(clonedNodes, this.searchText, this.filterTree);
            this.filteredNodes = this.treeViewService.expandTree(this.filteredNodes, this.selectedNodeId, this.searchText);
        }
        else {
            this.filteredNodes = [];
        }
    };
    TreeViewComponent.prototype.filterNodesDialog = function () {
        this.dialog.open(_tag_groups_tag_groups_component__WEBPACK_IMPORTED_MODULE_7__["TagGroupsComponent"], { data: { tagGroups: this.tagGroups, filteredTags: this.selectedTags, operationType: 'TreeFilter' }, width: '500px' });
    };
    TreeViewComponent.prototype.filterNodes = function () {
        var treeNodes = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](this.treeViewService.getNodesFromCache(this.selectedDistributionId), function (treeNode) {
            treeNode.styleClass = 'visible';
            underscore__WEBPACK_IMPORTED_MODULE_2__["each"](this.selectedTags, function (tagGroup) {
                if (tagGroup.tagIds.length > 0 && underscore__WEBPACK_IMPORTED_MODULE_2__["intersection"](tagGroup.tagIds, treeNode.tags).length < 1) {
                    treeNode.styleClass = 'inVisible';
                }
            });
            return treeNode;
        }.bind(this));
        treeNodes = this.updateTreeNodes(treeNodes);
        this.nodes = this.treeViewService.convertToPrimeNgTree(new _common_utils__WEBPACK_IMPORTED_MODULE_4__["utils"]().listToTree(treeNodes), 'fa-folder-open', 'fa-folder', 'fa-file-word-o', false, this.expandedNodeIds);
        this.nodes = this.treeViewService.expandTree(this.nodes, this.selectedNodeId, this.searchText);
        this.searchTree();
    };
    TreeViewComponent.prototype.updateTreeNodes = function (treeNodes) {
        return underscore__WEBPACK_IMPORTED_MODULE_2__["each"](treeNodes, function (treeNode) {
            treeNode.tagGroups = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](JSON.parse(JSON.stringify(this.selectedTagGroups)), function (tagGroup) {
                tagGroup.tags = this.getFilteredTags(tagGroup.tags, treeNode.tags);
                return tagGroup;
            }.bind(this));
        }.bind(this));
    };
    TreeViewComponent.prototype.getFilteredTags = function (tags, tagIds) {
        return underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](tags, function (tag) {
            return underscore__WEBPACK_IMPORTED_MODULE_2__["indexOf"](tagIds, tag.tagId) > -1;
        });
    };
    TreeViewComponent.prototype.selectTagGroupsDialog = function () {
        this.dialog.open(_tag_groups_tag_groups_component__WEBPACK_IMPORTED_MODULE_7__["TagGroupsComponent"], { data: { tagGroups: this.tagGroups, operationType: 'PreferredTagGroups' }, width: '500px' });
    };
    TreeViewComponent.prototype.nodeDropComplete = function (event) {
        var _this = this;
        if (this.isDropCompleteAllowed(event)) {
            var value_1 = this.returnTargetNodeAndIndex(event);
            var request = {
                targetParentNodeId: value_1.targetParentNode ? value_1.targetParentNode.nodeId : undefined,
                nodeId: event.dragNode.nodeId,
                updateNodeOrderIndex: value_1.targetNodeOrderIndex
            };
            this.treeViewService.changeNodeLocation(request).then(function (responseId) {
                _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].operation.changeNodeLocation });
                var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_11__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_9__["cmsOperation"].ChangeNodeLocation, _constants__WEBPACK_IMPORTED_MODULE_9__["eventStatus"].Wait, { nodeName: event.dragNode.shortTitle, parentNodeName: value_1.targetParentNode ? value_1.targetParentNode.shortTitle : '' });
                _this.addOperationEvent(operation);
                _this.treeNodeOperationInProgress = true;
            });
        }
        else {
            this.filterNodes();
        }
    };
    TreeViewComponent.prototype.isDropCompleteAllowed = function (event) {
        return event.dropNode.isFolder || (!event.dropNode.isFolder && !event.index);
    };
    TreeViewComponent.prototype.returnTargetNodeAndIndex = function (event) {
        var targetNodeOrderIndex = 0;
        var targetParentNode;
        if (event.index >= 0) {
            targetParentNode = event.dropNode ? event.dropNode : undefined;
        }
        else {
            targetParentNode = event.dropNode.parent ? event.dropNode.parent : undefined;
            targetNodeOrderIndex = event.dropIndex;
        }
        return { targetNodeOrderIndex: targetNodeOrderIndex, targetParentNode: targetParentNode };
    };
    TreeViewComponent.prototype.addNode = function (node) {
        this.dialog.open(_add_node_add_node_component__WEBPACK_IMPORTED_MODULE_10__["AddNodeComponent"], { data: { parentNode: node, distributionId: this.selectedDistributionId, isFolder: false }, width: '50vw' });
    };
    TreeViewComponent.prototype.addFolder = function () {
        this.dialog.open(_add_node_add_node_component__WEBPACK_IMPORTED_MODULE_10__["AddNodeComponent"], { data: { parentNode: undefined, distributionId: this.selectedDistributionId, isFolder: true }, width: '50vw' });
    };
    TreeViewComponent.prototype.AddNodeEvent = function (data) {
        this.treeNodeOperationInProgress = true;
    };
    TreeViewComponent.prototype.deleteNode = function (node) {
        var _this = this;
        var confirmText = 'Do you want to delete the Node: <b>' + node.label + '</b>' + (node.children && node.children.length > 0 ? ' and all the subNodes' : '') + '?';
        var dialogRef = this.dialog.open(_confirm_dialog_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_12__["ConfirmDialogComponent"], {
            data: { message: confirmText, showButton: true, buttonText: _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].confirmButtonText.Delete }, width: '400px'
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                _this.treeViewService.deleteNode(node.nodeId).then(function (responseId) {
                    _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].operation.deleteNode });
                    var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_11__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_9__["cmsOperation"].DeleteNode, _constants__WEBPACK_IMPORTED_MODULE_9__["eventStatus"].Wait, { nodeName: node.shortTitle });
                    _this.addOperationEvent(operation);
                    _this.treeNodeOperationInProgress = true;
                    if (node.nodeId === _this.selectedNodeId) {
                        _this.emitLocalEvent({ eventName: 'disableAuthoringViewEvent', value: true });
                    }
                }, function (error) {
                    var errorMessage = Object(_common_error_handler__WEBPACK_IMPORTED_MODULE_13__["commonResponseErrorHandler"])(error);
                });
            }
        });
    };
    TreeViewComponent.prototype.getContextMenu = function () {
        if (this.selectedNodes.length > 1) {
            return this.contextMenuForMultipleNodes;
        }
        else {
            return (this.selectedNodes && this.selectedNodes.length > 0 && !this.selectedNodes[0]['isFolder']) ? this.contextMenuForNode : this.contextMenuForFolderNode;
        }
    };
    TreeViewComponent.prototype.addTags = function (selectedNodes) {
        selectedNodes = underscore__WEBPACK_IMPORTED_MODULE_2__["filter"](selectedNodes, function (node) { return !node.isFolder; });
        var selectedProject = this.projectService.getSelectedProject();
        this.dialog.open(_manage_tags_to_multiple_nodes_manage_tags_to_multiple_nodes_component__WEBPACK_IMPORTED_MODULE_14__["ManageTagsToMultipleNodesComponent"], {
            data: {
                project: selectedProject,
                nodes: selectedNodes,
                operation: _constants__WEBPACK_IMPORTED_MODULE_9__["MultipleNodesTaggingOperation"].AddTags,
                distributionId: this.selectedDistributionId
            }, width: '990px', height: '600px'
        });
    };
    TreeViewComponent.prototype.removeTags = function (selectedNodes) {
        var selectedProject = this.projectService.getSelectedProject();
        this.dialog.open(_manage_tags_to_multiple_nodes_manage_tags_to_multiple_nodes_component__WEBPACK_IMPORTED_MODULE_14__["ManageTagsToMultipleNodesComponent"], {
            data: {
                project: selectedProject,
                nodes: this.selectedNodes,
                operation: _constants__WEBPACK_IMPORTED_MODULE_9__["MultipleNodesTaggingOperation"].RemoveTags,
                distributionId: this.selectedDistributionId
            }, width: '990px', height: '600px'
        });
    };
    TreeViewComponent.prototype.showContextMenu = function () {
        if (this.selectedNodes.length > 1) {
            return this.isOperationAllowed([this.cmsOperations.AddTagsToMultipleNodes, this.cmsOperations.DeleteTagsFromMultipleNodes]);
        }
        else {
            return this.isOperationAllowed([this.cmsOperations.DeleteNode, this.cmsOperations.AddNode]);
        }
    };
    TreeViewComponent.prototype.updateShortTitle = function () {
        var _this = this;
        var selectedNode = this.selectedNodes[0];
        var requestObject = {
            nodeId: selectedNode.nodeId, title: selectedNode.title,
            shortTitle: selectedNode.label, fileName: selectedNode.fileName
        };
        this.treeViewService.updateNode(requestObject).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_9__["applicationConstants"].operation.updateNode });
            var operation = new _operation_status_operation__WEBPACK_IMPORTED_MODULE_11__["Operation"](responseId, _constants__WEBPACK_IMPORTED_MODULE_9__["cmsOperation"].UpdateNode, _constants__WEBPACK_IMPORTED_MODULE_9__["eventStatus"].Wait, { nodeName: selectedNode.title });
            _this.addOperationEvent(operation);
            selectedNode.data.updateInProgress = false;
            _this.treeNodeOperationInProgress = true;
        });
    };
    TreeViewComponent.prototype.updateNodeList = function () {
        this.isTreeviewLoading = true;
        this.getNodes(this.selectedDistributionId);
    };
    TreeViewComponent.prototype.updateNodeEvent = function (response) {
        this.updateNodeList();
    };
    TreeViewComponent.prototype.deleteNodeEvent = function (response) {
        if (this.selectedNodeId === response.data.content.nodeId) {
            this.treeNodeOperationInProgress = false;
            var link = ['/project', this.selectedProjectId, 'distribution', this.selectedDistributionId];
            this.router.navigate(link);
        }
        else {
            this.isTreeviewLoading = true;
            this.getNodes(this.selectedDistributionId);
        }
    };
    TreeViewComponent.prototype.changeNodeLocationEvent = function (response) {
        this.updateNodeList();
    };
    TreeViewComponent.prototype.formatOrphanNodes = function () {
        this.orphanNodes = this.treeViewService.convertToPrimeNgTree(this.orphanNodes, 'fa-folder-open', 'fa-folder', 'fa-file-word-o', true);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], TreeViewComponent.prototype, "nodeClick", void 0);
    TreeViewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-treeview',
            template: __webpack_require__(/*! ./treeview.component.html */ "./src/app/treeview/treeview.component.html"),
            providers: [primeng_primeng__WEBPACK_IMPORTED_MODULE_1__["TreeDragDropService"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _tags_tag_cache_service__WEBPACK_IMPORTED_MODULE_6__["TagCacheService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _common_storage_service__WEBPACK_IMPORTED_MODULE_8__["StorageService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _angular_material__WEBPACK_IMPORTED_MODULE_5__["MatDialog"]])
    ], TreeViewComponent);
    return TreeViewComponent;
}(_operation_base_operation_base_component__WEBPACK_IMPORTED_MODULE_15__["OperationBaseComponent"]));



/***/ }),

/***/ "./src/app/treeview/treeview.service.ts":
/*!**********************************************!*\
  !*** ./src/app/treeview/treeview.service.ts ***!
  \**********************************************/
/*! exports provided: TreeViewService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeViewService", function() { return TreeViewService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/authoring-cache.service */ "./src/app/common/authoring-cache.service.ts");
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var TreeViewService = (function () {
    function TreeViewService(httpService, injector, authoringCacheService, localEventEmitterService) {
        this.httpService = httpService;
        this.injector = injector;
        this.authoringCacheService = authoringCacheService;
        this.localEventEmitterService = localEventEmitterService;
    }
    TreeViewService.prototype.getSelectedNodeId = function () {
        return this.authoringCacheService.selectedNodeId;
    };
    TreeViewService.prototype.getSelectedNode = function () {
        return this.authoringCacheService.getSelectedNode();
    };
    TreeViewService.prototype.setNodeIdToCache = function (nodeId) {
        this.authoringCacheService.selectedNodeId = nodeId;
    };
    TreeViewService.prototype.getNodes = function (distributionId) {
        return {
            data: this.authoringCacheService.getNodes(distributionId),
            responseObservable: this.httpService.get(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Distributions/' + distributionId + '/nodes')
        };
    };
    TreeViewService.prototype.getNodesFromCache = function (distributionId) {
        return this.authoringCacheService.getNodes(distributionId);
    };
    TreeViewService.prototype.setNodesToCache = function (distributionId, data) {
        this.authoringCacheService.setNodes(distributionId, data);
    };
    TreeViewService.prototype.convertToPrimeNgTree = function (tree, expandedIcon, collapsedIcon, fileIcon, isExpanded, expandedNodeIds) {
        if (isExpanded === void 0) { isExpanded = false; }
        if (expandedNodeIds === void 0) { expandedNodeIds = []; }
        underscore__WEBPACK_IMPORTED_MODULE_3__["each"](tree, function (node) {
            var isExpand = underscore__WEBPACK_IMPORTED_MODULE_3__["find"](expandedNodeIds, function (nodeId) { return nodeId === node['nodeId']; }.bind(this));
            node['label'] = node['shortTitle'];
            node['expanded'] = isExpanded ? isExpanded : (isExpand ? true : false);
            if (node['isFolder']) {
                node['expandedIcon'] = expandedIcon;
                node['collapsedIcon'] = collapsedIcon;
            }
            else {
                node['icon'] = fileIcon;
            }
            node['data'] = { 'documentId': node.nodeId, 'name': node.label };
            if (node['children'] && node['children'].length > 0) {
                this.convertToPrimeNgTree(node.children, expandedIcon, collapsedIcon, fileIcon, isExpanded);
            }
        }.bind(this));
        return tree;
    };
    TreeViewService.prototype.expandTree = function (array, selectedNode, searchText) {
        searchText = searchText ? searchText : '';
        underscore__WEBPACK_IMPORTED_MODULE_3__["each"](array, function (node) {
            node.expanded = node.expanded ? true : false;
            if (node.children) {
                node.children = this.expandTree(node.children, selectedNode, searchText);
                if (underscore__WEBPACK_IMPORTED_MODULE_3__["filter"](node.children, function (data) { return data.expanded === true; }).length > 0 || node.nodeId === selectedNode || searchText.length > 2) {
                    node.expanded = true;
                }
            }
            else if (node.nodeId === selectedNode || searchText.length > 2) {
                node.expanded = true;
            }
        }.bind(this));
        return array;
    };
    TreeViewService.prototype.getNode = function (nodeId) {
        var treeNodes = this.getTreeNodesFromCache();
        if (treeNodes) {
            var selectedTreeNode = underscore__WEBPACK_IMPORTED_MODULE_3__["find"](treeNodes, function (node) {
                return node.nodeId === nodeId;
            }.bind(this));
            return selectedTreeNode;
        }
        else {
            return undefined;
        }
    };
    TreeViewService.prototype.getTreeNodesFromCache = function () {
        var selectedDistributionId = this.authoringCacheService.selectedDistributionId;
        return this.authoringCacheService.getNodes(selectedDistributionId);
    };
    TreeViewService.prototype.findHierarchy = function (nodeId, hierarchyArray) {
        var treeNodes = this.getTreeNodesFromCache();
        var array = [];
        if (!treeNodes || treeNodes.length < 1) {
            return;
        }
        else {
            array = treeNodes;
        }
        hierarchyArray = hierarchyArray ? hierarchyArray : [];
        var currentNode = underscore__WEBPACK_IMPORTED_MODULE_3__["find"](array, function (node) {
            if (node.nodeId === nodeId) {
                return node;
            }
        });
        if (currentNode) {
            hierarchyArray.push(currentNode);
            if (currentNode.parentId) {
                this.findHierarchy(currentNode.parentId, hierarchyArray);
            }
        }
        return hierarchyArray;
    };
    TreeViewService.prototype.changeNodeLocation = function (requestModel) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Nodes/ChangeNodeLocation', requestModel).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TreeViewService.prototype.addNode = function (requestModel) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Nodes', requestModel).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TreeViewService.prototype.deleteNode = function (nodeId) {
        return this.httpService.delete(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Nodes/' + nodeId + '/DeleteNode').toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TreeViewService.prototype.updateNode = function (value) {
        return this.httpService.put(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/Nodes', value).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TreeViewService.prototype.addTagsToMultipleNodes = function (requestObject) {
        this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/nodes/addTagsToMultipleNodes', requestObject).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    TreeViewService.prototype.removeTagsFromMultipleNodes = function (requestObject) {
        this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].API_BASE_URL + '/api/nodes/DeleteTagsFromMultipleNodes', requestObject).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    __decorate([
        __param(4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()), __param(5, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Array, String, String, String, Object, Object]),
        __metadata("design:returntype", Array)
    ], TreeViewService.prototype, "convertToPrimeNgTree", null);
    TreeViewService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_authoring_cache_service__WEBPACK_IMPORTED_MODULE_4__["AuthoringCacheService"], _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_5__["LocalEventEmitterService"]])
    ], TreeViewService);
    return TreeViewService;
}());



/***/ }),

/***/ "./src/app/update-profile-picture/profile.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/update-profile-picture/profile.service.ts ***!
  \***********************************************************/
/*! exports provided: ProfileService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProfileService", function() { return ProfileService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _common_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/http.service */ "./src/app/common/http.service.ts");
/* harmony import */ var _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/local-event-emitter.service */ "./src/app/common/local-event-emitter.service.ts");
/* harmony import */ var _common_user_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/user.service */ "./src/app/common/user.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ProfileService = (function () {
    function ProfileService(userService, httpService, localEventEmitterService) {
        this.userService = userService;
        this.httpService = httpService;
        this.localEventEmitterService = localEventEmitterService;
    }
    ProfileService.prototype.uploadUserProfilePic = function (value) {
        return this.httpService.post(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/UserProfile/UploadUserProfilePic', value).toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    ProfileService.prototype.removeUserProfilePic = function () {
        return this.httpService.delete(_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].API_BASE_URL + '/api/UserProfile/DeleteUserProfilePic').toPromise().then(function (response) {
            return response.json().responseId;
        });
    };
    ProfileService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_common_user_service__WEBPACK_IMPORTED_MODULE_4__["UserService"], _common_http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"], _common_local_event_emitter_service__WEBPACK_IMPORTED_MODULE_3__["LocalEventEmitterService"]])
    ], ProfileService);
    return ProfileService;
}());



/***/ }),

/***/ "./src/app/update-profile-picture/update-profile-picture.component.html":
/*!******************************************************************************!*\
  !*** ./src/app/update-profile-picture/update-profile-picture.component.html ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\" class=\"profile-info\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>Update Profile Picture</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n    <div id=\"dam-dragdrop\" fxLayout=\"column\" fxLayoutAlign=\"center center\" (drop)=\"drop($event)\" (dragenter)=\"dragEnter($event)\"\r\n      (dragleave)=\"dragLeave($event)\" (dragover)=\"dragOver($event)\" ngClass=\"profile-image-wrapper\" [class]=\"dropUploadClass\">\r\n      <img-cropper #cropper [image]=\"data\" [settings]=\"cropperSettings\" [fxHide]=\"!data.image\"></img-cropper>\r\n      <div ngClass=\"image-drag-overlay\" fxLayout=\"column\" fxLayoutAlign=\"end center\">\r\n        <i class=\"mdi mdi-cloud-upload mdi-36px\"></i>\r\n        <button mat-raised-button color=\"primary\">Drag and Drop a picture here</button>\r\n      </div>\r\n      <div *ngIf=\"(!data.image && !(dropUploadClass?dropUploadClass.toString():''!==''))\">\r\n        <div class=\"mt-10\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n          Drag and Drop a picture here\r\n        </div>\r\n        <div class=\"mt-10\" fxLayout=\"column\" fxLayoutAlign=\"center center\" fxFlexFill>\r\n          OR\r\n        </div>\r\n        <div fxLayout=\"column\" class=\"mt-10\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n          <button mat-raised-button ngClass=\"secondary-btn\" (click)=\"fileInput.click()\">\r\n            <span>Upload</span>\r\n            <i class=\"mdi mdi-18px mdi-upload\"></i>\r\n            <input #fileInput class=\"none\" (change)=\"onChange($event)\" type=\"file\" style=\"display:none;\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions fxFlexFill fxLayoutAlign=\"end center\" class=\"pt-0\">\r\n    <div fxFlexFill fxLayout=\"row\">\r\n      <mat-error *ngIf=\"uploadErrorMessage\">\r\n        <i class=\"mdi mdi-information mdi-18px\"></i>\r\n        <span>{{uploadErrorMessage}}</span>\r\n      </mat-error>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"end end\" *ngIf=\"data.image\">\r\n        <button mat-raised-button ngClass=\"secondary-btn\" (click)=\"fileInput.click()\">\r\n          <span>Browse</span>\r\n          <i class=\"mdi mdi-18px mdi-upload\"></i>\r\n          <input #fileInput class=\"none\" (change)=\"onChange($event)\" type=\"file\" style=\"display:none;\" />\r\n        </button>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"end end\" *ngIf=\"data.image\" fxFlexOffset=\"20px\">\r\n        <button mat-raised-button color=\"primary\" (click)=\"data.image?uploadUserProfilePic():''\" [disabled]=\"!data.image\">Update Picture</button>\r\n      </div>\r\n    </div>\r\n    <mat-progress-bar mode=\"indeterminate\" class=\"mt-5\" *ngIf=\"isUpdateInProgress\"></mat-progress-bar>\r\n  </mat-dialog-actions>\r\n</div>"

/***/ }),

/***/ "./src/app/update-profile-picture/update-profile-picture.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/update-profile-picture/update-profile-picture.component.ts ***!
  \****************************************************************************/
/*! exports provided: UpdateProfilePictureComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateProfilePictureComponent", function() { return UpdateProfilePictureComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var ngx_img_cropper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ngx-img-cropper */ "./node_modules/ngx-img-cropper/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
/* harmony import */ var _common_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/user.service */ "./src/app/common/user.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _profile_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./profile.service */ "./src/app/update-profile-picture/profile.service.ts");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! underscore */ "./node_modules/underscore/underscore.js");
/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var UpdateProfilePictureComponent = (function (_super) {
    __extends(UpdateProfilePictureComponent, _super);
    function UpdateProfilePictureComponent(injector, userService, profileService, dialogRef) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.userService = userService;
        _this.profileService = profileService;
        _this.dialogRef = dialogRef;
        _this.dragEnteredElements = [];
        _this.initilizeCropperSettings();
        _this.data = {};
        _this.cropPosition = new ngx_img_cropper__WEBPACK_IMPORTED_MODULE_1__["CropPosition"](_constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].cropPosition.x, _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].cropPosition.y, _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].cropPosition.w, _constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].cropPosition.h);
        _this.userProfile = _this.userService.getProfile();
        return _this;
    }
    UpdateProfilePictureComponent.prototype.ngOnInit = function () {
    };
    UpdateProfilePictureComponent.prototype.initilizeCropperSettings = function () {
        this.cropperSettings = new ngx_img_cropper__WEBPACK_IMPORTED_MODULE_1__["CropperSettings"](_constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].cropperSettings);
    };
    UpdateProfilePictureComponent.prototype.getImage = function () {
        this.data.image = this.cropper.cropper.getCroppedImage(true).src;
    };
    UpdateProfilePictureComponent.prototype.updateCropPosition = function () {
        this.cropPosition = new ngx_img_cropper__WEBPACK_IMPORTED_MODULE_1__["CropPosition"](this.cropPosition.x, this.cropPosition.y, this.cropPosition.w, this.cropPosition.h);
    };
    UpdateProfilePictureComponent.prototype.resetCroppers = function () {
        this.cropper.reset();
    };
    UpdateProfilePictureComponent.prototype.onChange = function ($event) {
        var files = $event.target.files;
        this.checkFileValidation(files);
    };
    UpdateProfilePictureComponent.prototype.checkFileValidation = function (files) {
        this.resetCroppers();
        this.uploadErrorMessage = this.validateFile(files);
        if (!this.uploadErrorMessage) {
            this.ConvertFileToBase64AndUpload(files[0]);
        }
    };
    UpdateProfilePictureComponent.prototype.validateFile = function (files) {
        var returnMessage;
        if (files && files.length > 0) {
            var file = files[0];
            if (files.length > 1) {
                returnMessage = 'Only 1 file allowed';
            }
            else {
                var fileName = file.name ? file.name.toLowerCase() : '';
                returnMessage = this.validateFileExtension(fileName);
            }
        }
        else {
            returnMessage = 'Select atleast 1 file.';
        }
        return returnMessage;
    };
    UpdateProfilePictureComponent.prototype.validateFileExtension = function (filename) {
        if (!_constants__WEBPACK_IMPORTED_MODULE_2__["applicationConstants"].allowedImageExtensions.exec(filename)) {
            return 'Only .jpeg/.jpg/.png format allowed.';
        }
        return '';
    };
    UpdateProfilePictureComponent.prototype.dragEnter = function (evt) {
        this.dragEnteredElements.push(evt.target);
        this.dropUploadClass = 'dropping';
        evt.preventDefault();
    };
    UpdateProfilePictureComponent.prototype.dragLeave = function (evt) {
        this.dragEnteredElements = underscore__WEBPACK_IMPORTED_MODULE_6__["without"](this.dragEnteredElements, evt.target);
        if (this.dragEnteredElements.length === 0) {
            this.dragEnteredElements = [];
            this.dropUploadClass = '';
        }
        evt.preventDefault();
    };
    UpdateProfilePictureComponent.prototype.dragOver = function (evt) {
        this.dropUploadClass = 'dropping';
        evt.preventDefault();
    };
    UpdateProfilePictureComponent.prototype.drop = function (evt) {
        evt.stopPropagation();
        evt.preventDefault();
        this.dragEnteredElements = [];
        this.dropUploadClass = '';
        var files = evt.dataTransfer.files;
        this.checkFileValidation(files);
    };
    UpdateProfilePictureComponent.prototype.ConvertFileToBase64AndUpload = function (value) {
        var _this = this;
        var reader = new FileReader();
        reader.onloadend = function (loadEvent) {
            var image = new Image();
            image.src = loadEvent.target.result;
            _this.cropper.setImage(image);
        };
        reader.onerror = function (err) {
            console.log('error on ConvertFileToBase64AndUpload reader');
        };
        reader.onabort = function () {
            console.log('abort on ConvertFileToBase64AndUpload reader');
        };
        reader.readAsDataURL(value);
    };
    UpdateProfilePictureComponent.prototype.uploadUserProfilePic = function () {
        var _this = this;
        this.isUpdateInProgress = true;
        this.profileService.uploadUserProfilePic({ profilePicContent: this.data.image }).then(function (responseId) {
            _this.isUpdateInProgress = false;
            _this.dialogRef.close(responseId);
        }, function (error) {
            _this.isUpdateInProgress = false;
            console.log(error);
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('cropper', undefined),
        __metadata("design:type", ngx_img_cropper__WEBPACK_IMPORTED_MODULE_1__["ImageCropperComponent"])
    ], UpdateProfilePictureComponent.prototype, "cropper", void 0);
    UpdateProfilePictureComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-update-profile-picture',
            template: __webpack_require__(/*! ./update-profile-picture.component.html */ "./src/app/update-profile-picture/update-profile-picture.component.html"),
            providers: [_profile_service__WEBPACK_IMPORTED_MODULE_5__["ProfileService"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _common_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"], _profile_service__WEBPACK_IMPORTED_MODULE_5__["ProfileService"], _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatDialogRef"]])
    ], UpdateProfilePictureComponent);
    return UpdateProfilePictureComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_7__["BaseComponent"]));



/***/ }),

/***/ "./src/app/view-draft/view-draft.component.html":
/*!******************************************************!*\
  !*** ./src/app/view-draft/view-draft.component.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"column\">\r\n  <mat-toolbar color=\"primary\">\r\n    <h3 fxFlex>View Draft</h3>\r\n    <button mat-button mat-dialog-close>\r\n      <i class=\"mdi mdi-close mdi-24px\"></i>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content mat-dialog-content fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxFlexFill>\r\n    <mat-progress-bar *ngIf=\"isDataLoading\"  ngClass=\"mt-0\" mode=\"indeterminate\"></mat-progress-bar>\r\n    <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"15px\" fxFlex=\"100\" fxFlexFill slimScroll class=\"view-draft-wrapper\">\r\n      <div [fxHide]=\"isDataLoading\" [innerHTML]=\"formatCodeContent(snapshotContent)\" class=\"draft-content\">\r\n\r\n      </div>\r\n    </div>\r\n  </mat-dialog-content>\r\n</div>"

/***/ }),

/***/ "./src/app/view-draft/view-draft.component.ts":
/*!****************************************************!*\
  !*** ./src/app/view-draft/view-draft.component.ts ***!
  \****************************************************/
/*! exports provided: ViewDraftComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewDraftComponent", function() { return ViewDraftComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base.component */ "./src/app/base.component.ts");
/* harmony import */ var _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../new-draft/draft.service */ "./src/app/new-draft/draft.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/app/constants.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var ViewDraftComponent = (function (_super) {
    __extends(ViewDraftComponent, _super);
    function ViewDraftComponent(injector, draftService, data, sanitizer) {
        var _this = _super.call(this, injector, { title: undefined }) || this;
        _this.injector = injector;
        _this.draftService = draftService;
        _this.data = data;
        _this.sanitizer = sanitizer;
        return _this;
    }
    ViewDraftComponent.prototype.ngOnInit = function () {
        this.getDraftContent();
    };
    ViewDraftComponent.prototype.getDraftContent = function () {
        var _this = this;
        this.isDataLoading = true;
        this.draftService.getSnapshotContent(this.data.snapshotId).then(function (responseId) {
            _this.subscribeForResponse({ subscriptionTopic: responseId, operation: _constants__WEBPACK_IMPORTED_MODULE_5__["applicationConstants"].operation.viewDraftSnapshot });
        }, function (error) {
            _this.isDataLoading = false;
            console.log(error);
        });
    };
    ViewDraftComponent.prototype.viewDraftSnapshotEvent = function (notification) {
        this.isDataLoading = false;
        this.snapshotContent = notification.data.content.draftContent;
    };
    ViewDraftComponent.prototype.formatCodeContent = function (assetContent) {
        if (assetContent) {
            return assetContent.split(' ').join('&nbsp;').replace(/(?:\r\n|\r|\n)/g, '<br />');
        }
        else {
            return '';
        }
    };
    ViewDraftComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-view-draft',
            template: __webpack_require__(/*! ./view-draft.component.html */ "./src/app/view-draft/view-draft.component.html")
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"], _new_draft_draft_service__WEBPACK_IMPORTED_MODULE_2__["DraftService"], Object, _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["DomSanitizer"]])
    ], ViewDraftComponent);
    return ViewDraftComponent;
}(_base_component__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    userDomainSuffix: '@unitydevlab.local',
    production: false,
    isCaptchaDisabled: true,
    gDocRefreshInterval: 15000,
    draftContentRefreshInterval: 10000,
    recentlyViewedDrafts: 10,
    API_BASE_URL: 'https://DocWorksMasterTempApiStaging.azurewebsites.net',
    diffplexdemo: 'http://diffplexdemo.azurewebsites.net',
    // API_BASE_URL: 'http://localhost:54523',
    // firestore: {
    //     apiKey: 'AIzaSyBtwhjbuO-SXnbwvvOjzx6GtOXURx_dd7s',
    //     authDomain: 'unitycms-001.iam.gserviceaccount.com',
    //     databaseURL: 'https://unitycms-001.firebaseio.com',
    //     projectId: 'unitycms-001',
    //     storageBucket: 'unitycms-001.appspot.com',
    //     messagingSenderId: '619395976567'
    // },
    // firestore: {
    //    apiKey: 'AIzaSyCCdJ8Muk6DCrj4rRf4KfLikEytJklFff8',
    //    authDomain: 'unity-cms-9a4b2.firebaseapp.com',
    //    databaseURL: 'https://unity-cms-9a4b2.firebaseio.com',
    //    projectId: 'unity-cms-9a4b2',
    //    storageBucket: 'unity-cms-9a4b2.appspot.com',
    //    messagingSenderId: '536341090142'
    // },
    firestore: {
        apiKey: 'AIzaSyACT8N5Z9q9CfVHsckou4lxuCrEZoMZDaI',
        authDomain: 'unity-qa-stg-docworks.iam.gserviceaccount.com',
        databaseURL: 'https://unity-qa-stg-docworks.firebaseio.com',
        projectId: 'unity-qa-stg-docworks',
        storageBucket: 'unity-qa-stg-docworks.appspot.com',
        messagingSenderId: '536606502871'
    },
    captcha: {
        API_BASE_URL: 'http://DocWorksMasterTempApiStaging.azurewebsites.net',
        RECAPTCHA_SITE_KEY: '6LcTQDIUAAAAAAJ-_IAA83-txP5zjVfuAGMIaDv0',
    },
    assetMaxFileSize: 1024 * 1024,
    pageSize: 20,
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_4__);





if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"]);


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! D:\DocWorks\DocWorks.Frontend\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map